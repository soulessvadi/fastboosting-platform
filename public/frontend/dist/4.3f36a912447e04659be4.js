(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"3qrz":function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t("+TkM");var e=function(){function n(n,l,t){this._service=n,this.route=l,this.router=t,this.activeTab=5,this.Math=Math,this.responseMessage=null,this.responseSuccess=!1,this.loading=!1,this.order_categories=null,this.categories=null,this.factor=1,this.pricelists={boosting:null,medal_boost:null,calibration:null,training:null,training_services:null},this.boosting_prices=[{v:"0.00",c:"\u20bd"},{v:"0.00",c:"$"}],this.medal_price=[{v:"0.00",c:"\u20bd"},{v:"0.00",c:"$"}],this.medal_from=0,this.medal_till=1,this.cat_calc={factor:1,price:500}}return n.prototype.ngOnInit=function(){this.fetch()},n.prototype.fetch=function(){var n=this;this._service.getPricelists().subscribe(function(l){n.pricelists.boosting=l.body.boosting||null,n.pricelists.medal_boost=l.body.medal_boost||null,n.pricelists.calibration=l.body.calibration||null,n.pricelists.training=l.body.training||null,n.pricelists.training_services=l.body.training_services||null,n.categories=l.body.categories,n.order_categories=l.body.order_categories||null,n.medal_price=n.medalPrice()})},n.prototype.catReorder=function(){this.categories=this.categories.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.catAdd=function(){this.categories.unshift({id:1,from:0,till:0,factor:0,name:null})},n.prototype.catRemove=function(n){this.categories=this.categories.filter(function(l){return l!=n})},n.prototype.catSave=function(){var n=this;this.loading=!0,this._service.savePricelistCategories(this.categories).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.ocatReorder=function(){this.order_categories=this.order_categories.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.ocatAdd=function(){this.order_categories.unshift({id:1,from:0,till:0,factor:0,name:null})},n.prototype.ocatRemove=function(n){this.order_categories=this.order_categories.filter(function(l){return l!=n})},n.prototype.ocatSave=function(){var n=this;this.loading=!0,this._service.savePricelistOrderCategories(this.order_categories).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.caliReorder=function(){this.pricelists.calibration=this.pricelists.calibration.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.caliAdd=function(){this.pricelists.calibration.unshift({id:1,name:null,rub:0,usd:0})},n.prototype.caliRemove=function(n){this.pricelists.calibration=this.pricelists.calibration.filter(function(l){return l!=n})},n.prototype.caliSave=function(){var n=this;this.loading=!0,this._service.saveCaliPricelist(this.pricelists.calibration).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.trainingReorder=function(){this.pricelists.training=this.pricelists.training.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.trainingAdd=function(){this.pricelists.training.unshift({id:1,hours:1,rub:0,usd:0})},n.prototype.trainingRemove=function(n){this.pricelists.training=this.pricelists.training.filter(function(l){return l!=n})},n.prototype.trainingSave=function(){var n=this;this.loading=!0,this._service.saveTrainingPricelist(this.pricelists.training).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.trainingServiceReorder=function(){this.pricelists.training_services=this.pricelists.training_services.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.trainingServiceAdd=function(){this.pricelists.training_services.unshift({id:1,name:null,rub:0,usd:0})},n.prototype.trainingServiceRemove=function(n){this.pricelists.training_services=this.pricelists.training_services.filter(function(l){return l!=n})},n.prototype.trainingServiceSave=function(){var n=this;this.loading=!0,this._service.saveTrainingServicePricelist(this.pricelists.training_services).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.medalPrice=function(){var n=this,l=0,t=0;return this.pricelists.medal_boost.forEach(function(e,o){o>=n.medal_from&&o<n.medal_till&&n.medal_from!=n.medal_till&&(l+=e.rub,t+=e.usd)}),this.medal_price=[{v:l,c:"\u20bd"},{v:t,c:"$"}]},n.prototype.medalSave=function(){var n=this;this.loading=!0,this._service.saveMedalPricelist(this.pricelists.medal_boost).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.onSlide=function(n){this.boosting_prices=this.boostPrices(n.from,n.to)},n.prototype.boostingReorder=function(){this.pricelists.boosting=this.pricelists.boosting.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.boostingAdd=function(){this.pricelists.boosting.unshift({id:1,from:0,till:0,rub:0,usd:0,volume:0})},n.prototype.boostingRemove=function(n){this.pricelists.boosting=this.pricelists.boosting.filter(function(l){return l!=n})},n.prototype.boostingSave=function(){var n=this;this.loading=!0,this._service.saveBoostPricelist(this.pricelists.boosting).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.boostPrices=function(n,l){var t=this,e=parseInt(n)||0,o=parseInt(l)||0,i=0,r=0;return this.pricelists.boosting.forEach(function(n,l){var u;t.inRange(e,n.from,n.till)&&e<=o&&(i+=(u=o>=n.till?n.till-e:o-e)/n.volume*n.rub,r+=u/n.volume*n.usd,e+=u)}),[{v:i,c:"\u20bd"},{v:r,c:"$"}]},n.prototype.inRange=function(n,l,t){return n>=l&&n<=t},n}()},"6crv":function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){}},"7d7z":function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t("3qrz"),t("ltv5"),t("lzXN"),t("gAVq");var e=function(){}},"7tsg":function(n,l,t){"use strict";var e=t("CcnG"),o=(t("OIx2"),function(){function n(n){this.el=n,this.summernote={},this.placeholder=null,this.content=null,this.change=new e.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;$(this.el.nativeElement).summernote(Object.assign(this.summernote,{tabsize:2,placeholder:this.placeholder,callbacks:{onChange:function(l,t){n.change.emit(l)}}})),this.content&&$(this.el.nativeElement).summernote("code",this.content)},n}()),i=t("DbR8"),r=t("Bx3A"),u=t("aR0S"),a=function(){function n(n){this.el=n,this.change=new e.EventEmitter}return n.prototype.ngOnInit=function(){var n=this;t.e(29).then(function(){var n=t("PXmU");return"object"==typeof n&&n&&n.__esModule?n:Object.assign({},"object"==typeof n&&n,{default:n})}).then(function(){n.render()})},n.prototype.render=function(){var n=this;$(this.el.nativeElement).timepicker({showSeconds:!0,showMeridian:!1}),$(this.el.nativeElement).on("changeTime.timepicker",function(l){n.change.emit(l.time)})},n}(),s=t("gIcY"),c=t("Ip0R"),d=t("ZYCi"),p=t("HOhg"),h=t("NgN1"),f=t("ZYjt"),g=t("f7q6"),v=t("5BiO"),m=t("gAVq"),b=t("+TkM");t.d(l,"a",function(){return R});var y=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function C(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,2,"div",[["class","margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"iframe",[["allowfullscreen",""],["frameborder","0"],["height","210"],["mozallowfullscreen",""],["webkitallowfullscreen",""],["width","100%"]],[[8,"src",5]],null,null,null,null)),e["\u0275ppd"](3,1)],null,function(n,l){var t=l.component;n(l,2,0,e["\u0275unv"](l,2,0,n(l,3,0,e["\u0275nov"](l.parent.parent,1),t.post.video)))})}function x(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==(n.component.post.preview=t)&&e),e},null,null)),e["\u0275did"](1,81920,null,0,o,[e.ElementRef],{summernote:[0,"summernote"],placeholder:[1,"placeholder"],content:[2,"content"]},{change:"change"}),e["\u0275pod"](2,{height:0})],function(n,l){var t=l.component;n(l,1,0,n(l,2,0,100),"\u041f\u0440\u0435\u0432\u044c\u044e",t.post.preview)},null)}function w(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"div",[],null,[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==(n.component.post.text=t)&&e),e},null,null)),e["\u0275did"](1,81920,null,0,o,[e.ElementRef],{summernote:[0,"summernote"],placeholder:[1,"placeholder"],content:[2,"content"]},{change:"change"}),e["\u0275pod"](2,{height:0})],function(n,l){var t=l.component;n(l,1,0,n(l,2,0,180),"\u041f\u043e\u043b\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",t.post.text)},null)}function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,8,"ul",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,7,"li",[["class","message"],["style","opacity: 0.5;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,0,"img",[["class","online"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,5,"span",[["class","message-text"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,1,"a",[["class","username"],["style","width: 100%;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](5,null,["",""])),(n()(),e["\u0275eld"](6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["",""])),e["\u0275pid"](0,i.a,[r.a])],null,function(n,l){var t=l.component;n(l,2,0,e["\u0275inlineInterpolate"](2,"",t._service.store_avatars,"",t._service.user.avatar?t._service.user.avatar:"mock.png",""),e["\u0275inlineInterpolate"](1,"",t._service.user.author,"")),n(l,5,0,t._service.user.nick_name),n(l,7,0,e["\u0275unv"](l,7,0,e["\u0275nov"](l,8).transform("\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0432\u044b\u043c")))})}function S(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,15,"li",[["class","message"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,0,"img",[["class","online"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"span",[["class","message-text"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,5,"a",[["class","username"],["style","width: 100%;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,[""," "])),(n()(),e["\u0275eld"](5,0,null,null,3,"time",[["class","text-muted pull-right ultra-light"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-user-clock"]],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["\xa0 ",""])),e["\u0275ppd"](8,2),(n()(),e["\u0275eld"](9,0,null,null,0,"span",[["class","message-text-content"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,5,"ul",[["class","list-inline font-xs"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,3,"a",[["class","text-info"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addRecipient(t,n.context.$implicit.author)&&e),e},null,null)),(n()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-reply-all"]],null,null,null,null,null)),(n()(),e["\u0275ted"](14,null,[" ",""])),e["\u0275pid"](0,i.a,[r.a])],null,function(n,l){n(l,1,0,e["\u0275inlineInterpolate"](2,"",l.component._service.store_avatars,"",l.context.$implicit.avatar?l.context.$implicit.avatar:"mock.png",""),e["\u0275inlineInterpolate"](1,"",l.context.$implicit.author,"")),n(l,4,0,l.context.$implicit.author),n(l,7,0,e["\u0275unv"](l,7,0,n(l,8,0,e["\u0275nov"](l.parent.parent,2),l.context.$implicit.created_at,"DD.MM.YY HH:mm"))),n(l,9,0,l.context.$implicit.text),n(l,14,0,e["\u0275unv"](l,14,0,e["\u0275nov"](l,15).transform("\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c")))})}function T(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,137,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,108,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,60,"div",[],[[2,"col-md-3",null]],null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,4,"div",[["class","padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,3,"label",[["class","image-uploader"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,[[1,0],["coverimg",1]],null,0,"img",[["class","img-responsive"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-pen"]],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,0,"input",[["type","file"]],null,[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.onimgloaded(t)&&e),e},null,null)),(n()(),e["\u0275eld"](8,0,null,null,54,"ul",[["class","list-inline padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,53,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),e["\u0275ted"](12,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](14,0,null,null,13,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275eld"](15,0,null,null,6,"div",[["class","input-group column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,3,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],[[null,"change"]],function(n,l,t){var e=!0,o=n.component;return"change"===l&&(e=!1!==(o.post.published_at=o.getDate(o.post.published_at,t,"date"))&&e),e},null,null)),e["\u0275did"](17,81920,null,0,u.a,[e.ElementRef],{saUiDatepicker:[0,"saUiDatepicker"]},{change:"change"}),e["\u0275pod"](18,{dateFormat:0}),e["\u0275ppd"](19,2),(n()(),e["\u0275eld"](20,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](21,0,null,null,0,"i",[["class","fas fa-calendar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,5,"div",[["class","input-group column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](23,0,null,null,2,"input",[["class","form-control"],["smartTimepicker",""],["type","text"]],[[8,"value",0]],[[null,"change"]],function(n,l,t){var e=!0,o=n.component;return"change"===l&&(e=!1!==(o.post.published_at=o.getDate(o.post.published_at,t,"time"))&&e),e},null,null)),e["\u0275did"](24,81920,null,0,a,[e.ElementRef],null,{change:"change"}),e["\u0275ppd"](25,2),(n()(),e["\u0275eld"](26,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](27,0,null,null,0,"i",[["class","fas fa-clock"]],null,null,null,null,null)),(n()(),e["\u0275eld"](28,0,null,null,17,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e["\u0275eld"](29,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),e["\u0275ted"](30,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](32,0,null,null,13,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275eld"](33,0,null,null,6,"div",[["class","input-group column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](34,0,null,null,3,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],[[null,"change"]],function(n,l,t){var e=!0,o=n.component;return"change"===l&&(e=!1!==(o.post.expires_at=o.getDate(o.post.expires_at,t,"date"))&&e),e},null,null)),e["\u0275did"](35,81920,null,0,u.a,[e.ElementRef],{saUiDatepicker:[0,"saUiDatepicker"]},{change:"change"}),e["\u0275pod"](36,{dateFormat:0}),e["\u0275ppd"](37,2),(n()(),e["\u0275eld"](38,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](39,0,null,null,0,"i",[["class","fas fa-calendar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](40,0,null,null,5,"div",[["class","input-group column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](41,0,null,null,2,"input",[["class","form-control"],["smartTimepicker",""],["type","text"]],[[8,"value",0]],[[null,"change"]],function(n,l,t){var e=!0,o=n.component;return"change"===l&&(e=!1!==(o.post.expires_at=o.getDate(o.post.expires_at,t,"time"))&&e),e},null,null)),e["\u0275did"](42,81920,null,0,a,[e.ElementRef],null,{change:"change"}),e["\u0275ppd"](43,2),(n()(),e["\u0275eld"](44,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](45,0,null,null,0,"i",[["class","fas fa-clock"]],null,null,null,null,null)),(n()(),e["\u0275eld"](46,0,null,null,16,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](47,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](48,0,null,null,12,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](49,0,null,null,11,"span",[["class","smart-form"]],null,null,null,null,null)),(n()(),e["\u0275eld"](50,0,null,null,3,"label",[["class","label"]],null,null,null,null,null)),(n()(),e["\u0275eld"](51,0,null,null,0,"i",[["class","fas fa-video"]],null,null,null,null,null)),(n()(),e["\u0275ted"](52,null,[" ",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](54,0,null,null,6,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](55,0,null,null,5,"input",[["class","form-control"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,56)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,56).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,56)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,56)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.post.video=t)&&o),o},null,null)),e["\u0275did"](56,16384,null,0,s.d,[e.Renderer2,e.ElementRef,[2,s.a]],null,null),e["\u0275prd"](1024,null,s.f,function(n){return[n]},[s.d]),e["\u0275did"](58,671744,null,0,s.k,[[8,null],[8,null],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,s.g,null,[s.k]),e["\u0275did"](60,16384,null,0,s.h,[[4,s.g]],null,null),(n()(),e["\u0275and"](16777216,null,null,1,null,C)),e["\u0275did"](62,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](63,0,null,null,46,"div",[["class","padding-left-0"]],[[2,"col-md-9",null]],null,null,null,null)),(n()(),e["\u0275eld"](64,0,null,null,31,"h3",[["class","margin-top-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](65,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e["\u0275eld"](66,0,null,null,9,"div",[["class","input-group column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](67,0,null,null,6,"input",[["class","form-control"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,68)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,68).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,68)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,68)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.post.tags=t)&&o),o},null,null)),e["\u0275did"](68,16384,null,0,s.d,[e.Renderer2,e.ElementRef,[2,s.a]],null,null),e["\u0275prd"](1024,null,s.f,function(n){return[n]},[s.d]),e["\u0275did"](70,671744,null,0,s.k,[[8,null],[8,null],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,s.g,null,[s.k]),e["\u0275did"](72,16384,null,0,s.h,[[4,s.g]],null,null),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](74,0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(n()(),e["\u0275eld"](75,0,null,null,0,"i",[["class","fas fa-hashtag"]],null,null,null,null,null)),(n()(),e["\u0275eld"](76,0,null,null,2,"small",[["class","text-muted fs-10"]],null,null,null,null,null)),(n()(),e["\u0275ted"](77,null,[""," #news | #about | #anything"])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](79,0,null,null,8,"div",[["class","smart-form"]],null,null,null,null,null)),(n()(),e["\u0275eld"](80,0,null,null,7,"label",[["class","textarea"]],null,null,null,null,null)),(n()(),e["\u0275eld"](81,0,null,null,6,"textarea",[["class","form-control"],["rows","2"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,82)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,82).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,82)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,82)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.post.title=t)&&o),o},null,null)),e["\u0275did"](82,16384,null,0,s.d,[e.Renderer2,e.ElementRef,[2,s.a]],null,null),e["\u0275prd"](1024,null,s.f,function(n){return[n]},[s.d]),e["\u0275did"](84,671744,null,0,s.k,[[8,null],[8,null],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,s.g,null,[s.k]),e["\u0275did"](86,16384,null,0,s.h,[[4,s.g]],null,null),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](88,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e["\u0275eld"](89,0,null,null,6,"small",[["class","font-xs"]],null,null,null,null,null)),(n()(),e["\u0275eld"](90,0,null,null,5,"i",[],null,null,null,null,null)),(n()(),e["\u0275ted"](91,null,[""," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](93,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,94).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](94,671744,null,0,d.q,[d.n,d.a,c.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),e["\u0275ted"](95,null,["",""])),(n()(),e["\u0275and"](16777216,null,null,1,null,x)),e["\u0275did"](97,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](99,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](100,0,null,null,2,"a",[["class","btn btn-success"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.publish(o.post)&&e),e},null,null)),(n()(),e["\u0275ted"](101,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](103,0,null,null,2,"a",[["class","btn btn-danger"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.remove(o.post)&&e),e},null,null)),(n()(),e["\u0275ted"](104,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](106,0,null,null,3,"a",[["class","btn btn-success pull-right"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.save()&&e),e},null,null)),(n()(),e["\u0275eld"](107,0,null,null,0,"i",[["class","fas"]],[[2,"fa-check",null],[2,"fa-sync-alt",null],[2,"loading",null]],null,null,null,null)),(n()(),e["\u0275ted"](108,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](110,0,null,null,27,"div",[["class","row replies"]],null,null,null,null,null)),(n()(),e["\u0275eld"](111,0,null,null,26,"div",[["class","col-xs-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](112,0,null,null,9,"div",[["class","chat-body no-padding profile-message"]],null,null,null,null,null)),(n()(),e["\u0275eld"](113,0,null,null,3,"div",[["class","timeline-seperator text-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](114,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](115,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](118,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](119,0,null,null,2,"ul",[["class","custom-scroll"],["style","min-height: 20px;max-height: 100vh;"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,S)),e["\u0275did"](121,802816,null,0,c.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](122,0,null,null,15,"div",[["class","well padding-bottom-10 chat-form"]],null,null,null,null,null)),(n()(),e["\u0275eld"](123,0,[["message",1]],null,6,"textarea",[["class","form-control"],["rows","2"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,124)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,124).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,124)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,124)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.post.new_message=t)&&o),o},null,null)),e["\u0275did"](124,16384,null,0,s.d,[e.Renderer2,e.ElementRef,[2,s.a]],null,null),e["\u0275prd"](1024,null,s.f,function(n){return[n]},[s.d]),e["\u0275did"](126,671744,null,0,s.k,[[8,null],[8,null],[8,null],[6,s.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,s.g,null,[s.k]),e["\u0275did"](128,16384,null,0,s.h,[[4,s.g]],null,null),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](130,0,null,null,2,"div",[["class","note"]],null,null,null,null,null)),(n()(),e["\u0275ted"](131,null,[" ",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](133,0,null,null,4,"div",[["class","margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](134,0,null,null,2,"button",[["class","btn btn-sm btn-primary pull-right"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.postMessage(t,o.post)&&e),e},null,null)),(n()(),e["\u0275ted"](135,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](137,0,null,null,0,"br",[["clear","both"]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,17,0,n(l,18,0,"dd.mm.yy")),n(l,24,0),n(l,35,0,n(l,36,0,"dd.mm.yy")),n(l,42,0),n(l,58,0,t.post.video),n(l,62,0,t._service.isUrl(t.post.video)),n(l,70,0,t.post.tags),n(l,84,0,t.post.title),n(l,94,0,e["\u0275inlineInterpolate"](1,"/govt/users/",t.post.author_id,"")),n(l,97,0,t.post),n(l,99,0,t.post),n(l,118,0,!(null!=t.post.comments&&t.post.comments.length)),n(l,121,0,t.post.comments),n(l,126,0,t.post.new_message)},function(n,l){var t=l.component;n(l,2,0,!0),n(l,5,0,e["\u0275inlineInterpolate"](1,"",t._service.store_shared+t.post.cover,""),e["\u0275inlineInterpolate"](1,"",t.post.title,"")),n(l,12,0,e["\u0275unv"](l,12,0,e["\u0275nov"](l,13).transform("\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438"))),n(l,16,0,e["\u0275unv"](l,16,0,n(l,19,0,e["\u0275nov"](l.parent,0),t.post.published_at,"DD.MM.YYYY"))),n(l,23,0,e["\u0275unv"](l,23,0,n(l,25,0,e["\u0275nov"](l.parent,0),t.post.published_at,"HH:mm:ss"))),n(l,30,0,e["\u0275unv"](l,30,0,e["\u0275nov"](l,31).transform("\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0432 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u0445"))),n(l,34,0,e["\u0275unv"](l,34,0,n(l,37,0,e["\u0275nov"](l.parent,0),t.post.expires_at,"DD.MM.YYYY"))),n(l,41,0,e["\u0275unv"](l,41,0,n(l,43,0,e["\u0275nov"](l.parent,0),t.post.expires_at,"HH:mm:ss"))),n(l,52,0,e["\u0275unv"](l,52,0,e["\u0275nov"](l,53).transform("\u0412\u0438\u0434\u0435\u043e"))),n(l,55,0,e["\u0275nov"](l,60).ngClassUntouched,e["\u0275nov"](l,60).ngClassTouched,e["\u0275nov"](l,60).ngClassPristine,e["\u0275nov"](l,60).ngClassDirty,e["\u0275nov"](l,60).ngClassValid,e["\u0275nov"](l,60).ngClassInvalid,e["\u0275nov"](l,60).ngClassPending),n(l,63,0,!0),n(l,67,0,e["\u0275unv"](l,67,0,e["\u0275nov"](l,73).transform("\u0425\u0435\u0448\u0442\u044d\u0433\u0438")),e["\u0275nov"](l,72).ngClassUntouched,e["\u0275nov"](l,72).ngClassTouched,e["\u0275nov"](l,72).ngClassPristine,e["\u0275nov"](l,72).ngClassDirty,e["\u0275nov"](l,72).ngClassValid,e["\u0275nov"](l,72).ngClassInvalid,e["\u0275nov"](l,72).ngClassPending),n(l,77,0,e["\u0275unv"](l,77,0,e["\u0275nov"](l,78).transform("\u041f\u0440\u0438\u043c\u0435\u0440"))),n(l,81,0,e["\u0275unv"](l,81,0,e["\u0275nov"](l,87).transform("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438")),e["\u0275nov"](l,86).ngClassUntouched,e["\u0275nov"](l,86).ngClassTouched,e["\u0275nov"](l,86).ngClassPristine,e["\u0275nov"](l,86).ngClassDirty,e["\u0275nov"](l,86).ngClassValid,e["\u0275nov"](l,86).ngClassInvalid,e["\u0275nov"](l,86).ngClassPending),n(l,91,0,e["\u0275unv"](l,91,0,e["\u0275nov"](l,92).transform("\u0410\u0432\u0442\u043e\u0440"))),n(l,93,0,e["\u0275nov"](l,94).target,e["\u0275nov"](l,94).href),n(l,95,0,t.post.author),n(l,101,0,t.post.publish?"\u0421\u043d\u044f\u0442\u044c \u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438":e["\u0275unv"](l,101,0,e["\u0275nov"](l,102).transform("\u041f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))),n(l,104,0,e["\u0275unv"](l,104,0,e["\u0275nov"](l,105).transform("\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))),n(l,107,0,!t.loading,t.loading,t.loading),n(l,108,0,e["\u0275unv"](l,108,0,e["\u0275nov"](l,109).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,115,0,e["\u0275unv"](l,115,0,e["\u0275nov"](l,116).transform("\u041a\u041e\u041c\u041c\u0415\u041d\u0422\u0410\u0420\u0418\u0418"))),n(l,123,0,e["\u0275unv"](l,123,0,e["\u0275nov"](l,129).transform("\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439, \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0438\u043b\u0438\u0447\u0438\u044f")),e["\u0275nov"](l,128).ngClassUntouched,e["\u0275nov"](l,128).ngClassTouched,e["\u0275nov"](l,128).ngClassPristine,e["\u0275nov"](l,128).ngClassDirty,e["\u0275nov"](l,128).ngClassValid,e["\u0275nov"](l,128).ngClassInvalid,e["\u0275nov"](l,128).ngClassPending),n(l,131,0,e["\u0275unv"](l,131,0,e["\u0275nov"](l,132).transform("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u043c"))),n(l,135,0,e["\u0275unv"](l,135,0,e["\u0275nov"](l,136).transform("\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))})}function M(n){return e["\u0275vid"](0,[e["\u0275pid"](0,p.b,[]),e["\u0275pid"](0,h.a,[f.c]),e["\u0275pid"](0,p.a,[]),e["\u0275qud"](671088640,1,{coverimg:0}),(n()(),e["\u0275eld"](4,0,null,null,9,"div",[["class","animated fadeInUp"],["id","content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,2,"sa-big-breadcrumbs",[["class","col-xs-12"],["icon","fas fa-newspaper"]],null,null,null,g.b,g.a)),e["\u0275did"](7,114688,null,0,v.a,[c.Location],{icon:[0,"icon"],items:[1,"items"]},null),e["\u0275pad"](8,3),(n()(),e["\u0275eld"](9,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,2,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,T)),e["\u0275did"](13,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,7,0,"fas fa-newspaper",n(l,8,0,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","\u041d\u043e\u0432\u043e\u0441\u0442\u0438",null==t.post?null:t.post.title)),n(l,13,0,t.post)},null)}var R=e["\u0275ccf"]("news-post",m.a,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"news-post",[],null,null,null,M,y)),e["\u0275did"](1,114688,null,0,m.a,[b.a,d.a,d.n],null,null)],function(n,l){n(l,1,0)},null)},{},{},[])},"8DYZ":function(n,l,t){"use strict";t.d(l,"a",function(){return E});var e=t("CcnG"),o=t("DbR8"),i=t("Bx3A"),r=t("Ip0R"),u=t("gIcY"),a=t("ZYCi"),s=t("HOhg"),c=t("NgN1"),d=t("ZYjt"),p=t("f7q6"),h=t("5BiO"),f=t("lzXN"),g=t("+TkM"),v=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function m(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.preview)})}function b(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(n,l){n(l,0,0,l.parent.context.$implicit.text)})}function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=0!=(n.parent.context.$implicit.full_view=!0)&&e),e},null,null)),(n()(),e["\u0275ted"](1,null,["",""])),e["\u0275pid"](0,o.a,[i.a])],null,function(n,l){n(l,1,0,e["\u0275unv"](l,1,0,e["\u0275nov"](l,2).transform("\u041f\u043e\u043b\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442")))})}function C(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"a",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=0!=(n.parent.context.$implicit.full_view=!1)&&e),e},null,null)),(n()(),e["\u0275ted"](1,null,["",""])),e["\u0275pid"](0,o.a,[i.a])],null,function(n,l){n(l,1,0,e["\u0275unv"](l,1,0,e["\u0275nov"](l,2).transform("\u041f\u0440\u0435\u0432\u044c\u044e")))})}function x(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,8,"ul",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,7,"li",[["class","message"],["style","opacity: 0.5;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,0,"img",[["class","online"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,5,"span",[["class","message-text"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,1,"a",[["class","username"],["style","width: 100%;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](5,null,["",""])),(n()(),e["\u0275eld"](6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["",""])),e["\u0275pid"](0,o.a,[i.a])],null,function(n,l){var t=l.component;n(l,2,0,e["\u0275inlineInterpolate"](2,"",t._service.store_avatars,"",t._service.user.avatar?t._service.user.avatar:"mock.png",""),e["\u0275inlineInterpolate"](1,"",t._service.user.author,"")),n(l,5,0,t._service.user.nick_name),n(l,7,0,e["\u0275unv"](l,7,0,e["\u0275nov"](l,8).transform("\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0432\u044b\u043c")))})}function w(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,15,"li",[["class","message"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,0,"img",[["class","online"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"span",[["class","message-text"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,5,"a",[["class","username"],["style","width: 100%;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,[""," "])),(n()(),e["\u0275eld"](5,0,null,null,3,"time",[["class","text-muted pull-right ultra-light"]],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,0,"i",[["class","fas fa-user-clock"]],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["\xa0 ",""])),e["\u0275ppd"](8,2),(n()(),e["\u0275eld"](9,0,null,null,0,"span",[["class","message-text-content"]],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,5,"ul",[["class","list-inline font-xs"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,3,"a",[["class","text-info"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addRecipient(t,n.context.$implicit.author)&&e),e},null,null)),(n()(),e["\u0275eld"](13,0,null,null,0,"i",[["class","fas fa-reply-all"]],null,null,null,null,null)),(n()(),e["\u0275ted"](14,null,[" ",""])),e["\u0275pid"](0,o.a,[i.a])],null,function(n,l){n(l,1,0,e["\u0275inlineInterpolate"](2,"",l.component._service.store_avatars,"",l.context.$implicit.avatar?l.context.$implicit.avatar:"mock.png",""),e["\u0275inlineInterpolate"](1,"",l.context.$implicit.author,"")),n(l,4,0,l.context.$implicit.author),n(l,7,0,e["\u0275unv"](l,7,0,n(l,8,0,e["\u0275nov"](l.parent.parent.parent,0),l.context.$implicit.created_at,"DD.MM.YY HH:mm"))),n(l,9,0,l.context.$implicit.text),n(l,14,0,e["\u0275unv"](l,14,0,e["\u0275nov"](l,15).transform("\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c")))})}function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,29,"div",[["class","col-xs-12 replies"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,9,"div",[["class","chat-body no-padding profile-message"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,3,"div",[["class","timeline-seperator text-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275and"](16777216,null,null,1,null,x)),e["\u0275did"](7,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](8,0,null,null,2,"ul",[["class","custom-scroll"],["style","min-height: 20px;max-height: 100vh;"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](10,802816,null,0,r.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](11,0,null,null,18,"div",[["class","well padding-bottom-10 margin-top-10 chat-form"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,[["message",1]],null,6,"textarea",[["class","form-control"],["rows","2"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.parent.context.$implicit.new_message=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,u.d,[e.Renderer2,e.ElementRef,[2,u.a]],null,null),e["\u0275prd"](1024,null,u.f,function(n){return[n]},[u.d]),e["\u0275did"](15,671744,null,0,u.k,[[8,null],[8,null],[8,null],[6,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,u.g,null,[u.k]),e["\u0275did"](17,16384,null,0,u.h,[[4,u.g]],null,null),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](19,0,null,null,2,"div",[["class","note"]],null,null,null,null,null)),(n()(),e["\u0275ted"](20,null,[" ",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](22,0,null,null,7,"div",[["class","margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](23,0,null,null,2,"button",[["class","btn btn-sm btn-warning"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=0!=(n.parent.context.$implicit.show_comments=!1)&&e),e},null,null)),(n()(),e["\u0275ted"](24,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](26,0,null,null,2,"button",[["class","btn btn-sm btn-primary pull-right"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.postMessage(t,n.parent.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275ted"](27,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](29,0,null,null,0,"br",[["clear","both"]],null,null,null,null,null))],function(n,l){n(l,7,0,!(null!=l.parent.context.$implicit.comments&&l.parent.context.$implicit.comments.length)),n(l,10,0,l.parent.context.$implicit.comments),n(l,15,0,l.parent.context.$implicit.new_message)},function(n,l){n(l,4,0,e["\u0275unv"](l,4,0,e["\u0275nov"](l,5).transform("\u041a\u041e\u041c\u041c\u0415\u041d\u0422\u0410\u0420\u0418\u0418"))),n(l,12,0,e["\u0275unv"](l,12,0,e["\u0275nov"](l,18).transform("\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439, \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u0438\u043b\u0438\u0447\u0438\u044f")),e["\u0275nov"](l,17).ngClassUntouched,e["\u0275nov"](l,17).ngClassTouched,e["\u0275nov"](l,17).ngClassPristine,e["\u0275nov"](l,17).ngClassDirty,e["\u0275nov"](l,17).ngClassValid,e["\u0275nov"](l,17).ngClassInvalid,e["\u0275nov"](l,17).ngClassPending),n(l,20,0,e["\u0275unv"](l,20,0,e["\u0275nov"](l,21).transform("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u043c"))),n(l,24,0,e["\u0275unv"](l,24,0,e["\u0275nov"](l,25).transform("\u0421\u043a\u0440\u044b\u0442\u044c"))),n(l,27,0,e["\u0275unv"](l,27,0,e["\u0275nov"](l,28).transform("\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c")))})}function S(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,49,null,null,null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,45,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,13,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,0,"img",[["class","img-responsive"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,11,"ul",[["class","list-inline padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](5,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,2,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=e),e},null,null)),(n()(),e["\u0275ted"](8,null,[" "," "])),e["\u0275ppd"](9,2),(n()(),e["\u0275eld"](10,0,null,null,5,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-comments"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=0!=(n.context.$implicit.show_comments=!n.context.$implicit.show_comments)&&e),e},null,null)),(n()(),e["\u0275eld"](13,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e["\u0275ted"](14,null,[" ",": ",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](16,0,null,null,30,"div",[["class","col-md-8 padding-left-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,10,"h3",[["class","margin-top-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=e),e},null,null)),(n()(),e["\u0275ted"](19,null,[" "," "])),(n()(),e["\u0275eld"](20,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e["\u0275eld"](21,0,null,null,6,"small",[["class","font-xs"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,5,"i",[],null,null,null,null,null)),(n()(),e["\u0275ted"](23,null,[""," "])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](25,0,null,null,2,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,26).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](26,671744,null,0,a.q,[a.n,a.a,r.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),e["\u0275ted"](27,null,["",""])),(n()(),e["\u0275eld"](28,0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,m)),e["\u0275did"](30,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,b)),e["\u0275did"](32,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,y)),e["\u0275did"](34,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,C)),e["\u0275did"](36,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](37,0,null,null,2,"a",[["class","btn btn-success"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.publish(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275ted"](38,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](40,0,null,null,3,"a",[["class","btn btn-warning"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e["\u0275nov"](n,41).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o},null,null)),e["\u0275did"](41,671744,null,0,a.q,[a.n,a.a,r.LocationStrategy],{routerLink:[0,"routerLink"]},null),(n()(),e["\u0275ted"](42,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](44,0,null,null,2,"a",[["class","btn btn-danger"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.remove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275ted"](45,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](47,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](49,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](0,null,null,0))],function(n,l){n(l,26,0,e["\u0275inlineInterpolate"](1,"/govt/users/",l.context.$implicit.author_id,"")),n(l,30,0,!l.context.$implicit.full_view),n(l,32,0,l.context.$implicit.full_view),n(l,34,0,!l.context.$implicit.full_view),n(l,36,0,l.context.$implicit.full_view),n(l,41,0,e["\u0275inlineInterpolate"](1,"/govt/settings/news/",l.context.$implicit.id,"")),n(l,49,0,l.context.$implicit.show_comments)},function(n,l){n(l,3,0,e["\u0275inlineInterpolate"](1,"",l.component._service.store_shared+l.context.$implicit.cover,""),e["\u0275inlineInterpolate"](1,"",l.context.$implicit.title,"")),n(l,8,0,e["\u0275unv"](l,8,0,n(l,9,0,e["\u0275nov"](l.parent,0),l.context.$implicit.published_at,"DD.MM.YYYY HH:mm"))),n(l,14,0,e["\u0275unv"](l,14,0,e["\u0275nov"](l,15).transform("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438")),(null==l.context.$implicit.comments?null:l.context.$implicit.comments.length)||"\u043d\u0435\u0442"),n(l,19,0,l.context.$implicit.title),n(l,23,0,e["\u0275unv"](l,23,0,e["\u0275nov"](l,24).transform("\u0410\u0432\u0442\u043e\u0440"))),n(l,25,0,e["\u0275nov"](l,26).target,e["\u0275nov"](l,26).href),n(l,27,0,l.context.$implicit.author),n(l,28,0,l.context.$implicit.preview),n(l,38,0,l.context.$implicit.publish?"\u0421\u043d\u044f\u0442\u044c \u0441 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438":e["\u0275unv"](l,38,0,e["\u0275nov"](l,39).transform("\u041f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"))),n(l,40,0,e["\u0275nov"](l,41).target,e["\u0275nov"](l,41).href),n(l,42,0,e["\u0275unv"](l,42,0,e["\u0275nov"](l,43).transform("\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))),n(l,45,0,e["\u0275unv"](l,45,0,e["\u0275nov"](l,46).transform("\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))})}function T(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.pageChange(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275ted"](2,null,["",""]))],null,function(n,l){n(l,0,0,l.context.$implicit==l.component.filters.page),n(l,2,0,l.context.$implicit)})}function M(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,8,"ul",[["class","pagination pagination-md no-margin"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.pageChange(o.pagination.prev)&&e),e},null,null)),(n()(),e["\u0275eld"](3,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,T)),e["\u0275did"](5,802816,null,0,r.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](6,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,1,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(e=!1!==o.pageChange(o.pagination.next)&&e),e},null,null)),(n()(),e["\u0275eld"](8,0,null,null,0,"i",[["class","fas fa-chevron-right"]],null,null,null,null,null))],function(n,l){n(l,5,0,l.component.pagination.pages)},null)}function R(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"li",[["class","pull-left padding-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,2,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(o.filters.keyword=n.context.$implicit,e=!1!==o.fetch()&&e),e},null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"span",[["class","badge bg-color-blue"]],null,null,null,null,null)),(n()(),e["\u0275ted"](3,null,["",""]))],null,function(n,l){n(l,3,0,l.context.$implicit)})}function L(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,4,"a",[],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,2,"span",[["class","badge bg-color-blue pull-right"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.loadedVideo=n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275ted"](3,null,["",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275ted"](5,null,[" "," "]))],null,function(n,l){n(l,3,0,e["\u0275unv"](l,3,0,e["\u0275nov"](l,4).transform("\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c"))),n(l,5,0,l.context.$implicit.title)})}function I(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,3,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,2,"div",[["class","margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,1,"iframe",[["allowfullscreen",""],["frameborder","0"],["height","210"],["mozallowfullscreen",""],["webkitallowfullscreen",""],["width","100%"]],[[8,"src",5]],null,null,null,null)),e["\u0275ppd"](3,1)],null,function(n,l){var t=l.component;n(l,2,0,e["\u0275unv"](l,2,0,n(l,3,0,e["\u0275nov"](l.parent,1),t.loadedVideo.video)))})}function N(n){return e["\u0275vid"](0,[e["\u0275pid"](0,s.a,[]),e["\u0275pid"](0,c.a,[d.c]),(n()(),e["\u0275eld"](2,0,null,null,55,"div",[["class","animated fadeInUp"],["id","content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,2,"sa-big-breadcrumbs",[["class","col-xs-12"],["icon","fas fa-newspaper"]],null,null,null,p.b,p.a)),e["\u0275did"](5,114688,null,0,h.a,[r.Location],{icon:[0,"icon"],items:[1,"items"]},null),e["\u0275pad"](6,2),(n()(),e["\u0275eld"](7,0,null,null,50,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,6,"div",[["class","col-sm-9"]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,5,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,S)),e["\u0275did"](11,802816,null,0,r.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](12,0,null,null,2,"div",[["class","text-right"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,M)),e["\u0275did"](14,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](15,0,null,null,42,"div",[["class","col-sm-3"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,14,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,3,"h5",[["class","margin-top-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(n()(),e["\u0275ted"](19,null,[" ",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](21,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,23)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,23).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,23)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,23)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.filters.keyword=t)&&o),"keyup.enter"===l&&(o=!1!==i.fetch()&&o),o},null,null)),e["\u0275did"](23,16384,null,0,u.d,[e.Renderer2,e.ElementRef,[2,u.a]],null,null),e["\u0275prd"](1024,null,u.f,function(n){return[n]},[u.d]),e["\u0275did"](25,671744,null,0,u.k,[[8,null],[8,null],[8,null],[6,u.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,u.g,null,[u.k]),e["\u0275did"](27,16384,null,0,u.h,[[4,u.g]],null,null),(n()(),e["\u0275eld"](28,0,null,null,2,"span",[["class","input-group-btn"]],null,null,null,null,null)),(n()(),e["\u0275eld"](29,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.fetch()&&e),e},null,null)),(n()(),e["\u0275eld"](30,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(n()(),e["\u0275eld"](31,0,null,null,4,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](32,0,null,null,3,"button",[["class","btn btn-md btn-primary btn-block"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addPost()&&e),e},null,null)),(n()(),e["\u0275eld"](33,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275ted"](34,null,[" ",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](36,0,null,null,9,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](37,0,null,null,3,"h5",[["class","margin-top-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](38,0,null,null,0,"i",[["class","fa fa-tags"]],null,null,null,null,null)),(n()(),e["\u0275ted"](39,null,[" ",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](41,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](42,0,null,null,3,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](43,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,R)),e["\u0275did"](45,802816,null,0,r.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](46,0,null,null,11,"div",[["class","well padding-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](47,0,null,null,3,"h5",[["class","margin-top-0"]],null,null,null,null,null)),(n()(),e["\u0275eld"](48,0,null,null,0,"i",[["class","fas fa-video"]],null,null,null,null,null)),(n()(),e["\u0275ted"](49,null,[" ",""])),e["\u0275pid"](0,o.a,[i.a]),(n()(),e["\u0275eld"](51,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](52,0,null,null,3,"div",[["class","col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](53,0,null,null,2,"ul",[["class","list-group no-margin"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,L)),e["\u0275did"](55,802816,null,0,r.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275and"](16777216,null,null,1,null,I)),e["\u0275did"](57,16384,null,0,r.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,5,0,"fas fa-newspaper",n(l,6,0,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),n(l,11,0,t.news),n(l,14,0,t.pagination),n(l,25,0,t.filters.keyword),n(l,45,0,t.tags),n(l,55,0,t.videos),n(l,57,0,t.loadedVideo)},function(n,l){n(l,19,0,e["\u0275unv"](l,19,0,e["\u0275nov"](l,20).transform("\u041f\u043e\u0438\u0441\u043a"))),n(l,22,0,e["\u0275nov"](l,27).ngClassUntouched,e["\u0275nov"](l,27).ngClassTouched,e["\u0275nov"](l,27).ngClassPristine,e["\u0275nov"](l,27).ngClassDirty,e["\u0275nov"](l,27).ngClassValid,e["\u0275nov"](l,27).ngClassInvalid,e["\u0275nov"](l,27).ngClassPending),n(l,34,0,e["\u0275unv"](l,34,0,e["\u0275nov"](l,35).transform("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c"))),n(l,39,0,e["\u0275unv"](l,39,0,e["\u0275nov"](l,40).transform("\u0425\u0435\u0448\u0442\u044d\u0433\u0438"))),n(l,49,0,e["\u0275unv"](l,49,0,e["\u0275nov"](l,50).transform("\u0412\u0438\u0434\u0435\u043e")))})}var E=e["\u0275ccf"]("news-list",f.a,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"news-list",[],null,null,null,N,v)),e["\u0275did"](1,114688,null,0,f.a,[g.a,a.a,a.n],null,null)],function(n,l){n(l,1,0)},null)},{},{},[])},DfsG:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){}},NgN1:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){function n(n){this.sanitizer=n}return n.prototype.transform=function(n){return this.sanitizer.bypassSecurityTrustResourceUrl(n)},n}()},OIx2:function(n,l,t){!function(n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var l=function(){function l(n,l,t,e){this.markup=n,this.children=l,this.options=t,this.callback=e}return l.prototype.render=function(l){var t=n(this.markup);if(this.options&&this.options.contents&&t.html(this.options.contents),this.options&&this.options.className&&t.addClass(this.options.className),this.options&&this.options.data&&n.each(this.options.data,function(n,l){t.attr("data-"+n,l)}),this.options&&this.options.click&&t.on("click",this.options.click),this.children){var e=t.find(".note-children-container");this.children.forEach(function(n){n.render(e.length?e:t)})}return this.callback&&this.callback(t,this.options),this.options&&this.options.callback&&this.options.callback(t),l&&l.append(t),t},l}(),e=function(t,e){return function(){var o="object"==typeof arguments[1]?arguments[1]:arguments[0],i=n.isArray(arguments[0])?arguments[0]:[];return o&&o.children&&(i=o.children),new l(t,i,o,e)}},o=e('<div class="note-editor note-frame panel"/>'),i=e('<div class="note-toolbar-wrapper panel-default"><div class="note-toolbar panel-heading" role="toolbar"></div></div>'),r=e('<div class="note-editing-area"/>'),u=e('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),a=e('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),s=e(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),c=e('<div class="note-editor"/>'),d=e(['  <output class="note-status-output" aria-live="polite"/>','<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'].join("")),p=e('<div class="note-btn-group btn-group">'),h=e('<ul class="dropdown-menu" role="list">',function(l,t){var e=n.isArray(t.items)?t.items.map(function(n){var l="string"==typeof n?n:n.value||"",e=t.template?t.template(n):n,o="object"==typeof n?n.option:void 0;return'<li role="listitem" aria-label="'+n+'"><a href="#" data-value="'+l+'"'+(void 0!==o?' data-option="'+o+'"':"")+">"+e+"</a></li>"}).join(""):t.items;l.html(e).attr({"aria-label":t.title})}),f=e('<ul class="dropdown-menu note-check" role="list">',function(l,t){var e=n.isArray(t.items)?t.items.map(function(n){var l="string"==typeof n?n:n.value||"",e=t.template?t.template(n):n;return'<li role="listitem" aria-label="'+n+'"><a href="#" data-value="'+l+'">'+v(t.checkClassName)+" "+e+"</a></li>"}).join(""):t.items;l.html(e).attr({"aria-label":t.title})}),g=e('<div class="note-color-palette"/>',function(n,l){for(var t=[],e=0,o=l.colors.length;e<o;e++){for(var i=l.eventName,r=l.colors[e],u=l.colorsName[e],a=[],s=0,c=r.length;s<c;s++){var d=r[s],p=u[s];a.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',i,'" ','data-value="',d,'" ','title="',p,'" ','aria-label="',p,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}t.push('<div class="note-color-row">'+a.join("")+"</div>")}n.html(t.join("")),l.tooltip&&n.find(".note-color-btn").tooltip({container:l.container,trigger:"hover",placement:"bottom"})}),v=function(n,l){return"<"+(l=l||"i")+' class="'+n+'"/>'},m={editor:o,toolbar:i,editingArea:r,codable:u,editable:a,statusbar:s,airEditor:c,airEditable:d,buttonGroup:p,dropdown:h,dropdownButtonContents:function(n,l){return n+" "+v(l.icons.caret,"span")},dropdownCheck:f,palette:g,dialog:e('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(n,l){l.fade&&n.addClass("fade"),n.attr({"aria-label":l.title}),n.html(['<div class="modal-dialog">','  <div class="modal-content">',l.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+l.title+"</h4>    </div>":"",'    <div class="modal-body">'+l.body+"</div>",l.footer?'    <div class="modal-footer">'+l.footer+"</div>":"","  </div>","</div>"].join(""))}),popover:e(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(n,l){n.addClass(void 0!==l.direction?l.direction:"bottom"),l.hideArrow&&n.find(".arrow").hide()}),checkbox:e('<div class="checkbox"></div>',function(n,l){n.html([" <label"+(l.id?' for="'+l.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(l.id?' id="'+l.id+'"':""),l.checked?" checked":"",' aria-checked="'+(l.checked?"true":"false")+'"/>',l.text?l.text:"","</label>"].join(""))}),icon:v,options:{},button:function(n,l){return e('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(n,l){l&&l.tooltip&&n.attr({title:l.tooltip,"aria-label":l.tooltip}).tooltip({container:l.container,trigger:"hover",placement:"bottom"})})(n,l)},toggleBtn:function(n,l){n.toggleClass("disabled",!l),n.attr("disabled",!l)},toggleBtnActive:function(n,l){n.toggleClass("active",l)},onDialogShown:function(n,l){n.one("shown.bs.modal",l)},onDialogHidden:function(n,l){n.one("hidden.bs.modal",l)},showDialog:function(n){n.modal("show")},hideDialog:function(n){n.modal("hide")},createLayout:function(n,l){var t=(l.airMode?m.airEditor([m.editingArea([m.airEditable()])]):m.editor([m.toolbar(),m.editingArea([m.codable(),m.editable()]),m.statusbar()])).render();return t.insertAfter(n),{note:n,editor:t,toolbar:t.find(".note-toolbar"),editingArea:t.find(".note-editing-area"),editable:t.find(".note-editable"),codable:t.find(".note-codable"),statusbar:t.find(".note-statusbar")}},removeLayout:function(n,l){n.html(l.editable.html()),l.editor.remove(),n.show()}},b=0,y={eq:function(n){return function(l){return n===l}},eq2:function(n,l){return n===l},peq2:function(n){return function(l,t){return l[n]===t[n]}},ok:function(){return!0},fail:function(){return!1},self:function(n){return n},not:function(n){return function(){return!n.apply(n,arguments)}},and:function(n,l){return function(t){return n(t)&&l(t)}},invoke:function(n,l){return function(){return n[l].apply(n,arguments)}},uniqueId:function(n){var l=++b+"";return n?n+l:l},rect2bnd:function(n){var l=$(document);return{top:n.top+l.scrollTop(),left:n.left+l.scrollLeft(),width:n.right-n.left,height:n.bottom-n.top}},invertObject:function(n){var l={};for(var t in n)n.hasOwnProperty(t)&&(l[n[t]]=t);return l},namespaceToCamel:function(n,l){return(l=l||"")+n.split(".").map(function(n){return n.substring(0,1).toUpperCase()+n.substring(1)}).join("")},debounce:function(n,l,t){var e,o=this;return function(){var i=o,r=arguments,u=t&&!e;clearTimeout(e),e=setTimeout(function(){e=null,t||n.apply(i,r)},l),u&&n.apply(i,r)}}};function C(n){return n[0]}function x(n){return n[n.length-1]}function w(n){return n.slice(1)}function k(l,t){return n.inArray(t,l)}function S(n,l){return-1!==k(n,l)}var T,M={head:C,last:x,initial:function(n){return n.slice(0,n.length-1)},tail:w,prev:function(n,l){var t=k(n,l);return-1===t?null:n[t-1]},next:function(n,l){var t=k(n,l);return-1===t?null:n[t+1]},find:function(n,l){for(var t=0,e=n.length;t<e;t++){var o=n[t];if(l(o))return o}},contains:S,all:function(n,l){for(var t=0,e=n.length;t<e;t++)if(!l(n[t]))return!1;return!0},sum:function(n,l){return l=l||y.self,n.reduce(function(n,t){return n+l(t)},0)},from:function(n){for(var l=[],t=n.length,e=-1;++e<t;)l[e]=n[e];return l},isEmpty:function(n){return!n||!n.length},clusterBy:function(n,l){return n.length?w(n).reduce(function(n,t){var e=x(n);return l(x(e),t)?e[e.length]=t:n[n.length]=[t],n},[[C(n)]]):[]},compact:function(n){for(var l=[],t=0,e=n.length;t<e;t++)n[t]&&l.push(n[t]);return l},unique:function(n){for(var l=[],t=0,e=n.length;t<e;t++)S(l,n[t])||l.push(n[t]);return l}},R=t("PDX0"),L=navigator.userAgent,I=/MSIE|Trident/i.test(L);if(I){var N=/MSIE (\d+[.]\d+)/.exec(L);N&&(T=parseFloat(N[1])),(N=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(L))&&(T=parseFloat(N[1]))}var E=/Edge\/\d+/.test(L),D=!!window.CodeMirror;if(!D&&R)try{D=!0}catch(n){}var A="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,P=I||E?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",O={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:I,isEdge:E,isFF:!E&&/firefox/i.test(L),isPhantom:/PhantomJS/i.test(L),isWebkit:!E&&/webkit/i.test(L),isChrome:!E&&/chrome/i.test(L),isSafari:!E&&/safari/i.test(L),browserVersion:T,jqueryVersion:parseFloat(n.fn.jquery),isSupportAmd:R,isSupportTouch:A,hasCodeMirror:D,isFontInstalled:function(l){var t="Comic Sans MS"===l?"Courier New":"Comic Sans MS",e=n("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=e.css("fontFamily",t).width(),i=e.css("fontFamily",l+","+t).width();return e.remove(),o!==i},isW3CRangeSupport:!!document.createRange,inputEventName:P},F=String.fromCharCode(160);function H(l){return l&&n(l).hasClass("note-editable")}function _(n){return n=n.toUpperCase(),function(l){return l&&l.nodeName.toUpperCase()===n}}function z(n){return n&&3===n.nodeType}function B(n){return n&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT/.test(n.nodeName.toUpperCase())}function W(n){return!H(n)&&n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName.toUpperCase())}var U=_("PRE"),V=_("LI"),j=_("TABLE"),K=_("DATA");function G(n){return!(J(n)||Y(n)||q(n)||W(n)||j(n)||Z(n)||K(n))}function Y(n){return n&&/^UL|^OL/.test(n.nodeName.toUpperCase())}var q=_("HR");function X(n){return n&&/^TD|^TH/.test(n.nodeName.toUpperCase())}var Z=_("BLOCKQUOTE");function J(n){return X(n)||Z(n)||H(n)}var Q=_("A"),nn=_("BODY"),ln=O.isMSIE&&O.browserVersion<11?"&nbsp;":"<br>";function tn(n){return z(n)?n.nodeValue.length:n?n.childNodes.length:0}function en(n){var l=tn(n);return 0===l||!z(n)&&1===l&&n.innerHTML===ln||!(!M.all(n.childNodes,z)||""!==n.innerHTML)}function on(n){B(n)||tn(n)||(n.innerHTML=ln)}function rn(n,l){for(;n;){if(l(n))return n;if(H(n))break;n=n.parentNode}return null}function un(n,l){l=l||y.fail;var t=[];return rn(n,function(n){return H(n)||t.push(n),l(n)}),t}function an(n,l){l=l||y.fail;for(var t=[];n&&!l(n);)t.push(n),n=n.nextSibling;return t}function sn(n,l){var t=l.nextSibling,e=l.parentNode;return t?e.insertBefore(n,t):e.appendChild(n),n}function cn(l,t){return n.each(t,function(n,t){l.appendChild(t)}),l}function dn(n){return 0===n.offset}function pn(n){return n.offset===tn(n.node)}function hn(n){return dn(n)||pn(n)}function fn(n,l){for(;n&&n!==l;){if(0!==vn(n))return!1;n=n.parentNode}return!0}function gn(n,l){if(!l)return!1;for(;n&&n!==l;){if(vn(n)!==tn(n.parentNode)-1)return!1;n=n.parentNode}return!0}function vn(n){for(var l=0;n=n.previousSibling;)l+=1;return l}function mn(n){return!!(n&&n.childNodes&&n.childNodes.length)}function bn(n,l){var t,e;if(0===n.offset){if(H(n.node))return null;t=n.node.parentNode,e=vn(n.node)}else mn(n.node)?e=tn(t=n.node.childNodes[n.offset-1]):(t=n.node,e=l?0:n.offset-1);return{node:t,offset:e}}function yn(n,l){var t,e;if(tn(n.node)===n.offset){if(H(n.node))return null;t=n.node.parentNode,e=vn(n.node)+1}else mn(n.node)?(t=n.node.childNodes[n.offset],e=0):(t=n.node,e=l?tn(n.node):n.offset+1);return{node:t,offset:e}}function Cn(n,l){return n.node===l.node&&n.offset===l.offset}function xn(n,l){var t=l&&l.isSkipPaddingBlankHTML,e=l&&l.isNotSplitEdgePoint;if(hn(n)&&(z(n.node)||e)){if(dn(n))return n.node;if(pn(n))return n.node.nextSibling}if(z(n.node))return n.node.splitText(n.offset);var o=n.node.childNodes[n.offset],i=sn(n.node.cloneNode(!1),n.node);return cn(i,an(o)),t||(on(n.node),on(i)),i}function wn(n,l,t){var e=un(l.node,y.eq(n));return e.length?1===e.length?xn(l,t):e.reduce(function(n,e){return n===l.node&&(n=xn(l,t)),xn({node:e,offset:n?vn(n):tn(e)},t)}):null}function kn(n){return document.createElement(n)}function Sn(n,l){if(n&&n.parentNode){if(n.removeNode)return n.removeNode(l);var t=n.parentNode;if(!l){for(var e=[],o=0,i=n.childNodes.length;o<i;o++)e.push(n.childNodes[o]);for(o=0,i=e.length;o<i;o++)t.insertBefore(e[o],n)}t.removeChild(n)}}var Tn=_("TEXTAREA");function Mn(n,l){var t=Tn(n[0])?n.val():n.html();return l?t.replace(/[\n\r]/g,""):t}var Rn={NBSP_CHAR:F,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:ln,emptyPara:"<p>"+ln+"</p>",makePredByNodeName:_,isEditable:H,isControlSizing:function(l){return l&&n(l).hasClass("note-control-sizing")},isText:z,isElement:function(n){return n&&1===n.nodeType},isVoid:B,isPara:W,isPurePara:function(n){return W(n)&&!V(n)},isHeading:function(n){return n&&/^H[1-7]/.test(n.nodeName.toUpperCase())},isInline:G,isBlock:y.not(G),isBodyInline:function(n){return G(n)&&!rn(n,W)},isBody:nn,isParaInline:function(n){return G(n)&&!!rn(n,W)},isPre:U,isList:Y,isTable:j,isData:K,isCell:X,isBlockquote:Z,isBodyContainer:J,isAnchor:Q,isDiv:_("DIV"),isLi:V,isBR:_("BR"),isSpan:_("SPAN"),isB:_("B"),isU:_("U"),isS:_("S"),isI:_("I"),isImg:_("IMG"),isTextarea:Tn,isEmpty:en,isEmptyAnchor:y.and(Q,en),isClosestSibling:function(n,l){return n.nextSibling===l||n.previousSibling===l},withClosestSiblings:function(n,l){l=l||y.ok;var t=[];return n.previousSibling&&l(n.previousSibling)&&t.push(n.previousSibling),t.push(n),n.nextSibling&&l(n.nextSibling)&&t.push(n.nextSibling),t},nodeLength:tn,isLeftEdgePoint:dn,isRightEdgePoint:pn,isEdgePoint:hn,isLeftEdgeOf:fn,isRightEdgeOf:gn,isLeftEdgePointOf:function(n,l){return dn(n)&&fn(n.node,l)},isRightEdgePointOf:function(n,l){return pn(n)&&gn(n.node,l)},prevPoint:bn,nextPoint:yn,isSamePoint:Cn,isVisiblePoint:function(n){if(z(n.node)||!mn(n.node)||en(n.node))return!0;var l=n.node.childNodes[n.offset-1],t=n.node.childNodes[n.offset];return!(l&&!B(l)||t&&!B(t))},prevPointUntil:function(n,l){for(;n;){if(l(n))return n;n=bn(n)}return null},nextPointUntil:function(n,l){for(;n;){if(l(n))return n;n=yn(n)}return null},isCharPoint:function(n){if(!z(n.node))return!1;var l=n.node.nodeValue.charAt(n.offset-1);return l&&" "!==l&&l!==F},walkPoint:function(n,l,t,e){for(var o=n;o&&(t(o),!Cn(o,l));)o=yn(o,e&&n.node!==o.node&&l.node!==o.node)},ancestor:rn,singleChildAncestor:function(n,l){for(n=n.parentNode;n&&1===tn(n);){if(l(n))return n;if(H(n))break;n=n.parentNode}return null},listAncestor:un,lastAncestor:function(n,l){var t=un(n);return M.last(t.filter(l))},listNext:an,listPrev:function(n,l){l=l||y.fail;for(var t=[];n&&!l(n);)t.push(n),n=n.previousSibling;return t},listDescendant:function(n,l){var t=[];return l=l||y.ok,function e(o){n!==o&&l(o)&&t.push(o);for(var i=0,r=o.childNodes.length;i<r;i++)e(o.childNodes[i])}(n),t},commonAncestor:function(l,t){for(var e=un(l),o=t;o;o=o.parentNode)if(n.inArray(o,e)>-1)return o;return null},wrap:function(l,t){var e=l.parentNode,o=n("<"+t+">")[0];return e.insertBefore(o,l),o.appendChild(l),o},insertAfter:sn,appendChildNodes:cn,position:vn,hasChildren:mn,makeOffsetPath:function(n,l){return un(l,y.eq(n)).map(vn).reverse()},fromOffsetPath:function(n,l){for(var t=n,e=0,o=l.length;e<o;e++)t=t.childNodes.length<=l[e]?t.childNodes[t.childNodes.length-1]:t.childNodes[l[e]];return t},splitTree:wn,splitPoint:function(n,l){var t,e,o=l?W:J,i=un(n.node,o),r=M.last(i)||n.node;o(r)?(t=i[i.length-2],e=r):e=(t=r).parentNode;var u=t&&wn(t,n,{isSkipPaddingBlankHTML:l,isNotSplitEdgePoint:l});return u||e!==n.node||(u=n.node.childNodes[n.offset]),{rightNode:u,container:e}},create:kn,createText:function(n){return document.createTextNode(n)},remove:Sn,removeWhile:function(n,l){for(;n&&!H(n)&&l(n);){var t=n.parentNode;Sn(n),n=t}},replace:function(n,l){if(n.nodeName.toUpperCase()===l.toUpperCase())return n;var t=kn(l);return n.style.cssText&&(t.style.cssText=n.style.cssText),cn(t,M.from(n.childNodes)),sn(t,n),Sn(n),t},html:function(l,t){var e=Mn(l);return t&&(e=e.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(n,l,t){t=t.toUpperCase();var e=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(t)&&!!l,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(t);return n+(e||o?"\n":"")}),e=n.trim(e)),e},value:Mn,posFromPlaceholder:function(l){var t=n(l),e=t.offset(),o=t.outerHeight(!0);return{left:e.left,top:e.top+o}},attachEvents:function(n,l){Object.keys(l).forEach(function(t){n.on(t,l[t])})},detachEvents:function(n,l){Object.keys(l).forEach(function(t){n.off(t,l[t])})},isCustomStyleTag:function(n){return n&&!z(n)&&M.contains(n.classList,"note-styletag")}};n.summernote=n.summernote||{lang:{}},n.extend(n.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Ln={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},In={isEdit:function(n){return M.contains([Ln.BACKSPACE,Ln.TAB,Ln.ENTER,Ln.SPACE,Ln.DELETE],n)},isMove:function(n){return M.contains([Ln.LEFT,Ln.UP,Ln.RIGHT,Ln.DOWN],n)},nameFromCode:y.invertObject(Ln),code:Ln};function Nn(n,l){var t,e,o=n.parentElement(),i=document.body.createTextRange(),r=M.from(o.childNodes);for(t=0;t<r.length;t++)if(!Rn.isText(r[t])){if(i.moveToElementText(r[t]),i.compareEndPoints("StartToStart",n)>=0)break;e=r[t]}if(0!==t&&Rn.isText(r[t-1])){var u=document.body.createTextRange(),a=null;u.moveToElementText(e||o),u.collapse(!e),a=e?e.nextSibling:o.firstChild;var s=n.duplicate();s.setEndPoint("StartToStart",u);for(var c=s.text.replace(/[\r\n]/g,"").length;c>a.nodeValue.length&&a.nextSibling;)c-=a.nodeValue.length,a=a.nextSibling;l&&a.nextSibling&&Rn.isText(a.nextSibling)&&c===a.nodeValue.length&&(c-=a.nodeValue.length,a=a.nextSibling),o=a,t=c}return{cont:o,offset:t}}function En(n){var l=function(n,t){var e,o;if(Rn.isText(n)){var i=Rn.listPrev(n,y.not(Rn.isText)),r=M.last(i).previousSibling;e=r||n.parentNode,t+=M.sum(M.tail(i),Rn.nodeLength),o=!r}else{if(Rn.isText(e=n.childNodes[t]||n))return l(e,0);t=0,o=!1}return{node:e,collapseToStart:o,offset:t}},t=document.body.createTextRange(),e=l(n.node,n.offset);return t.moveToElementText(e.node),t.collapse(e.collapseToStart),t.moveStart("character",e.offset),t}var Dn=function(){function l(n,l,t,e){this.sc=n,this.so=l,this.ec=t,this.eo=e,this.isOnEditable=this.makeIsOn(Rn.isEditable),this.isOnList=this.makeIsOn(Rn.isList),this.isOnAnchor=this.makeIsOn(Rn.isAnchor),this.isOnCell=this.makeIsOn(Rn.isCell),this.isOnData=this.makeIsOn(Rn.isData)}return l.prototype.nativeRange=function(){if(O.isW3CRangeSupport){var n=document.createRange();return n.setStart(this.sc,this.so),n.setEnd(this.ec,this.eo),n}var l=En({node:this.sc,offset:this.so});return l.setEndPoint("EndToEnd",En({node:this.ec,offset:this.eo})),l},l.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},l.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},l.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},l.prototype.select=function(){var n=this.nativeRange();if(O.isW3CRangeSupport){var l=document.getSelection();l.rangeCount>0&&l.removeAllRanges(),l.addRange(n)}else n.select();return this},l.prototype.scrollIntoView=function(l){var t=n(l).height();return l.scrollTop+t<this.sc.offsetTop&&(l.scrollTop+=Math.abs(l.scrollTop+t-this.sc.offsetTop)),this},l.prototype.normalize=function(){var n=function(n,l){if(Rn.isVisiblePoint(n)&&!Rn.isEdgePoint(n)||Rn.isVisiblePoint(n)&&Rn.isRightEdgePoint(n)&&!l||Rn.isVisiblePoint(n)&&Rn.isLeftEdgePoint(n)&&l||Rn.isVisiblePoint(n)&&Rn.isBlock(n.node)&&Rn.isEmpty(n.node))return n;var t=Rn.ancestor(n.node,Rn.isBlock);if((Rn.isLeftEdgePointOf(n,t)||Rn.isVoid(Rn.prevPoint(n).node))&&!l||(Rn.isRightEdgePointOf(n,t)||Rn.isVoid(Rn.nextPoint(n).node))&&l){if(Rn.isVisiblePoint(n))return n;l=!l}return(l?Rn.nextPointUntil(Rn.nextPoint(n),Rn.isVisiblePoint):Rn.prevPointUntil(Rn.prevPoint(n),Rn.isVisiblePoint))||n},t=n(this.getEndPoint(),!1),e=this.isCollapsed()?t:n(this.getStartPoint(),!0);return new l(e.node,e.offset,t.node,t.offset)},l.prototype.nodes=function(n,l){n=n||y.ok;var t=l&&l.includeAncestor,e=l&&l.fullyContains,o=this.getStartPoint(),i=this.getEndPoint(),r=[],u=[];return Rn.walkPoint(o,i,function(l){var o;Rn.isEditable(l.node)||(e?(Rn.isLeftEdgePoint(l)&&u.push(l.node),Rn.isRightEdgePoint(l)&&M.contains(u,l.node)&&(o=l.node)):o=t?Rn.ancestor(l.node,n):l.node,o&&n(o)&&r.push(o))},!0),M.unique(r)},l.prototype.commonAncestor=function(){return Rn.commonAncestor(this.sc,this.ec)},l.prototype.expand=function(n){var t=Rn.ancestor(this.sc,n),e=Rn.ancestor(this.ec,n);if(!t&&!e)return new l(this.sc,this.so,this.ec,this.eo);var o=this.getPoints();return t&&(o.sc=t,o.so=0),e&&(o.ec=e,o.eo=Rn.nodeLength(e)),new l(o.sc,o.so,o.ec,o.eo)},l.prototype.collapse=function(n){return n?new l(this.sc,this.so,this.sc,this.so):new l(this.ec,this.eo,this.ec,this.eo)},l.prototype.splitText=function(){var n=this.sc===this.ec,t=this.getPoints();return Rn.isText(this.ec)&&!Rn.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Rn.isText(this.sc)&&!Rn.isEdgePoint(this.getStartPoint())&&(t.sc=this.sc.splitText(this.so),t.so=0,n&&(t.ec=t.sc,t.eo=this.eo-this.so)),new l(t.sc,t.so,t.ec,t.eo)},l.prototype.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),e=t.nodes(null,{fullyContains:!0}),o=Rn.prevPointUntil(t.getStartPoint(),function(n){return!M.contains(e,n.node)}),i=[];return n.each(e,function(n,l){var t=l.parentNode;o.node!==t&&1===Rn.nodeLength(t)&&i.push(t),Rn.remove(l,!1)}),n.each(i,function(n,l){Rn.remove(l,!1)}),new l(o.node,o.offset,o.node,o.offset).normalize()},l.prototype.makeIsOn=function(n){return function(){var l=Rn.ancestor(this.sc,n);return!!l&&l===Rn.ancestor(this.ec,n)}},l.prototype.isLeftEdgeOf=function(n){if(!Rn.isLeftEdgePoint(this.getStartPoint()))return!1;var l=Rn.ancestor(this.sc,n);return l&&Rn.isLeftEdgeOf(this.sc,l)},l.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},l.prototype.wrapBodyInlineWithPara=function(){if(Rn.isBodyContainer(this.sc)&&Rn.isEmpty(this.sc))return this.sc.innerHTML=Rn.emptyPara,new l(this.sc.firstChild,0,this.sc.firstChild,0);var n,t=this.normalize();if(Rn.isParaInline(this.sc)||Rn.isPara(this.sc))return t;if(Rn.isInline(t.sc)){var e=Rn.listAncestor(t.sc,y.not(Rn.isInline));n=M.last(e),Rn.isInline(n)||(n=e[e.length-2]||t.sc.childNodes[t.so])}else n=t.sc.childNodes[t.so>0?t.so-1:0];var o=Rn.listPrev(n,Rn.isParaInline).reverse();if((o=o.concat(Rn.listNext(n.nextSibling,Rn.isParaInline))).length){var i=Rn.wrap(M.head(o),"p");Rn.appendChildNodes(i,M.tail(o))}return this.normalize()},l.prototype.insertNode=function(n){var l=this.wrapBodyInlineWithPara().deleteContents(),t=Rn.splitPoint(l.getStartPoint(),Rn.isInline(n));return t.rightNode?t.rightNode.parentNode.insertBefore(n,t.rightNode):t.container.appendChild(n),n},l.prototype.pasteHTML=function(l){var t=n("<div></div>").html(l)[0],e=M.from(t.childNodes),o=this.wrapBodyInlineWithPara().deleteContents();return e.reverse().map(function(n){return o.insertNode(n)}).reverse()},l.prototype.toString=function(){var n=this.nativeRange();return O.isW3CRangeSupport?n.toString():n.text},l.prototype.getWordRange=function(n){var t=this.getEndPoint();if(!Rn.isCharPoint(t))return this;var e=Rn.prevPointUntil(t,function(n){return!Rn.isCharPoint(n)});return n&&(t=Rn.nextPointUntil(t,function(n){return!Rn.isCharPoint(n)})),new l(e.node,e.offset,t.node,t.offset)},l.prototype.bookmark=function(n){return{s:{path:Rn.makeOffsetPath(n,this.sc),offset:this.so},e:{path:Rn.makeOffsetPath(n,this.ec),offset:this.eo}}},l.prototype.paraBookmark=function(n){return{s:{path:M.tail(Rn.makeOffsetPath(M.head(n),this.sc)),offset:this.so},e:{path:M.tail(Rn.makeOffsetPath(M.last(n),this.ec)),offset:this.eo}}},l.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},l}(),An={create:function(n,l,t,e){if(4===arguments.length)return new Dn(n,l,t,e);if(2===arguments.length)return new Dn(n,l,t=n,e=l);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0])).collapse(Rn.emptyPara===arguments[0].innerHTML)},createFromSelection:function(){var n,l,t,e;if(O.isW3CRangeSupport){var o=document.getSelection();if(!o||0===o.rangeCount)return null;if(Rn.isBody(o.anchorNode))return null;var i=o.getRangeAt(0);n=i.startContainer,l=i.startOffset,t=i.endContainer,e=i.endOffset}else{var r=document.selection.createRange(),u=r.duplicate();u.collapse(!1);var a=r;a.collapse(!0);var s=Nn(a,!0),c=Nn(u,!1);Rn.isText(s.node)&&Rn.isLeftEdgePoint(s)&&Rn.isTextNode(c.node)&&Rn.isRightEdgePoint(c)&&c.node.nextSibling===s.node&&(s=c),n=s.cont,l=s.offset,t=c.cont,e=c.offset}return new Dn(n,l,t,e)},createFromNode:function(n){var l=n,t=0,e=n,o=Rn.nodeLength(e);return Rn.isVoid(l)&&(t=Rn.listPrev(l).length-1,l=l.parentNode),Rn.isBR(e)?(o=Rn.listPrev(e).length-1,e=e.parentNode):Rn.isVoid(e)&&(o=Rn.listPrev(e).length,e=e.parentNode),this.create(l,t,e,o)},createFromNodeBefore:function(n){return this.createFromNode(n).collapse(!0)},createFromNodeAfter:function(n){return this.createFromNode(n).collapse()},createFromBookmark:function(n,l){var t=Rn.fromOffsetPath(n,l.s.path),e=l.s.offset,o=Rn.fromOffsetPath(n,l.e.path);return new Dn(t,e,o,l.e.offset)},createFromParaBookmark:function(n,l){var t=n.s.offset,e=n.e.offset,o=Rn.fromOffsetPath(M.head(l),n.s.path),i=Rn.fromOffsetPath(M.last(l),n.e.path);return new Dn(o,t,i,e)}},Pn=function(){function n(n){this.stack=[],this.stackOffset=-1,this.$editable=n,this.editable=n[0]}return n.prototype.makeSnapshot=function(){var n=An.create(this.editable);return{contents:this.$editable.html(),bookmark:n?n.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},n.prototype.applySnapshot=function(n){null!==n.contents&&this.$editable.html(n.contents),null!==n.bookmark&&An.createFromBookmark(this.editable,n.bookmark).select()},n.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},n.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},n.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},n.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},n.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},n}(),$n=function(){function l(){}return l.prototype.jQueryCSS=function(l,t){if(O.jqueryVersion<1.9){var e={};return n.each(t,function(n,t){e[t]=l.css(t)}),e}return l.css(t)},l.prototype.fromNode=function(n){var l=this.jQueryCSS(n,["font-family","font-size","text-align","list-style-type","line-height"])||{};return l["font-size"]=parseInt(l["font-size"],10),l},l.prototype.stylePara=function(l,t){n.each(l.nodes(Rn.isPara,{includeAncestor:!0}),function(l,e){n(e).css(t)})},l.prototype.styleNodes=function(l,t){l=l.splitText();var e=t&&t.nodeName||"SPAN",o=!(!t||!t.expandClosestSibling),i=!(!t||!t.onlyPartialContains);if(l.isCollapsed())return[l.insertNode(Rn.create(e))];var r=Rn.makePredByNodeName(e),u=l.nodes(Rn.isText,{fullyContains:!0}).map(function(n){return Rn.singleChildAncestor(n,r)||Rn.wrap(n,e)});if(o){if(i){var a=l.nodes();r=y.and(r,function(n){return M.contains(a,n)})}return u.map(function(l){var t=Rn.withClosestSiblings(l,r),e=M.head(t),o=M.tail(t);return n.each(o,function(n,l){Rn.appendChildNodes(e,l.childNodes),Rn.remove(l)}),M.head(t)})}return u},l.prototype.current=function(l){var t=n(Rn.isElement(l.sc)?l.sc:l.sc.parentNode),e=this.fromNode(t);try{e=n.extend(e,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||e["font-family"]})}catch(n){}if(l.isOnList()){var o=n.inArray(e["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;e["list-style"]=o?"unordered":"ordered"}else e["list-style"]="none";var i=Rn.ancestor(l.sc,Rn.isPara);if(i&&i.style["line-height"])e["line-height"]=i.style.lineHeight;else{var r=parseInt(e["line-height"],10)/parseInt(e["font-size"],10);e["line-height"]=r.toFixed(1)}return e.anchor=l.isOnAnchor()&&Rn.ancestor(l.sc,Rn.isAnchor),e.ancestors=Rn.listAncestor(l.sc,Rn.isEditable),e.range=l,e},l}(),On=function(){function l(){}return l.prototype.insertOrderedList=function(n){this.toggleList("OL",n)},l.prototype.insertUnorderedList=function(n){this.toggleList("UL",n)},l.prototype.indent=function(l){var t=this,e=An.create(l).wrapBodyInlineWithPara(),o=e.nodes(Rn.isPara,{includeAncestor:!0}),i=M.clusterBy(o,y.peq2("parentNode"));n.each(i,function(l,e){var o=M.head(e);Rn.isLi(o)?t.wrapList(e,o.parentNode.nodeName):n.each(e,function(l,t){n(t).css("marginLeft",function(n,l){return(parseInt(l,10)||0)+25})})}),e.select()},l.prototype.outdent=function(l){var t=this,e=An.create(l).wrapBodyInlineWithPara(),o=e.nodes(Rn.isPara,{includeAncestor:!0}),i=M.clusterBy(o,y.peq2("parentNode"));n.each(i,function(l,e){var o=M.head(e);Rn.isLi(o)?t.releaseList([e]):n.each(e,function(l,t){n(t).css("marginLeft",function(n,l){return(l=parseInt(l,10)||0)>25?l-25:""})})}),e.select()},l.prototype.toggleList=function(l,t){var e=this,o=An.create(t).wrapBodyInlineWithPara(),i=o.nodes(Rn.isPara,{includeAncestor:!0}),r=o.paraBookmark(i),u=M.clusterBy(i,y.peq2("parentNode"));if(M.find(i,Rn.isPurePara)){var a=[];n.each(u,function(n,t){a=a.concat(e.wrapList(t,l))}),i=a}else{var s=o.nodes(Rn.isList,{includeAncestor:!0}).filter(function(t){return!n.nodeName(t,l)});s.length?n.each(s,function(n,t){Rn.replace(t,l)}):i=this.releaseList(u,!0)}An.createFromParaBookmark(r,i).select()},l.prototype.wrapList=function(n,l){var t=M.head(n),e=M.last(n),o=Rn.isList(t.previousSibling)&&t.previousSibling,i=Rn.isList(e.nextSibling)&&e.nextSibling,r=o||Rn.insertAfter(Rn.create(l||"UL"),e);return n=n.map(function(n){return Rn.isPurePara(n)?Rn.replace(n,"LI"):n}),Rn.appendChildNodes(r,n),i&&(Rn.appendChildNodes(r,M.from(i.childNodes)),Rn.remove(i)),n},l.prototype.releaseList=function(l,t){var e=[];return n.each(l,function(l,o){var i=M.head(o),r=M.last(o),u=t?Rn.lastAncestor(i,Rn.isList):i.parentNode,a=u.childNodes.length>1?Rn.splitTree(u,{node:r.parentNode,offset:Rn.position(r)+1},{isSkipPaddingBlankHTML:!0}):null,s=Rn.splitTree(u,{node:i.parentNode,offset:Rn.position(i)},{isSkipPaddingBlankHTML:!0});o=t?Rn.listDescendant(s,Rn.isLi):M.from(s.childNodes).filter(Rn.isLi),!t&&Rn.isList(u.parentNode)||(o=o.map(function(n){return Rn.replace(n,"P")})),n.each(M.from(o).reverse(),function(n,l){Rn.insertAfter(l,u)});var c=M.compact([u,s,a]);n.each(c,function(l,t){var e=[t].concat(Rn.listDescendant(t,Rn.isList));n.each(e.reverse(),function(n,l){Rn.nodeLength(l)||Rn.remove(l,!0)})}),e=e.concat(o)}),e},l}(),Fn=function(){function l(){this.bullet=new On}return l.prototype.insertTab=function(n,l){var t=Rn.createText(new Array(l+1).join(Rn.NBSP_CHAR));(n=n.deleteContents()).insertNode(t,!0),(n=An.create(t,l)).select()},l.prototype.insertParagraph=function(l){var t=An.create(l);t=(t=t.deleteContents()).wrapBodyInlineWithPara();var e,o=Rn.ancestor(t.sc,Rn.isPara);if(o){if(Rn.isEmpty(o)&&Rn.isLi(o))return void this.bullet.toggleList(o.parentNode.nodeName);if(Rn.isEmpty(o)&&Rn.isPara(o)&&Rn.isBlockquote(o.parentNode))Rn.insertAfter(o,o.parentNode),e=o;else{e=Rn.splitTree(o,t.getStartPoint());var i=Rn.listDescendant(o,Rn.isEmptyAnchor);i=i.concat(Rn.listDescendant(e,Rn.isEmptyAnchor)),n.each(i,function(n,l){Rn.remove(l)}),(Rn.isHeading(e)||Rn.isPre(e)||Rn.isCustomStyleTag(e))&&Rn.isEmpty(e)&&(e=Rn.replace(e,"p"))}}else{var r=t.sc.childNodes[t.so];e=n(Rn.emptyPara)[0],r?t.sc.insertBefore(e,r):t.sc.appendChild(e)}An.create(e,0).normalize().select().scrollIntoView(l)},l}(),Hn=function(n,l,t,e){var o={colPos:0,rowPos:0},i=[],r=[];function u(n,l,t,e,o,r,u){var a={baseRow:t,baseCell:e,isRowSpan:o,isColSpan:r,isVirtual:u};i[n]||(i[n]=[]),i[n][l]=a}function a(n,l){if(!i[n])return l;if(!i[n][l])return l;for(var t=l;i[n][t];)if(!i[n][++t])return t}function s(n,l){var t=a(n.rowIndex,l.cellIndex),e=l.colSpan>1,i=l.rowSpan>1,r=n.rowIndex===o.rowPos&&l.cellIndex===o.colPos;u(n.rowIndex,t,n,l,i,e,!1);var s=l.attributes.rowSpan?parseInt(l.attributes.rowSpan.value,10):0;if(s>1)for(var d=1;d<s;d++){var p=n.rowIndex+d;c(p,t,l,r),u(p,t,n,l,!0,e,!0)}var h=l.attributes.colSpan?parseInt(l.attributes.colSpan.value,10):0;if(h>1)for(var f=1;f<h;f++){var g=a(n.rowIndex,t+f);c(n.rowIndex,g,l,r),u(n.rowIndex,g,n,l,i,!0,!0)}}function c(n,l,t,e){n===o.rowPos&&o.colPos>=t.cellIndex&&t.cellIndex<=l&&!e&&o.colPos++}function d(n){switch(l){case Hn.where.Column:if(n.isColSpan)return Hn.resultAction.SubtractSpanCount;break;case Hn.where.Row:if(!n.isVirtual&&n.isRowSpan)return Hn.resultAction.AddCell;if(n.isRowSpan)return Hn.resultAction.SubtractSpanCount}return Hn.resultAction.RemoveCell}function p(n){switch(l){case Hn.where.Column:if(n.isColSpan)return Hn.resultAction.SumSpanCount;if(n.isRowSpan&&n.isVirtual)return Hn.resultAction.Ignore;break;case Hn.where.Row:if(n.isRowSpan)return Hn.resultAction.SumSpanCount;if(n.isColSpan&&n.isVirtual)return Hn.resultAction.Ignore}return Hn.resultAction.AddCell}this.getActionList=function(){for(var n=l===Hn.where.Row?o.rowPos:-1,e=l===Hn.where.Column?o.colPos:-1,u=0,a=!0;a;){var s=n>=0?n:u,c=e>=0?e:u,h=i[s];if(!h)return a=!1,r;var f=h[c];if(!f)return a=!1,r;var g=Hn.resultAction.Ignore;switch(t){case Hn.requestAction.Add:g=p(f);break;case Hn.requestAction.Delete:g=d(f)}r.push({baseCell:f.baseCell,action:g,virtualTable:{rowIndex:s,cellIndex:c}}),u++}return r},n&&n.tagName&&("td"===n.tagName.toLowerCase()||"th"===n.tagName.toLowerCase())?(o.colPos=n.cellIndex,n.parentElement&&n.parentElement.tagName&&"tr"===n.parentElement.tagName.toLowerCase()?o.rowPos=n.parentElement.rowIndex:console.error("Impossible to identify start Row point.",n)):console.error("Impossible to identify start Cell point.",n),function(){for(var n=e.rows,l=0;l<n.length;l++)for(var t=n[l].cells,o=0;o<t.length;o++)s(n[l],t[o])}()};Hn.where={Row:0,Column:1},Hn.requestAction={Add:0,Delete:1},Hn.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var _n,zn=function(){function l(){}return l.prototype.tab=function(n,l){var t=Rn.ancestor(n.commonAncestor(),Rn.isCell),e=Rn.ancestor(t,Rn.isTable),o=Rn.listDescendant(e,Rn.isCell),i=M[l?"prev":"next"](o,t);i&&An.create(i,0).select()},l.prototype.addRow=function(l,t){for(var e=Rn.ancestor(l.commonAncestor(),Rn.isCell),o=n(e).closest("tr"),i=this.recoverAttributes(o),r=n("<tr"+i+"></tr>"),u=new Hn(e,Hn.where.Row,Hn.requestAction.Add,n(o).closest("table")[0]).getActionList(),a=0;a<u.length;a++){var s=u[a],c=this.recoverAttributes(s.baseCell);switch(s.action){case Hn.resultAction.AddCell:r.append("<td"+c+">"+Rn.blank+"</td>");break;case Hn.resultAction.SumSpanCount:if("top"===t&&(s.baseCell.parent?s.baseCell.closest("tr").rowIndex:0)<=o[0].rowIndex){var d=n("<div></div>").append(n("<td"+c+">"+Rn.blank+"</td>").removeAttr("rowspan")).html();r.append(d);break}var p=parseInt(s.baseCell.rowSpan,10);s.baseCell.setAttribute("rowSpan",++p)}}if("top"===t)o.before(r);else{if(e.rowSpan>1){var h=o[0].rowIndex+(e.rowSpan-2);return void n(n(o).parent().find("tr")[h]).after(n(r))}o.after(r)}},l.prototype.addCol=function(l,t){var e=Rn.ancestor(l.commonAncestor(),Rn.isCell),o=n(e).closest("tr");n(o).siblings().push(o);for(var i=new Hn(e,Hn.where.Column,Hn.requestAction.Add,n(o).closest("table")[0]).getActionList(),r=0;r<i.length;r++){var u=i[r],a=this.recoverAttributes(u.baseCell);switch(u.action){case Hn.resultAction.AddCell:"right"===t?n(u.baseCell).after("<td"+a+">"+Rn.blank+"</td>"):n(u.baseCell).before("<td"+a+">"+Rn.blank+"</td>");break;case Hn.resultAction.SumSpanCount:if("right"===t){var s=parseInt(u.baseCell.colSpan,10);u.baseCell.setAttribute("colSpan",++s)}else n(u.baseCell).before("<td"+a+">"+Rn.blank+"</td>")}}},l.prototype.recoverAttributes=function(n){var l="";if(!n)return l;for(var t=n.attributes||[],e=0;e<t.length;e++)"id"!==t[e].name.toLowerCase()&&t[e].specified&&(l+=" "+t[e].name+"='"+t[e].value+"'");return l},l.prototype.deleteRow=function(l){for(var t=Rn.ancestor(l.commonAncestor(),Rn.isCell),e=n(t).closest("tr"),o=e.children("td, th").index(n(t)),i=e[0].rowIndex,r=new Hn(t,Hn.where.Row,Hn.requestAction.Delete,n(e).closest("table")[0]).getActionList(),u=0;u<r.length;u++)if(r[u]){var a=r[u].baseCell,s=r[u].virtualTable,c=a.rowSpan&&a.rowSpan>1,d=c?parseInt(a.rowSpan,10):0;switch(r[u].action){case Hn.resultAction.Ignore:continue;case Hn.resultAction.AddCell:var p=e.next("tr")[0];if(!p)continue;var h=e[0].cells[o];c&&(d>2?(d--,p.insertBefore(h,p.cells[o]),p.cells[o].setAttribute("rowSpan",d),p.cells[o].innerHTML=""):2===d&&(p.insertBefore(h,p.cells[o]),p.cells[o].removeAttribute("rowSpan"),p.cells[o].innerHTML=""));continue;case Hn.resultAction.SubtractSpanCount:c&&(d>2?(a.setAttribute("rowSpan",--d),s.rowIndex!==i&&a.cellIndex===o&&(a.innerHTML="")):2===d&&(a.removeAttribute("rowSpan"),s.rowIndex!==i&&a.cellIndex===o&&(a.innerHTML="")));continue;case Hn.resultAction.RemoveCell:continue}}e.remove()},l.prototype.deleteCol=function(l){for(var t=Rn.ancestor(l.commonAncestor(),Rn.isCell),e=n(t).closest("tr"),o=e.children("td, th").index(n(t)),i=new Hn(t,Hn.where.Column,Hn.requestAction.Delete,n(e).closest("table")[0]).getActionList(),r=0;r<i.length;r++)if(i[r])switch(i[r].action){case Hn.resultAction.Ignore:continue;case Hn.resultAction.SubtractSpanCount:var u=i[r].baseCell;if(u.colSpan&&u.colSpan>1){var a=u.colSpan?parseInt(u.colSpan,10):0;a>2?(u.setAttribute("colSpan",--a),u.cellIndex===o&&(u.innerHTML="")):2===a&&(u.removeAttribute("colSpan"),u.cellIndex===o&&(u.innerHTML=""))}continue;case Hn.resultAction.RemoveCell:Rn.remove(i[r].baseCell,!0);continue}},l.prototype.createTable=function(l,t,e){for(var o,i=[],r=0;r<l;r++)i.push("<td>"+Rn.blank+"</td>");o=i.join("");for(var u,a=[],s=0;s<t;s++)a.push("<tr>"+o+"</tr>");u=a.join("");var c=n("<table>"+u+"</table>");return e&&e.tableClassName&&c.addClass(e.tableClassName),c[0]},l.prototype.deleteTable=function(l){var t=Rn.ancestor(l.commonAncestor(),Rn.isCell);n(t).closest("table").remove()},l}(),Bn=function(){function l(l){var t=this;this.context=l,this.$note=l.layoutInfo.note,this.$editor=l.layoutInfo.editor,this.$editable=l.layoutInfo.editable,this.options=l.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new $n,this.table=new zn,this.typing=new Fn,this.bullet=new On,this.history=new Pn(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var e=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],o=0,i=e.length;o<i;o++)this[e[o]]=function(n){return function(l){t.beforeCommand(),document.execCommand(n,!1,l),t.afterCommand(!0)}}(e[o]),this.context.memo("help."+e[o],this.lang.help[e[o]]);for(this.fontName=this.wrapCommand(function(n){return t.fontStyling("font-family","'"+n+"'")}),this.fontSize=this.wrapCommand(function(n){return t.fontStyling("font-size",n+"px")}),o=1;o<=6;o++)this["formatH"+o]=function(n){return function(){t.formatBlock("H"+n)}}(o),this.context.memo("help.formatH"+o,this.lang.help["formatH"+o]);this.insertParagraph=this.wrapCommand(function(){t.typing.insertParagraph(t.editable)}),this.insertOrderedList=this.wrapCommand(function(){t.bullet.insertOrderedList(t.editable)}),this.insertUnorderedList=this.wrapCommand(function(){t.bullet.insertUnorderedList(t.editable)}),this.indent=this.wrapCommand(function(){t.bullet.indent(t.editable)}),this.outdent=this.wrapCommand(function(){t.bullet.outdent(t.editable)}),this.insertNode=this.wrapCommand(function(l){t.isLimited(n(l).text().length)||(t.createRange().insertNode(l),An.createFromNodeAfter(l).select())}),this.insertText=this.wrapCommand(function(n){if(!t.isLimited(n.length)){var l=t.createRange().insertNode(Rn.createText(n));An.create(l,Rn.nodeLength(l)).select()}}),this.pasteHTML=this.wrapCommand(function(n){if(!t.isLimited(n.length)){var l=t.createRange().pasteHTML(n);An.createFromNodeAfter(M.last(l)).select()}}),this.formatBlock=this.wrapCommand(function(n,l){var e=t.options.callbacks.onApplyCustomStyle;e?e.call(t,l,t.context,t.onFormatBlock):t.onFormatBlock(n,l)}),this.insertHorizontalRule=this.wrapCommand(function(){var n=t.createRange().insertNode(Rn.create("HR"));n.nextSibling&&An.create(n.nextSibling,0).normalize().select()}),this.lineHeight=this.wrapCommand(function(n){t.style.stylePara(t.createRange(),{lineHeight:n})}),this.createLink=this.wrapCommand(function(l){var e=l.url,o=l.text,i=l.isNewWindow,r=l.range||t.createRange(),u=r.toString()!==o;"string"==typeof e&&(e=e.trim()),e=t.options.onCreateLink?t.options.onCreateLink(e):/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(e)?e:"http://"+e;var a=[];if(u){var s=(r=r.deleteContents()).insertNode(n("<A>"+o+"</A>")[0]);a.push(s)}else a=t.style.styleNodes(r,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});n.each(a,function(l,t){n(t).attr("href",e),i?n(t).attr("target","_blank"):n(t).removeAttr("target")});var c=An.createFromNodeBefore(M.head(a)).getStartPoint(),d=An.createFromNodeAfter(M.last(a)).getEndPoint();An.create(c.node,c.offset,d.node,d.offset).select()}),this.color=this.wrapCommand(function(n){var l=n.foreColor,t=n.backColor;l&&document.execCommand("foreColor",!1,l),t&&document.execCommand("backColor",!1,t)}),this.foreColor=this.wrapCommand(function(n){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,n)}),this.insertTable=this.wrapCommand(function(n){var l=n.split("x");t.createRange().deleteContents().insertNode(t.table.createTable(l[0],l[1],t.options))}),this.removeMedia=this.wrapCommand(function(){var l=n(t.restoreTarget()).parent();l.parent("figure").length?l.parent("figure").remove():l=n(t.restoreTarget()).detach(),t.context.triggerEvent("media.delete",l,t.$editable)}),this.floatMe=this.wrapCommand(function(l){var e=n(t.restoreTarget());e.toggleClass("note-float-left","left"===l),e.toggleClass("note-float-right","right"===l),e.css("float",l)}),this.resize=this.wrapCommand(function(l){n(t.restoreTarget()).css({width:100*l+"%",height:""})})}return l.prototype.initialize=function(){var n=this;this.$editable.on("keydown",function(l){if(l.keyCode===In.code.ENTER&&n.context.triggerEvent("enter",l),n.context.triggerEvent("keydown",l),l.isDefaultPrevented()||(n.options.shortcuts?n.handleKeyMap(l):n.preventDefaultEditableShortCuts(l)),n.isLimited(1,l))return!1}).on("keyup",function(l){n.context.triggerEvent("keyup",l)}).on("focus",function(l){n.context.triggerEvent("focus",l)}).on("blur",function(l){n.context.triggerEvent("blur",l)}).on("mousedown",function(l){n.context.triggerEvent("mousedown",l)}).on("mouseup",function(l){n.context.triggerEvent("mouseup",l)}).on("scroll",function(l){n.context.triggerEvent("scroll",l)}).on("paste",function(l){n.context.triggerEvent("paste",l)}),this.$editable.html(Rn.html(this.$note)||Rn.emptyPara),this.$editable.on(O.inputEventName,y.debounce(function(){n.context.triggerEvent("change",n.$editable.html())},100)),this.$editor.on("focusin",function(l){n.context.triggerEvent("focusin",l)}).on("focusout",function(l){n.context.triggerEvent("focusout",l)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo()},l.prototype.destroy=function(){this.$editable.off()},l.prototype.handleKeyMap=function(n){var l=this.options.keyMap[O.isMac?"mac":"pc"],t=[];n.metaKey&&t.push("CMD"),n.ctrlKey&&!n.altKey&&t.push("CTRL"),n.shiftKey&&t.push("SHIFT");var e=In.nameFromCode[n.keyCode];e&&t.push(e);var o=l[t.join("+")];o?!1!==this.context.invoke(o)&&n.preventDefault():In.isEdit(n.keyCode)&&this.afterCommand()},l.prototype.preventDefaultEditableShortCuts=function(n){(n.ctrlKey||n.metaKey)&&M.contains([66,73,85],n.keyCode)&&n.preventDefault()},l.prototype.isLimited=function(n,l){return n=n||0,(void 0===l||!(In.isMove(l.keyCode)||l.ctrlKey||l.metaKey||M.contains([In.code.BACKSPACE,In.code.DELETE],l.keyCode)))&&this.options.maxTextLength>0&&this.$editable.text().length+n>=this.options.maxTextLength},l.prototype.createRange=function(){return this.focus(),An.create(this.editable)},l.prototype.saveRange=function(n){this.lastRange=this.createRange(),n&&this.lastRange.collapse().select()},l.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},l.prototype.saveTarget=function(n){this.$editable.data("target",n)},l.prototype.clearTarget=function(){this.$editable.removeData("target")},l.prototype.restoreTarget=function(){return this.$editable.data("target")},l.prototype.currentStyle=function(){var n=An.create();return n&&(n=n.normalize()),n?this.style.current(n):this.style.fromNode(this.$editable)},l.prototype.styleFromNode=function(n){return this.style.fromNode(n)},l.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html())},l.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html())},l.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},l.prototype.afterCommand=function(n){this.normalizeContent(),this.history.recordUndo(),n||this.context.triggerEvent("change",this.$editable.html())},l.prototype.tab=function(){var n=this.createRange();if(n.isCollapsed()&&n.isOnCell())this.table.tab(n);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(n,this.options.tabSize),this.afterCommand())}},l.prototype.untab=function(){var n=this.createRange();if(n.isCollapsed()&&n.isOnCell())this.table.tab(n,!0);else if(0===this.options.tabSize)return!1},l.prototype.wrapCommand=function(n){var l=this;return function(){l.beforeCommand(),n.apply(l,arguments),l.afterCommand()}},l.prototype.insertImage=function(l,t){var e,o=this;return(e=l,n.Deferred(function(l){var t=n("<img>");t.one("load",function(){t.off("error abort"),l.resolve(t)}).one("error abort",function(){t.off("load").detach(),l.reject(t)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()).then(function(n){o.beforeCommand(),"function"==typeof t?t(n):("string"==typeof t&&n.attr("data-filename",t),n.css("width",Math.min(o.$editable.width(),n.width()))),n.show(),An.create(o.editable).insertNode(n[0]),An.createFromNodeAfter(n[0]).select(),o.afterCommand()}).fail(function(n){o.context.triggerEvent("image.upload.error",n)})},l.prototype.insertImages=function(l){var t=this;n.each(l,function(l,e){var o,i=e.name;t.options.maximumImageFileSize&&t.options.maximumImageFileSize<e.size?t.context.triggerEvent("image.upload.error",t.lang.image.maximumFileSizeError):(o=e,n.Deferred(function(l){n.extend(new FileReader,{onload:function(n){l.resolve(n.target.result)},onerror:function(n){l.reject(n)}}).readAsDataURL(o)}).promise()).then(function(n){return t.insertImage(n,i)}).fail(function(){t.context.triggerEvent("image.upload.error")})})},l.prototype.insertImagesOrCallback=function(n){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",n):this.insertImages(n)},l.prototype.getSelectedText=function(){var n=this.createRange();return n.isOnAnchor()&&(n=An.createFromNode(Rn.ancestor(n.sc,Rn.isAnchor))),n.toString()},l.prototype.onFormatBlock=function(l,t){if(l=O.isMSIE?"<"+l+">":l,document.execCommand("FormatBlock",!1,l),t&&t.length){var e=t[0].className||"";if(e){var o=this.createRange();n([o.sc,o.ec]).closest(l).addClass(e)}}},l.prototype.formatPara=function(){this.formatBlock("P")},l.prototype.fontStyling=function(l,t){var e=this.createRange();if(e){var o=this.style.styleNodes(e);if(n(o).css(l,t),e.isCollapsed()){var i=M.head(o);i&&!Rn.nodeLength(i)&&(i.innerHTML=Rn.ZERO_WIDTH_NBSP_CHAR,An.createFromNodeAfter(i.firstChild).select(),this.$editable.data("bogus",i))}}},l.prototype.unlink=function(){var n=this.createRange();if(n.isOnAnchor()){var l=Rn.ancestor(n.sc,Rn.isAnchor);(n=An.createFromNode(l)).select(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},l.prototype.getLinkInfo=function(){var l=this.createRange().expand(Rn.isAnchor),t=n(M.head(l.nodes(Rn.isAnchor))),e={range:l,text:l.toString(),url:t.length?t.attr("href"):""};return t.length&&(e.isNewWindow="_blank"===t.attr("target")),e},l.prototype.addRow=function(n){var l=this.createRange(this.$editable);l.isCollapsed()&&l.isOnCell()&&(this.beforeCommand(),this.table.addRow(l,n),this.afterCommand())},l.prototype.addCol=function(n){var l=this.createRange(this.$editable);l.isCollapsed()&&l.isOnCell()&&(this.beforeCommand(),this.table.addCol(l,n),this.afterCommand())},l.prototype.deleteRow=function(){var n=this.createRange(this.$editable);n.isCollapsed()&&n.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(n),this.afterCommand())},l.prototype.deleteCol=function(){var n=this.createRange(this.$editable);n.isCollapsed()&&n.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(n),this.afterCommand())},l.prototype.deleteTable=function(){var n=this.createRange(this.$editable);n.isCollapsed()&&n.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(n),this.afterCommand())},l.prototype.resizeTo=function(n,l,t){var e;if(t){var o=n.y/n.x,i=l.data("ratio");e={width:i>o?n.x:n.y/i,height:i>o?n.x*i:n.y}}else e={width:n.x,height:n.y};l.css(e)},l.prototype.hasFocus=function(){return this.$editable.is(":focus")},l.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},l.prototype.isEmpty=function(){return Rn.isEmpty(this.$editable[0])||Rn.emptyPara===this.$editable.html()},l.prototype.empty=function(){this.context.invoke("code",Rn.emptyPara)},l.prototype.normalizeContent=function(){this.$editable[0].normalize()},l}(),Wn=function(){function n(n){this.context=n,this.$editable=n.layoutInfo.editable}return n.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},n.prototype.pasteByEvent=function(n){var l=n.originalEvent.clipboardData;if(l&&l.items&&l.items.length){var t=M.head(l.items);"file"===t.kind&&-1!==t.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[t.getAsFile()]),this.context.invoke("editor.afterCommand")}},n}(),Un=function(){function l(l){this.context=l,this.$eventListener=n(document),this.$editor=l.layoutInfo.editor,this.$editable=l.layoutInfo.editable,this.options=l.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=n(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return l.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(n){n.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},l.prototype.attachDragAndDropEvent=function(){var l=this,t=n(),e=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(n){var o=l.context.invoke("codeview.isActivated"),i=l.$editor.width()>0&&l.$editor.height()>0;o||t.length||!i||(l.$editor.addClass("dragover"),l.$dropzone.width(l.$editor.width()),l.$dropzone.height(l.$editor.height()),e.text(l.lang.image.dragImageHere)),t=t.add(n.target)},this.documentEventHandlers.onDragleave=function(n){(t=t.not(n.target)).length||l.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){t=n(),l.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){l.$dropzone.addClass("hover"),e.text(l.lang.image.dropImage)}).on("dragleave",function(){l.$dropzone.removeClass("hover"),e.text(l.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(t){var e=t.originalEvent.dataTransfer;t.preventDefault(),e&&e.files&&e.files.length?(l.$editable.focus(),l.context.invoke("editor.insertImagesOrCallback",e.files)):n.each(e.types,function(t,o){var i=e.getData(o);o.toLowerCase().indexOf("text")>-1?l.context.invoke("editor.pasteHTML",i):n(i).each(function(n,t){l.context.invoke("editor.insertNode",t)})})}).on("dragover",!1)},l.prototype.destroy=function(){var n=this;Object.keys(this.documentEventHandlers).forEach(function(l){n.$eventListener.off(l.substr(2).toLowerCase(),n.documentEventHandlers[l])}),this.documentEventHandlers={}},l}();O.hasCodeMirror&&(O.isSupportAmd?Promise.resolve().then(function(){var n=[t("VrN/")];(function(n){_n=n}).apply(null,n)}).catch(t.oe):_n=window.CodeMirror);var Vn=function(){function n(n){this.context=n,this.$editor=n.layoutInfo.editor,this.$editable=n.layoutInfo.editable,this.$codable=n.layoutInfo.codable,this.options=n.options}return n.prototype.sync=function(){this.isActivated()&&O.hasCodeMirror&&this.$codable.data("cmEditor").save()},n.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},n.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},n.prototype.activate=function(){var n=this;if(this.$codable.val(Rn.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),O.hasCodeMirror){var l=_n.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var t=new _n.TernServer(this.options.codemirror.tern);l.ternServer=t,l.on("cursorActivity",function(n){t.updateArgHints(n)})}l.on("blur",function(t){n.context.triggerEvent("blur.codeview",l.getValue(),t)}),l.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",l)}else this.$codable.on("blur",function(l){n.context.triggerEvent("blur.codeview",n.$codable.val(),l)})},n.prototype.deactivate=function(){if(O.hasCodeMirror){var n=this.$codable.data("cmEditor");this.$codable.val(n.getValue()),n.toTextArea()}var l=Rn.value(this.$codable,this.options.prettifyHtml)||Rn.emptyPara,t=this.$editable.html()!==l;this.$editable.html(l),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),t&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},n.prototype.destroy=function(){this.isActivated()&&this.deactivate()},n}(),jn=function(){function l(l){this.$document=n(document),this.$statusbar=l.layoutInfo.statusbar,this.$editable=l.layoutInfo.editable,this.options=l.options}return l.prototype.initialize=function(){var n=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(l){l.preventDefault(),l.stopPropagation();var t=n.$editable.offset().top-n.$document.scrollTop(),e=function(l){var e=l.clientY-(t+24);e=n.options.minheight>0?Math.max(e,n.options.minheight):e,e=n.options.maxHeight>0?Math.min(e,n.options.maxHeight):e,n.$editable.height(e)};n.$document.on("mousemove",e).one("mouseup",function(){n.$document.off("mousemove",e)})})},l.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},l}(),Kn=function(){function l(l){var t=this;this.context=l,this.$editor=l.layoutInfo.editor,this.$toolbar=l.layoutInfo.toolbar,this.$editable=l.layoutInfo.editable,this.$codable=l.layoutInfo.codable,this.$window=n(window),this.$scrollbar=n("html, body"),this.onResize=function(){t.resizeTo({h:t.$window.height()-t.$toolbar.outerHeight()})}}return l.prototype.resizeTo=function(n){this.$editable.css("height",n.h),this.$codable.css("height",n.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,n.h)},l.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},l.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},l}(),Gn=function(){function l(l){var t=this;this.context=l,this.$document=n(document),this.$editingArea=l.layoutInfo.editingArea,this.options=l.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(n,l){t.update(l.target)&&l.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()},"summernote.disable":function(){t.hide()},"summernote.codeview.toggled":function(){t.update()}}}return l.prototype.initialize=function(){var l=this;this.$handle=n(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(n){if(Rn.isControlSizing(n.target)){n.preventDefault(),n.stopPropagation();var t=l.$handle.find(".note-control-selection").data("target"),e=t.offset(),o=l.$document.scrollTop(),i=function(n){l.context.invoke("editor.resizeTo",{x:n.clientX-e.left,y:n.clientY-(e.top-o)},t,!n.shiftKey),l.update(t[0])};l.$document.on("mousemove",i).one("mouseup",function(n){n.preventDefault(),l.$document.off("mousemove",i),l.context.invoke("editor.afterCommand")}),t.data("ratio")||t.data("ratio",t.height()/t.width())}}),this.$handle.on("wheel",function(n){n.preventDefault(),l.update()})},l.prototype.destroy=function(){this.$handle.remove()},l.prototype.update=function(l){if(this.context.isDisabled())return!1;var t=Rn.isImg(l),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",l),t){var o=n(l),i=o.position(),r={left:i.left+parseInt(o.css("marginLeft"),10),top:i.top+parseInt(o.css("marginTop"),10)},u={w:o.outerWidth(!1),h:o.outerHeight(!1)};e.css({display:"block",left:r.left,top:r.top,width:u.w,height:u.h}).data("target",o);var a=new Image;a.src=o.attr("src");var s=u.w+"x"+u.h+" ("+this.lang.image.original+": "+a.width+"x"+a.height+")";e.find(".note-control-selection-info").text(s),this.context.invoke("editor.saveTarget",l)}else this.hide();return t},l.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},l}(),Yn=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,qn=function(){function l(n){var l=this;this.context=n,this.events={"summernote.keyup":function(n,t){t.isDefaultPrevented()||l.handleKeyup(t)},"summernote.keydown":function(n,t){l.handleKeydown(t)}}}return l.prototype.initialize=function(){this.lastWordRange=null},l.prototype.destroy=function(){this.lastWordRange=null},l.prototype.replace=function(){if(this.lastWordRange){var l=this.lastWordRange.toString(),t=l.match(Yn);if(t&&(t[1]||t[2])){var e=t[1]?l:"http://"+l,o=n("<a />").html(l).attr("href",e)[0];this.lastWordRange.insertNode(o),this.lastWordRange=null,this.context.invoke("editor.focus")}}},l.prototype.handleKeydown=function(n){if(M.contains([In.code.ENTER,In.code.SPACE],n.keyCode)){var l=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=l}},l.prototype.handleKeyup=function(n){M.contains([In.code.ENTER,In.code.SPACE],n.keyCode)&&this.replace()},l}(),Xn=function(){function n(n){var l=this;this.$note=n.layoutInfo.note,this.events={"summernote.change":function(){l.$note.val(n.invoke("code"))}}}return n.prototype.shouldInitialize=function(){return Rn.isTextarea(this.$note[0])},n}(),Zn=function(){function l(n){var l=this;this.context=n,this.$editingArea=n.layoutInfo.editingArea,this.options=n.options,this.events={"summernote.init summernote.change":function(){l.update()},"summernote.codeview.toggled":function(){l.update()}}}return l.prototype.shouldInitialize=function(){return!!this.options.placeholder},l.prototype.initialize=function(){var l=this;this.$placeholder=n('<div class="note-placeholder">'),this.$placeholder.on("click",function(){l.context.invoke("focus")}).text(this.options.placeholder).prependTo(this.$editingArea),this.update()},l.prototype.destroy=function(){this.$placeholder.remove()},l.prototype.update=function(){var n=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(n)},l}(),Jn=function(){function l(l){this.ui=n.summernote.ui,this.context=l,this.$toolbar=l.layoutInfo.toolbar,this.options=l.options,this.lang=this.options.langInfo,this.invertedKeyMap=y.invertObject(this.options.keyMap[O.isMac?"mac":"pc"])}return l.prototype.representShortcut=function(n){var l=this.invertedKeyMap[n];return this.options.shortcuts&&l?(O.isMac&&(l=l.replace("CMD","\u2318").replace("SHIFT","\u21e7"))," ("+(l=l.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},l.prototype.button=function(n){return!this.options.tooltip&&n.tooltip&&delete n.tooltip,n.container=this.options.container,this.ui.button(n)},l.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},l.prototype.destroy=function(){delete this.fontInstalledMap},l.prototype.isFontInstalled=function(n){return this.fontInstalledMap.hasOwnProperty(n)||(this.fontInstalledMap[n]=O.isFontInstalled(n)||M.contains(this.options.fontNamesIgnoreCheck,n)),this.fontInstalledMap[n]},l.prototype.isFontDeservedToAdd=function(l){return""!==(l=l.toLowerCase())&&this.isFontInstalled(l)&&-1===n.inArray(l,["sans-serif","serif","monospace","cursive","fantasy"])},l.prototype.addToolbarButtons=function(){var l=this;this.context.memo("button.style",function(){return l.ui.buttonGroup([l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents(l.ui.icon(l.options.icons.magic),l.options),tooltip:l.lang.style.style,data:{toggle:"dropdown"}}),l.ui.dropdown({className:"dropdown-style",items:l.options.styleTags,title:l.lang.style.style,template:function(n){"string"==typeof n&&(n={tag:n,title:l.lang.style.hasOwnProperty(n)?l.lang.style[n]:n});var t=n.tag;return"<"+t+(n.style?' style="'+n.style+'" ':"")+(n.className?' class="'+n.className+'"':"")+">"+n.title+"</"+t+">"},click:l.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var t=function(n,t){var o=e.options.styleTags[n];e.context.memo("button.style."+o,function(){return l.button({className:"note-btn-style-"+o,contents:'<div data-value="'+o+'">'+o.toUpperCase()+"</div>",tooltip:l.lang.style[o],click:l.context.createInvokeHandler("editor.formatBlock")}).render()})},e=this,o=0,i=this.options.styleTags.length;o<i;o++)t(o);this.context.memo("button.bold",function(){return l.button({className:"note-btn-bold",contents:l.ui.icon(l.options.icons.bold),tooltip:l.lang.font.bold+l.representShortcut("bold"),click:l.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return l.button({className:"note-btn-italic",contents:l.ui.icon(l.options.icons.italic),tooltip:l.lang.font.italic+l.representShortcut("italic"),click:l.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return l.button({className:"note-btn-underline",contents:l.ui.icon(l.options.icons.underline),tooltip:l.lang.font.underline+l.representShortcut("underline"),click:l.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return l.button({contents:l.ui.icon(l.options.icons.eraser),tooltip:l.lang.font.clear+l.representShortcut("removeFormat"),click:l.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return l.button({className:"note-btn-strikethrough",contents:l.ui.icon(l.options.icons.strikethrough),tooltip:l.lang.font.strikethrough+l.representShortcut("strikethrough"),click:l.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return l.button({className:"note-btn-superscript",contents:l.ui.icon(l.options.icons.superscript),tooltip:l.lang.font.superscript,click:l.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return l.button({className:"note-btn-subscript",contents:l.ui.icon(l.options.icons.subscript),tooltip:l.lang.font.subscript,click:l.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var t=l.context.invoke("editor.currentStyle");return n.each(t["font-family"].split(","),function(t,e){e=e.trim().replace(/['"]+/g,""),l.isFontDeservedToAdd(e)&&-1===n.inArray(e,l.options.fontNames)&&l.options.fontNames.push(e)}),l.ui.buttonGroup([l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents('<span class="note-current-fontname"/>',l.options),tooltip:l.lang.font.name,data:{toggle:"dropdown"}}),l.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:l.options.icons.menuCheck,items:l.options.fontNames.filter(l.isFontInstalled.bind(l)),title:l.lang.font.name,template:function(n){return"<span style=\"font-family: '"+n+"'\">"+n+"</span>"},click:l.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return l.ui.buttonGroup([l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',l.options),tooltip:l.lang.font.size,data:{toggle:"dropdown"}}),l.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:l.options.icons.menuCheck,items:l.options.fontSizes,title:l.lang.font.size,click:l.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return l.ui.buttonGroup({className:"note-color",children:[l.button({className:"note-current-color-button",contents:l.ui.icon(l.options.icons.font+" note-recent-color"),tooltip:l.lang.color.recent,click:function(t){var e=n(t.currentTarget);l.context.invoke("editor.color",{backColor:e.attr("data-backColor"),foreColor:e.attr("data-foreColor")})},callback:function(n){n.find(".note-recent-color").css("background-color","#FFFF00"),n.attr("data-backColor","#FFFF00")}}),l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents("",l.options),tooltip:l.lang.color.more,data:{toggle:"dropdown"}}),l.ui.dropdown({items:['<div class="note-palette">','  <div class="note-palette-title">'+l.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',l.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="note-palette">','  <div class="note-palette-title">'+l.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',l.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>"].join(""),callback:function(t){t.find(".note-holder").each(function(t,e){var o=n(e);o.append(l.ui.palette({colors:l.options.colors,colorsName:l.options.colorsName,eventName:o.data("event"),container:l.options.container,tooltip:l.options.tooltip}).render())})},click:function(t){var e=n(t.target),o=e.data("event"),i=e.data("value");if(o&&i){var r="backColor"===o?"background-color":"color",u=e.closest(".note-color").find(".note-recent-color"),a=e.closest(".note-color").find(".note-current-color-button");u.css(r,i),a.attr("data-"+o,i),l.context.invoke("editor."+o,i)}}})]}).render()}),this.context.memo("button.ul",function(){return l.button({contents:l.ui.icon(l.options.icons.unorderedlist),tooltip:l.lang.lists.unordered+l.representShortcut("insertUnorderedList"),click:l.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return l.button({contents:l.ui.icon(l.options.icons.orderedlist),tooltip:l.lang.lists.ordered+l.representShortcut("insertOrderedList"),click:l.context.createInvokeHandler("editor.insertOrderedList")}).render()});var r=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),u=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),a=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),s=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),c=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),d=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",y.invoke(r,"render")),this.context.memo("button.justifyCenter",y.invoke(u,"render")),this.context.memo("button.justifyRight",y.invoke(a,"render")),this.context.memo("button.justifyFull",y.invoke(s,"render")),this.context.memo("button.outdent",y.invoke(c,"render")),this.context.memo("button.indent",y.invoke(d,"render")),this.context.memo("button.paragraph",function(){return l.ui.buttonGroup([l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents(l.ui.icon(l.options.icons.alignLeft),l.options),tooltip:l.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),l.ui.dropdown([l.ui.buttonGroup({className:"note-align",children:[r,u,a,s]}),l.ui.buttonGroup({className:"note-list",children:[c,d]})])]).render()}),this.context.memo("button.height",function(){return l.ui.buttonGroup([l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents(l.ui.icon(l.options.icons.textHeight),l.options),tooltip:l.lang.font.height,data:{toggle:"dropdown"}}),l.ui.dropdownCheck({items:l.options.lineHeights,checkClassName:l.options.icons.menuCheck,className:"dropdown-line-height",title:l.lang.font.height,click:l.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return l.ui.buttonGroup([l.button({className:"dropdown-toggle",contents:l.ui.dropdownButtonContents(l.ui.icon(l.options.icons.table),l.options),tooltip:l.lang.table.table,data:{toggle:"dropdown"}}),l.ui.dropdown({title:l.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(n){n.find(".note-dimension-picker-mousecatcher").css({width:l.options.insertTableMaxSize.col+"em",height:l.options.insertTableMaxSize.row+"em"}).mousedown(l.context.createInvokeHandler("editor.insertTable")).on("mousemove",l.tableMoveHandler.bind(l))}}).render()}),this.context.memo("button.link",function(){return l.button({contents:l.ui.icon(l.options.icons.link),tooltip:l.lang.link.link+l.representShortcut("linkDialog.show"),click:l.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return l.button({contents:l.ui.icon(l.options.icons.picture),tooltip:l.lang.image.image,click:l.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return l.button({contents:l.ui.icon(l.options.icons.video),tooltip:l.lang.video.video,click:l.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return l.button({contents:l.ui.icon(l.options.icons.minus),tooltip:l.lang.hr.insert+l.representShortcut("insertHorizontalRule"),click:l.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return l.button({className:"btn-fullscreen",contents:l.ui.icon(l.options.icons.arrowsAlt),tooltip:l.lang.options.fullscreen,click:l.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return l.button({className:"btn-codeview",contents:l.ui.icon(l.options.icons.code),tooltip:l.lang.options.codeview,click:l.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return l.button({contents:l.ui.icon(l.options.icons.redo),tooltip:l.lang.history.redo+l.representShortcut("redo"),click:l.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return l.button({contents:l.ui.icon(l.options.icons.undo),tooltip:l.lang.history.undo+l.representShortcut("undo"),click:l.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return l.button({contents:l.ui.icon(l.options.icons.question),tooltip:l.lang.options.help,click:l.context.createInvokeHandler("helpDialog.show")}).render()})},l.prototype.addImagePopoverButtons=function(){var n=this;this.context.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:n.lang.image.resizeFull,click:n.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:n.lang.image.resizeHalf,click:n.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:n.lang.image.resizeQuarter,click:n.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.floatLeft",function(){return n.button({contents:n.ui.icon(n.options.icons.alignLeft),tooltip:n.lang.image.floatLeft,click:n.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return n.button({contents:n.ui.icon(n.options.icons.alignRight),tooltip:n.lang.image.floatRight,click:n.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return n.button({contents:n.ui.icon(n.options.icons.alignJustify),tooltip:n.lang.image.floatNone,click:n.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return n.button({contents:n.ui.icon(n.options.icons.trash),tooltip:n.lang.image.remove,click:n.context.createInvokeHandler("editor.removeMedia")}).render()})},l.prototype.addLinkPopoverButtons=function(){var n=this;this.context.memo("button.linkDialogShow",function(){return n.button({contents:n.ui.icon(n.options.icons.link),tooltip:n.lang.link.edit,click:n.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return n.button({contents:n.ui.icon(n.options.icons.unlink),tooltip:n.lang.link.unlink,click:n.context.createInvokeHandler("editor.unlink")}).render()})},l.prototype.addTablePopoverButtons=function(){var n=this;this.context.memo("button.addRowUp",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.rowAbove),tooltip:n.lang.table.addRowAbove,click:n.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.rowBelow),tooltip:n.lang.table.addRowBelow,click:n.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.colBefore),tooltip:n.lang.table.addColLeft,click:n.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.colAfter),tooltip:n.lang.table.addColRight,click:n.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.rowRemove),tooltip:n.lang.table.delRow,click:n.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.colRemove),tooltip:n.lang.table.delCol,click:n.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return n.button({className:"btn-md",contents:n.ui.icon(n.options.icons.trash),tooltip:n.lang.table.delTable,click:n.context.createInvokeHandler("editor.deleteTable")}).render()})},l.prototype.build=function(l,t){for(var e=0,o=t.length;e<o;e++){for(var i=t[e],r=n.isArray(i)?i[0]:i,u=n.isArray(i)?1===i.length?[i[0]]:i[1]:[i],a=this.ui.buttonGroup({className:"note-"+r}).render(),s=0,c=u.length;s<c;s++){var d=this.context.memo("button."+u[s]);d&&a.append("function"==typeof d?d(this.context):d)}a.appendTo(l)}},l.prototype.updateCurrentStyle=function(l){var t=this,e=l||this.$toolbar,o=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(e,{".note-btn-bold":function(){return"bold"===o["font-bold"]},".note-btn-italic":function(){return"italic"===o["font-italic"]},".note-btn-underline":function(){return"underline"===o["font-underline"]},".note-btn-subscript":function(){return"subscript"===o["font-subscript"]},".note-btn-superscript":function(){return"superscript"===o["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===o["font-strikethrough"]}}),o["font-family"]){var i=o["font-family"].split(",").map(function(n){return n.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),r=M.find(i,this.isFontInstalled.bind(this));e.find(".dropdown-fontname a").each(function(l,t){var e=n(t),o=e.data("value")+""==r+"";e.toggleClass("checked",o)}),e.find(".note-current-fontname").text(r).css("font-family",r)}if(o["font-size"]){var u=o["font-size"];e.find(".dropdown-fontsize a").each(function(l,t){var e=n(t),o=e.data("value")+""==u+"";e.toggleClass("checked",o)}),e.find(".note-current-fontsize").text(u)}if(o["line-height"]){var a=o["line-height"];e.find(".dropdown-line-height li a").each(function(l,e){var o=n(e).data("value")+""==a+"";t.className=o?"checked":""})}},l.prototype.updateBtnStates=function(l,t){var e=this;n.each(t,function(n,t){e.ui.toggleBtnActive(l.find(n),t())})},l.prototype.tableMoveHandler=function(l){var t,e=n(l.target.parentNode),o=e.next(),i=e.find(".note-dimension-picker-mousecatcher"),r=e.find(".note-dimension-picker-highlighted"),u=e.find(".note-dimension-picker-unhighlighted");if(void 0===l.offsetX){var a=n(l.target).offset();t={x:l.pageX-a.left,y:l.pageY-a.top}}else t={x:l.offsetX,y:l.offsetY};var s=Math.ceil(t.x/18)||1,c=Math.ceil(t.y/18)||1;r.css({width:s+"em",height:c+"em"}),i.data("value",s+"x"+c),s>3&&s<this.options.insertTableMaxSize.col&&u.css({width:s+1+"em"}),c>3&&c<this.options.insertTableMaxSize.row&&u.css({height:c+1+"em"}),o.html(s+" x "+c)},l}(),Qn=function(){function l(l){this.context=l,this.$window=n(window),this.$document=n(document),this.ui=n.summernote.ui,this.$note=l.layoutInfo.note,this.$editor=l.layoutInfo.editor,this.$toolbar=l.layoutInfo.toolbar,this.options=l.options,this.followScroll=this.followScroll.bind(this)}return l.prototype.shouldInitialize=function(){return!this.options.airMode},l.prototype.initialize=function(){var n=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){n.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},l.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},l.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var l=this.$toolbar.parent(".note-toolbar-wrapper"),t=this.$editor.outerHeight(),e=this.$editor.width(),o=this.$toolbar.height();l.css({height:o});var i=0;this.options.otherStaticBar&&(i=n(this.options.otherStaticBar).outerHeight());var r=this.$document.scrollTop(),u=this.$editor.offset().top;this.$toolbar.css(r>u-i&&r<u+t-i-o?{position:"fixed",top:i,width:e}:{position:"relative",top:0,width:"100%"})},l.prototype.changeContainer=function(n){n?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer)},l.prototype.updateFullscreen=function(n){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),n),this.changeContainer(n)},l.prototype.updateCodeview=function(n){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),n),n?this.deactivate():this.activate()},l.prototype.activate=function(n){var l=this.$toolbar.find("button");n||(l=l.not(".btn-codeview")),this.ui.toggleBtn(l,!0)},l.prototype.deactivate=function(n){var l=this.$toolbar.find("button");n||(l=l.not(".btn-codeview")),this.ui.toggleBtn(l,!1)},l}(),nl=function(){function l(l){this.context=l,this.ui=n.summernote.ui,this.$body=n(document.body),this.$editor=l.layoutInfo.editor,this.options=l.options,this.lang=this.options.langInfo,l.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return l.prototype.initialize=function(){var l=this.options.dialogsInBody?this.$body:this.$editor,t=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control  note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":n("<div/>").append(this.ui.checkbox({id:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join("");this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:t,footer:'<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" disabled>'+this.lang.link.insert+"</button>"}).render().appendTo(l)},l.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},l.prototype.bindEnterKey=function(n,l){n.on("keypress",function(n){n.keyCode===In.code.ENTER&&(n.preventDefault(),l.trigger("click"))})},l.prototype.toggleLinkBtn=function(n,l,t){this.ui.toggleBtn(n,l.val()&&t.val())},l.prototype.showLinkDialog=function(l){var t=this;return n.Deferred(function(n){var e=t.$dialog.find(".note-link-text"),o=t.$dialog.find(".note-link-url"),i=t.$dialog.find(".note-link-btn"),r=t.$dialog.find("input[type=checkbox]");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),l.url||(l.url=l.text),e.val(l.text);var u=function(){t.toggleLinkBtn(i,e,o),l.text=e.val()};e.on("input",u).on("paste",function(){setTimeout(u,0)});var a=function(){t.toggleLinkBtn(i,e,o),l.text||e.val(o.val())};o.on("input",a).on("paste",function(){setTimeout(a,0)}).val(l.url),O.isSupportTouch||o.trigger("focus"),t.toggleLinkBtn(i,e,o),t.bindEnterKey(o,i),t.bindEnterKey(e,i),r.prop("checked",void 0!==l.isNewWindow?l.isNewWindow:t.context.options.linkTargetBlank),i.one("click",function(i){i.preventDefault(),n.resolve({range:l.range,url:o.val(),text:e.val(),isNewWindow:r.is(":checked")}),t.ui.hideDialog(t.$dialog)})}),t.ui.onDialogHidden(t.$dialog,function(){e.off("input paste keypress"),o.off("input paste keypress"),i.off("click"),"pending"===n.state()&&n.reject()}),t.ui.showDialog(t.$dialog)}).promise()},l.prototype.show=function(){var n=this,l=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(l).then(function(l){n.context.invoke("editor.restoreRange"),n.context.invoke("editor.createLink",l)}).fail(function(){n.context.invoke("editor.restoreRange")})},l}(),ll=function(){function l(l){var t=this;this.context=l,this.ui=n.summernote.ui,this.options=l.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}return l.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.link)},l.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(n){n.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",n,this.options.popover.link)},l.prototype.destroy=function(){this.$popover.remove()},l.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var l=this.context.invoke("editor.createRange");if(l.isCollapsed()&&l.isOnAnchor()){var t=Rn.ancestor(l.sc,Rn.isAnchor),e=n(t).attr("href");this.$popover.find("a").attr("href",e).html(e);var o=Rn.posFromPlaceholder(t);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()}else this.hide()},l.prototype.hide=function(){this.$popover.hide()},l}(),tl=function(){function l(l){this.context=l,this.ui=n.summernote.ui,this.$body=n(document.body),this.$editor=l.layoutInfo.editor,this.options=l.options,this.lang=this.options.langInfo}return l.prototype.initialize=function(){var n=this.options.dialogsInBody?this.$body:this.$editor,l="";if(this.options.maximumImageFileSize){var t=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),e=1*(this.options.maximumImageFileSize/Math.pow(1024,t)).toFixed(2)+" "+" KMGTP"[t]+"B";l="<small>"+this.lang.image.maximumFileSize+" : "+e+"</small>"}var o=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',l,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join("");this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:o,footer:'<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" disabled>'+this.lang.image.insert+"</button>"}).render().appendTo(n)},l.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},l.prototype.bindEnterKey=function(n,l){n.on("keypress",function(n){n.keyCode===In.code.ENTER&&(n.preventDefault(),l.trigger("click"))})},l.prototype.show=function(){var n=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(l){n.ui.hideDialog(n.$dialog),n.context.invoke("editor.restoreRange"),n.context.invoke("string"==typeof l?"editor.insertImage":"editor.insertImagesOrCallback",l)}).fail(function(){n.context.invoke("editor.restoreRange")})},l.prototype.showImageDialog=function(){var l=this;return n.Deferred(function(n){var t=l.$dialog.find(".note-image-input"),e=l.$dialog.find(".note-image-url"),o=l.$dialog.find(".note-image-btn");l.ui.onDialogShown(l.$dialog,function(){l.context.triggerEvent("dialog.shown"),t.replaceWith(t.clone().on("change",function(l){n.resolve(l.target.files||l.target.value)}).val("")),o.click(function(l){l.preventDefault(),n.resolve(e.val())}),e.on("keyup paste",function(){var n=e.val();l.ui.toggleBtn(o,n)}).val(""),O.isSupportTouch||e.trigger("focus"),l.bindEnterKey(e,o)}),l.ui.onDialogHidden(l.$dialog,function(){t.off("change"),e.off("keyup paste keypress"),o.off("click"),"pending"===n.state()&&n.reject()}),l.ui.showDialog(l.$dialog)})},l}(),el=function(){function l(l){var t=this;this.context=l,this.ui=n.summernote.ui,this.editable=l.layoutInfo.editable[0],this.options=l.options,this.events={"summernote.disable":function(){t.hide()}}}return l.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.image)},l.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",n,this.options.popover.image)},l.prototype.destroy=function(){this.$popover.remove()},l.prototype.update=function(n){if(Rn.isImg(n)){var l=Rn.posFromPlaceholder(n),t=Rn.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?event.pageX-20:l.left,top:this.options.popatmouse?event.pageY:Math.min(l.top,t.top)})}else this.hide()},l.prototype.hide=function(){this.$popover.hide()},l}(),ol=function(){function l(l){var t=this;this.context=l,this.ui=n.summernote.ui,this.options=l.options,this.events={"summernote.mousedown":function(n,l){t.update(l.target)},"summernote.keyup summernote.scroll summernote.change":function(){t.update()},"summernote.disable":function(){t.hide()}}}return l.prototype.shouldInitialize=function(){return!M.isEmpty(this.options.popover.table)},l.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",n,this.options.popover.table),O.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},l.prototype.destroy=function(){this.$popover.remove()},l.prototype.update=function(n){if(this.context.isDisabled())return!1;var l=Rn.isCell(n);if(l){var t=Rn.posFromPlaceholder(n);this.$popover.css({display:"block",left:t.left,top:t.top})}else this.hide();return l},l.prototype.hide=function(){this.$popover.hide()},l}(),il=function(){function l(l){this.context=l,this.ui=n.summernote.ui,this.$body=n(document.body),this.$editor=l.layoutInfo.editor,this.options=l.options,this.lang=this.options.langInfo}return l.prototype.initialize=function(){var n=this.options.dialogsInBody?this.$body:this.$editor,l=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join("");this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:l,footer:'<button type="submit" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" disabled>'+this.lang.video.insert+"</button>"}).render().appendTo(n)},l.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},l.prototype.bindEnterKey=function(n,l){n.on("keypress",function(n){n.keyCode===In.code.ENTER&&(n.preventDefault(),l.trigger("click"))})},l.prototype.createVideoNode=function(l){var t,e=l.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/),o=l.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),i=l.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),r=l.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),u=l.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),a=l.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),s=l.match(/\/\/v\.qq\.com.*?vid=(.+)/),c=l.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),d=l.match(/^.+.(mp4|m4v)$/),p=l.match(/^.+.(ogg|ogv)$/),h=l.match(/^.+.(webm)$/);if(e&&11===e[1].length){var f=e[1];t=n("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+f).attr("width","640").attr("height","360")}else if(o&&o[0].length)t=n("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(i&&i[0].length)t=n("<iframe>").attr("frameborder",0).attr("src",i[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(r&&r[3].length)t=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+r[3]).attr("width","640").attr("height","360");else if(u&&u[2].length)t=n("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+u[2]).attr("width","640").attr("height","360");else if(a&&a[1].length)t=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+a[1]);else if(s&&s[1].length||c&&c[2].length){var g=s&&s[1].length?s[1]:c[2];t=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+g+"&amp;auto=0")}else{if(!(d||p||h))return!1;t=n("<video controls>").attr("src",l).attr("width","640").attr("height","360")}return t.addClass("note-video-clip"),t[0]},l.prototype.show=function(){var n=this,l=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(l).then(function(l){n.ui.hideDialog(n.$dialog),n.context.invoke("editor.restoreRange");var t=n.createVideoNode(l);t&&n.context.invoke("editor.insertNode",t)}).fail(function(){n.context.invoke("editor.restoreRange")})},l.prototype.showVideoDialog=function(l){var t=this;return n.Deferred(function(n){var e=t.$dialog.find(".note-video-url"),o=t.$dialog.find(".note-video-btn");t.ui.onDialogShown(t.$dialog,function(){t.context.triggerEvent("dialog.shown"),e.val(l).on("input",function(){t.ui.toggleBtn(o,e.val())}),O.isSupportTouch||e.trigger("focus"),o.click(function(l){l.preventDefault(),n.resolve(e.val())}),t.bindEnterKey(e,o)}),t.ui.onDialogHidden(t.$dialog,function(){e.off("input"),o.off("click"),"pending"===n.state()&&n.reject()}),t.ui.showDialog(t.$dialog)})},l}(),rl=function(){function l(l){this.context=l,this.ui=n.summernote.ui,this.$body=n(document.body),this.$editor=l.layoutInfo.editor,this.options=l.options,this.lang=this.options.langInfo}return l.prototype.initialize=function(){var n=this.options.dialogsInBody?this.$body:this.$editor,l=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.10</a> \xb7 ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> \xb7 ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:l,callback:function(n){n.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(n)},l.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},l.prototype.createShortcutList=function(){var l=this,t=this.options.keyMap[O.isMac?"mac":"pc"];return Object.keys(t).map(function(e){var o=t[e],i=n('<div><div class="help-list-item"/></div>');return i.append(n("<label><kbd>"+e+"</kdb></label>").css({width:180,"margin-right":10})).append(n("<span/>").html(l.context.memo("help."+o)||o)),i.html()}).join("")},l.prototype.showHelpDialog=function(){var l=this;return n.Deferred(function(n){l.ui.onDialogShown(l.$dialog,function(){l.context.triggerEvent("dialog.shown"),n.resolve()}),l.ui.showDialog(l.$dialog)}).promise()},l.prototype.show=function(){var n=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){n.context.invoke("editor.restoreRange")})},l}(),ul=function(){function l(l){var t=this;this.context=l,this.ui=n.summernote.ui,this.options=l.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(n,l){O.isFF||l.relatedTarget&&Rn.ancestor(l.relatedTarget,y.eq(t.$popover[0]))||t.hide()}}}return l.prototype.shouldInitialize=function(){return this.options.airMode&&!M.isEmpty(this.options.popover.air)},l.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var n=this.$popover.find(".popover-content");this.context.invoke("buttons.build",n,this.options.popover.air)},l.prototype.destroy=function(){this.$popover.remove()},l.prototype.update=function(){var n=this.context.invoke("editor.currentStyle");if(n.range&&!n.range.isCollapsed()){var l=M.last(n.range.getClientRects());if(l){var t=y.rect2bnd(l);this.$popover.css({display:"block",left:Math.max(t.left+t.width/2,0)-20,top:t.top+t.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},l.prototype.hide=function(){this.$popover.hide()},l}(),al=function(){function l(l){var t=this;this.context=l,this.ui=n.summernote.ui,this.$editable=l.layoutInfo.editable,this.options=l.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=n.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(n,l){l.isDefaultPrevented()||t.handleKeyup(l)},"summernote.keydown":function(n,l){t.handleKeydown(l)},"summernote.disable summernote.dialog.shown":function(){t.hide()}}}return l.prototype.shouldInitialize=function(){return this.hints.length>0},l.prototype.initialize=function(){var l=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(){l.$content.find(".active").removeClass("active"),n(l).addClass("active"),l.replace()})},l.prototype.destroy=function(){this.$popover.remove()},l.prototype.selectItem=function(n){this.$content.find(".active").removeClass("active"),n.addClass("active"),this.$content[0].scrollTop=n[0].offsetTop-this.$content.innerHeight()/2},l.prototype.moveDown=function(){var n=this.$content.find(".note-hint-item.active"),l=n.next();if(l.length)this.selectItem(l);else{var t=n.parent().next();t.length||(t=this.$content.find(".note-hint-group").first()),this.selectItem(t.find(".note-hint-item").first())}},l.prototype.moveUp=function(){var n=this.$content.find(".note-hint-item.active"),l=n.prev();if(l.length)this.selectItem(l);else{var t=n.parent().prev();t.length||(t=this.$content.find(".note-hint-group").last()),this.selectItem(t.find(".note-hint-item").last())}},l.prototype.replace=function(){var n=this.$content.find(".note-hint-item.active");if(n.length){var l=this.nodeFromItem(n);this.lastWordRange.insertNode(l),An.createFromNode(l).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},l.prototype.nodeFromItem=function(n){var l=this.hints[n.data("index")],t=n.data("item"),e=l.content?l.content(t):t;return"string"==typeof e&&(e=Rn.createText(e)),e},l.prototype.createItemTemplates=function(l,t){var e=this.hints[l];return t.map(function(t,o){var i=n('<div class="note-hint-item"/>');return i.append(e.template?e.template(t):t+""),i.data({index:l,item:t}),i})},l.prototype.handleKeydown=function(n){this.$popover.is(":visible")&&(n.keyCode===In.code.ENTER?(n.preventDefault(),this.replace()):n.keyCode===In.code.UP?(n.preventDefault(),this.moveUp()):n.keyCode===In.code.DOWN&&(n.preventDefault(),this.moveDown()))},l.prototype.searchKeyword=function(n,l,t){var e=this.hints[n];if(e&&e.match.test(l)&&e.search){var o=e.match.exec(l);e.search(o[1],t)}else t()},l.prototype.createGroup=function(l,t){var e=this,o=n('<div class="note-hint-group note-hint-group-'+l+'"/>');return this.searchKeyword(l,t,function(n){(n=n||[]).length&&(o.html(e.createItemTemplates(l,n)),e.show())}),o},l.prototype.handleKeyup=function(n){var l=this;if(!M.contains([In.code.ENTER,In.code.UP,In.code.DOWN],n.keyCode)){var t=this.context.invoke("editor.createRange").getWordRange(),e=t.toString();if(this.hints.length&&e){this.$content.empty();var o=y.rect2bnd(M.last(t.getClientRects()));o&&(this.$popover.hide(),this.lastWordRange=t,this.hints.forEach(function(n,t){n.match.test(e)&&l.createGroup(t,e).appendTo(l.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),this.$popover.css("top"===this.direction?{left:o.left,top:o.top-this.$popover.outerHeight()-5}:{left:o.left,top:o.top+o.height+5}))}else this.hide()}},l.prototype.show=function(){this.$popover.show()},l.prototype.hide=function(){this.$popover.hide()},l}(),sl=function(){function l(l,t){this.ui=n.summernote.ui,this.$note=l,this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize()}return l.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},l.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},l.prototype.reset=function(){var n=this.isDisabled();this.code(Rn.emptyPara),this._destroy(),this._initialize(),n&&this.disable()},l.prototype._initialize=function(){var l=this,t=n.extend({},this.options.buttons);Object.keys(t).forEach(function(n){l.memo("button."+n,t[n])});var e=n.extend({},this.options.modules,n.summernote.plugins||{});Object.keys(e).forEach(function(n){l.module(n,e[n],!0)}),Object.keys(this.modules).forEach(function(n){l.initializeModule(n)})},l.prototype._destroy=function(){var n=this;Object.keys(this.modules).reverse().forEach(function(l){n.removeModule(l)}),Object.keys(this.memos).forEach(function(l){n.removeMemo(l)}),this.triggerEvent("destroy",this)},l.prototype.code=function(n){var l=this.invoke("codeview.isActivated");if(void 0===n)return this.invoke("codeview.sync"),l?this.layoutInfo.codable.val():this.layoutInfo.editable.html();l?this.layoutInfo.codable.val(n):this.layoutInfo.editable.html(n),this.$note.val(n),this.triggerEvent("change",n)},l.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},l.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},l.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},l.prototype.triggerEvent=function(){var n=M.head(arguments),l=M.tail(M.from(arguments)),t=this.options.callbacks[y.namespaceToCamel(n,"on")];t&&t.apply(this.$note[0],l),this.$note.trigger("summernote."+n,l)},l.prototype.initializeModule=function(n){var l=this.modules[n];l.shouldInitialize=l.shouldInitialize||y.ok,l.shouldInitialize()&&(l.initialize&&l.initialize(),l.events&&Rn.attachEvents(this.$note,l.events))},l.prototype.module=function(n,l,t){if(1===arguments.length)return this.modules[n];this.modules[n]=new l(this),t||this.initializeModule(n)},l.prototype.removeModule=function(n){var l=this.modules[n];l.shouldInitialize()&&(l.events&&Rn.detachEvents(this.$note,l.events),l.destroy&&l.destroy()),delete this.modules[n]},l.prototype.memo=function(n,l){if(1===arguments.length)return this.memos[n];this.memos[n]=l},l.prototype.removeMemo=function(n){this.memos[n]&&this.memos[n].destroy&&this.memos[n].destroy(),delete this.memos[n]},l.prototype.createInvokeHandlerAndUpdateState=function(n,l){var t=this;return function(e){t.createInvokeHandler(n,l)(e),t.invoke("buttons.updateCurrentStyle")}},l.prototype.createInvokeHandler=function(l,t){var e=this;return function(o){o.preventDefault();var i=n(o.target);e.invoke(l,t||i.closest("[data-value]").data("value"),i)}},l.prototype.invoke=function(){var n=M.head(arguments),l=M.tail(M.from(arguments)),t=n.split("."),e=t.length>1,o=e&&M.head(t),i=e?M.last(t):M.head(t),r=this.modules[o||"editor"];return!o&&this[i]?this[i].apply(this,l):r&&r[i]&&r.shouldInitialize()?r[i].apply(r,l):void 0},l}();n.fn.extend({summernote:function(){var l=n.type(M.head(arguments)),t="string"===l,e=n.extend({},n.summernote.options,"object"===l?M.head(arguments):{});e.langInfo=n.extend(!0,{},n.summernote.lang["en-US"],n.summernote.lang[e.lang]),e.icons=n.extend(!0,{},n.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!O.isSupportTouch:e.tooltip,this.each(function(l,t){var o=n(t);if(!o.data("summernote")){var i=new sl(o,e);o.data("summernote",i),o.data("summernote").triggerEvent("init",i.layoutInfo)}});var o=this.first();if(o.length){var i=o.data("summernote");if(t)return i.invoke.apply(i,M.from(arguments));e.focus&&i.invoke("editor.focus")}return this}}),n.summernote=n.extend(n.summernote,{version:"0.8.10",ui:m,dom:Rn,plugins:{},options:{modules:{editor:Bn,clipboard:Wn,dropzone:Un,codeview:Vn,statusbar:jn,fullscreen:Kn,handle:Gn,hintPopover:al,autoLink:qn,autoSync:Xn,placeholder:Zn,buttons:Jn,toolbar:Qn,linkDialog:nl,linkPopover:ll,imageDialog:tl,imagePopover:el,tablePopover:ol,videoDialog:il,helpDialog:rl,airPopover:ul},buttons:{},lang:"en-US",followingToolbar:!0,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onBlurCodeview:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}(t("EVdn"))},PDX0:function(n,l){(function(l){n.exports=l}).call(this,{})},V8fd:function(n,l,t){"use strict";t.d(l,"a",function(){return m});var e=t("CcnG"),o=t("gIcY"),i=t("DbR8"),r=t("Bx3A"),u=t("Ip0R"),a=t("f7q6"),s=t("5BiO"),c=t("ltv5"),d=t("+TkM"),p=t("ZYCi"),h=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,60,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,23,"td",[["class","w-200px text-center"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,22,"div",[["class","radio-select inline-block"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,10,"label",[],null,null,null,null,null)),(n()(),e["\u0275eld"](13,0,null,null,6,"input",[["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,14)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,14).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,14)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,14)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,15).onChange()&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,15).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.type=t)&&o),o},null,null)),e["\u0275did"](14,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](15,212992,null,0,o.m,[e.Renderer2,e.ElementRef,o.r,e.Injector],{name:[0,"name"],value:[1,"value"]},null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.m]),e["\u0275did"](17,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](19,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](20,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),e["\u0275ted"](21,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](23,0,null,null,10,"label",[],null,null,null,null,null)),(n()(),e["\u0275eld"](24,0,null,null,6,"input",[["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,25)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,25).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,25)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,25)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,26).onChange()&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,26).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.type=t)&&o),o},null,null)),e["\u0275did"](25,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](26,212992,null,0,o.m,[e.Renderer2,e.ElementRef,o.r,e.Injector],{name:[0,"name"],value:[1,"value"]},null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.m]),e["\u0275did"](28,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](30,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](31,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),e["\u0275ted"](32,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](34,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](35,0,null,null,6,"label",[["class","input w-100"]],null,null,null,null,null)),(n()(),e["\u0275eld"](36,0,null,null,5,"input",[["class","form-control padding-6"],["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,37)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,37).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,37)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,37)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.name=t)&&o),o},null,null)),e["\u0275did"](37,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](39,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](41,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](42,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](43,0,null,null,6,"label",[["class","input w-100"]],null,null,null,null,null)),(n()(),e["\u0275eld"](44,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,45)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,45).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,45)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,45)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.description=t)&&o),o},null,null)),e["\u0275did"](45,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](47,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](49,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](50,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](51,0,null,null,6,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](52,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,53)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,53).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,53)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,53)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.amount=t)&&o),o},null,null)),e["\u0275did"](53,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](55,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](57,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](58,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](59,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](60,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,15,0,e["\u0275inlineInterpolate"](1,"type_",l.context.index,""),1),n(l,17,0,e["\u0275inlineInterpolate"](1,"type_",l.context.index,""),l.context.$implicit.type),n(l,26,0,e["\u0275inlineInterpolate"](1,"type_",l.context.index,""),2),n(l,28,0,e["\u0275inlineInterpolate"](1,"type_",l.context.index,""),l.context.$implicit.type),n(l,39,0,l.context.$implicit.name),n(l,47,0,l.context.$implicit.description),n(l,55,0,l.context.$implicit.amount)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,13,0,e["\u0275nov"](l,19).ngClassUntouched,e["\u0275nov"](l,19).ngClassTouched,e["\u0275nov"](l,19).ngClassPristine,e["\u0275nov"](l,19).ngClassDirty,e["\u0275nov"](l,19).ngClassValid,e["\u0275nov"](l,19).ngClassInvalid,e["\u0275nov"](l,19).ngClassPending),n(l,21,0,e["\u0275unv"](l,21,0,e["\u0275nov"](l,22).transform("\u0411\u043e\u043d\u0443\u0441"))),n(l,24,0,e["\u0275nov"](l,30).ngClassUntouched,e["\u0275nov"](l,30).ngClassTouched,e["\u0275nov"](l,30).ngClassPristine,e["\u0275nov"](l,30).ngClassDirty,e["\u0275nov"](l,30).ngClassValid,e["\u0275nov"](l,30).ngClassInvalid,e["\u0275nov"](l,30).ngClassPending),n(l,32,0,e["\u0275unv"](l,32,0,e["\u0275nov"](l,33).transform("\u0428\u0442\u0440\u0430\u0444"))),n(l,36,0,e["\u0275nov"](l,41).ngClassUntouched,e["\u0275nov"](l,41).ngClassTouched,e["\u0275nov"](l,41).ngClassPristine,e["\u0275nov"](l,41).ngClassDirty,e["\u0275nov"](l,41).ngClassValid,e["\u0275nov"](l,41).ngClassInvalid,e["\u0275nov"](l,41).ngClassPending),n(l,44,0,e["\u0275nov"](l,49).ngClassUntouched,e["\u0275nov"](l,49).ngClassTouched,e["\u0275nov"](l,49).ngClassPristine,e["\u0275nov"](l,49).ngClassDirty,e["\u0275nov"](l,49).ngClassValid,e["\u0275nov"](l,49).ngClassInvalid,e["\u0275nov"](l,49).ngClassPending),n(l,52,0,e["\u0275nov"](l,57).ngClassUntouched,e["\u0275nov"](l,57).ngClassTouched,e["\u0275nov"](l,57).ngClassPristine,e["\u0275nov"](l,57).ngClassDirty,e["\u0275nov"](l,57).ngClassValid,e["\u0275nov"](l,57).ngClassInvalid,e["\u0275nov"](l,57).ngClassPending)})}function g(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,f)),e["\u0275did"](2,802816,null,0,u.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.bonuses)},null)}function v(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,44,"div",[["class","animated fadeInUp"],["id","content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,2,"sa-big-breadcrumbs",[["class","col-xs-12"],["icon","fas fa-money-check-alt"]],null,null,null,a.b,a.a)),e["\u0275did"](3,114688,null,0,s.a,[u.Location],{icon:[0,"icon"],items:[1,"items"]},null),e["\u0275pad"](4,2),(n()(),e["\u0275eld"](5,0,null,null,39,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](6,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,37,"article",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,36,"div",[["class","well"],["sa-widget",""]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,35,"div",[["class","active-order-holder user-edit"]],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,34,"div",[["class","widget-body no-padding"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,33,"div",[["class","well"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,32,"div",[["class","row"],["style","margin:0;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](13,0,null,null,31,"article",[["class","col-xs-12 margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](14,0,null,null,30,"div",[["class","widget-body"]],null,null,null,null,null)),(n()(),e["\u0275eld"](15,0,null,null,23,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,22,"table",[["class","table table-hover table-bordered table-prices td-h-auto"]],null,null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,19,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,18,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](21,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](23,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](25,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](26,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](28,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](29,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](31,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](32,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](34,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](35,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](36,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,g)),e["\u0275did"](38,16384,null,0,u.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](39,0,null,null,5,"div",[["class","smart-form margin-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](40,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](41,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catSave()&&e),e},null,null)),(n()(),e["\u0275eld"](42,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](43,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a])],function(n,l){var t=l.component;n(l,3,0,"fas fa-money-check-alt",n(l,4,0,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","\u0411\u043e\u043d\u0443\u0441\u044b \u0438 \u0448\u0442\u0440\u0430\u0444\u044b")),n(l,38,0,t.bonuses)},function(n,l){var t=l.component;n(l,23,0,e["\u0275unv"](l,23,0,e["\u0275nov"](l,24).transform("\u0422\u0438\u043f"))),n(l,26,0,e["\u0275unv"](l,26,0,e["\u0275nov"](l,27).transform("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"))),n(l,29,0,e["\u0275unv"](l,29,0,e["\u0275nov"](l,30).transform("\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"))),n(l,32,0,e["\u0275unv"](l,32,0,e["\u0275nov"](l,33).transform("\u0421\u0443\u043c\u043c\u0430"))),n(l,41,0,t.loading),n(l,42,0,t.loading,!t.loading),n(l,43,0,e["\u0275unv"](l,43,0,e["\u0275nov"](l,44).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})}var m=e["\u0275ccf"]("bonuses",c.a,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"bonuses",[],null,null,null,v,h)),e["\u0275did"](1,114688,null,0,c.a,[d.a,p.a,p.n],null,null)],function(n,l){n(l,1,0)},null)},{},{},[])},"VrN/":function(n,l,t){n.exports=function(){"use strict";var n=navigator.userAgent,l=navigator.platform,t=/gecko\/\d/i.test(n),e=/MSIE \d/.test(n),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),i=/Edge\/(\d+)/.exec(n),r=e||o||i,u=r&&(e?document.documentMode||6:+(i||o)[1]),a=!i&&/WebKit\//.test(n),s=a&&/Qt\/\d+\.\d+/.test(n),c=!i&&/Chrome\//.test(n),d=/Opera\//.test(n),p=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),f=/PhantomJS/.test(n),g=!i&&/AppleWebKit/.test(n)&&/Mobile\/\w+/.test(n),v=/Android/.test(n),m=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),b=g||/Mac/.test(l),y=/\bCrOS\b/.test(n),C=/win/i.test(l),x=d&&n.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(d=!1,a=!0);var w=b&&(s||d&&(null==x||x<12.11)),k=t||r&&u>=9;function S(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}var T,M=function(n,l){var t=n.className,e=S(l).exec(t);if(e){var o=t.slice(e.index+e[0].length);n.className=t.slice(0,e.index)+(o?e[1]+o:"")}};function R(n){for(var l=n.childNodes.length;l>0;--l)n.removeChild(n.firstChild);return n}function L(n,l){return R(n).appendChild(l)}function I(n,l,t,e){var o=document.createElement(n);if(t&&(o.className=t),e&&(o.style.cssText=e),"string"==typeof l)o.appendChild(document.createTextNode(l));else if(l)for(var i=0;i<l.length;++i)o.appendChild(l[i]);return o}function N(n,l,t,e){var o=I(n,l,t,e);return o.setAttribute("role","presentation"),o}function E(n,l){if(3==l.nodeType&&(l=l.parentNode),n.contains)return n.contains(l);do{if(11==l.nodeType&&(l=l.host),l==n)return!0}while(l=l.parentNode)}function D(){var n;try{n=document.activeElement}catch(l){n=document.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function A(n,l){var t=n.className;S(l).test(t)||(n.className+=(t?" ":"")+l)}function P(n,l){for(var t=n.split(" "),e=0;e<t.length;e++)t[e]&&!S(t[e]).test(l)&&(l+=" "+t[e]);return l}T=document.createRange?function(n,l,t,e){var o=document.createRange();return o.setEnd(e||n,t),o.setStart(n,l),o}:function(n,l,t){var e=document.body.createTextRange();try{e.moveToElementText(n.parentNode)}catch(n){return e}return e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",l),e};var $=function(n){n.select()};function O(n){var l=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,l)}}function F(n,l,t){for(var e in l||(l={}),n)!n.hasOwnProperty(e)||!1===t&&l.hasOwnProperty(e)||(l[e]=n[e]);return l}function H(n,l,t,e,o){null==l&&-1==(l=n.search(/[^\s\u00a0]/))&&(l=n.length);for(var i=e||0,r=o||0;;){var u=n.indexOf("\t",i);if(u<0||u>=l)return r+(l-i);r+=u-i,r+=t-r%t,i=u+1}}g?$=function(n){n.selectionStart=0,n.selectionEnd=n.value.length}:r&&($=function(n){try{n.select()}catch(n){}});var _=function(){this.id=null};function z(n,l){for(var t=0;t<n.length;++t)if(n[t]==l)return t;return-1}_.prototype.set=function(n,l){clearTimeout(this.id),this.id=setTimeout(l,n)};var B=30,W={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},V={origin:"*mouse"},j={origin:"+move"};function K(n,l,t){for(var e=0,o=0;;){var i=n.indexOf("\t",e);-1==i&&(i=n.length);var r=i-e;if(i==n.length||o+r>=l)return e+Math.min(r,l-o);if(o+=i-e,e=i+1,(o+=t-o%t)>=l)return e}}var G=[""];function Y(n){for(;G.length<=n;)G.push(q(G)+" ");return G[n]}function q(n){return n[n.length-1]}function X(n,l){for(var t=[],e=0;e<n.length;e++)t[e]=l(n[e],e);return t}function Z(){}function J(n,l){var t;return Object.create?t=Object.create(n):(Z.prototype=n,t=new Z),l&&F(l,t),t}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function nn(n){return/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||Q.test(n))}function ln(n,l){return l?!!(l.source.indexOf("\\w")>-1&&nn(n))||l.test(n):nn(n)}function tn(n){for(var l in n)if(n.hasOwnProperty(l)&&n[l])return!1;return!0}var en=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function on(n){return n.charCodeAt(0)>=768&&en.test(n)}function rn(n,l,t){for(;(t<0?l>0:l<n.length)&&on(n.charAt(l));)l+=t;return l}function un(n,l,t){for(var e=l>t?-1:1;;){if(l==t)return l;var o=(l+t)/2,i=e<0?Math.ceil(o):Math.floor(o);if(i==l)return n(i)?l:t;n(i)?t=i:l=i+e}}function an(n,l){if((l-=n.first)<0||l>=n.size)throw new Error("There is no line "+(l+n.first)+" in the document.");for(var t=n;!t.lines;)for(var e=0;;++e){var o=t.children[e],i=o.chunkSize();if(l<i){t=o;break}l-=i}return t.lines[l]}function sn(n,l,t){var e=[],o=l.line;return n.iter(l.line,t.line+1,function(n){var i=n.text;o==t.line&&(i=i.slice(0,t.ch)),o==l.line&&(i=i.slice(l.ch)),e.push(i),++o}),e}function cn(n,l,t){var e=[];return n.iter(l,t,function(n){e.push(n.text)}),e}function dn(n,l){var t=l-n.height;if(t)for(var e=n;e;e=e.parent)e.height+=t}function pn(n){if(null==n.parent)return null;for(var l=n.parent,t=z(l.lines,n),e=l.parent;e;l=e,e=e.parent)for(var o=0;e.children[o]!=l;++o)t+=e.children[o].chunkSize();return t+l.first}function hn(n,l){var t=n.first;n:do{for(var e=0;e<n.children.length;++e){var o=n.children[e],i=o.height;if(l<i){n=o;continue n}l-=i,t+=o.chunkSize()}return t}while(!n.lines);for(var r=0;r<n.lines.length;++r){var u=n.lines[r].height;if(l<u)break;l-=u}return t+r}function fn(n,l){return l>=n.first&&l<n.first+n.size}function gn(n,l){return String(n.lineNumberFormatter(l+n.firstLineNumber))}function vn(n,l,t){if(void 0===t&&(t=null),!(this instanceof vn))return new vn(n,l,t);this.line=n,this.ch=l,this.sticky=t}function mn(n,l){return n.line-l.line||n.ch-l.ch}function bn(n,l){return n.sticky==l.sticky&&0==mn(n,l)}function yn(n){return vn(n.line,n.ch)}function Cn(n,l){return mn(n,l)<0?l:n}function xn(n,l){return mn(n,l)<0?n:l}function wn(n,l){return Math.max(n.first,Math.min(l,n.first+n.size-1))}function kn(n,l){if(l.line<n.first)return vn(n.first,0);var t=n.first+n.size-1;return l.line>t?vn(t,an(n,t).text.length):function(n,l){var t=n.ch;return null==t||t>l?vn(n.line,l):t<0?vn(n.line,0):n}(l,an(n,l.line).text.length)}function Sn(n,l){for(var t=[],e=0;e<l.length;e++)t[e]=kn(n,l[e]);return t}var Tn=!1,Mn=!1;function Rn(n,l,t){this.marker=n,this.from=l,this.to=t}function Ln(n,l){if(n)for(var t=0;t<n.length;++t){var e=n[t];if(e.marker==l)return e}}function In(n,l){for(var t,e=0;e<n.length;++e)n[e]!=l&&(t||(t=[])).push(n[e]);return t}function Nn(n,l){if(l.full)return null;var t=fn(n,l.from.line)&&an(n,l.from.line).markedSpans,e=fn(n,l.to.line)&&an(n,l.to.line).markedSpans;if(!t&&!e)return null;var o=l.from.ch,i=l.to.ch,r=0==mn(l.from,l.to),u=function(n,l,t){var e;if(n)for(var o=0;o<n.length;++o){var i=n[o],r=i.marker;null!=i.from&&!(r.inclusiveLeft?i.from<=l:i.from<l)&&(i.from!=l||"bookmark"!=r.type||t&&i.marker.insertLeft)||(e||(e=[])).push(new Rn(r,i.from,null==i.to||(r.inclusiveRight?i.to>=l:i.to>l)?null:i.to))}return e}(t,o,r),a=function(n,l,t){var e;if(n)for(var o=0;o<n.length;++o){var i=n[o],r=i.marker;(null==i.to||(r.inclusiveRight?i.to>=l:i.to>l)||i.from==l&&"bookmark"==r.type&&(!t||i.marker.insertLeft))&&(e||(e=[])).push(new Rn(r,null==i.from||(r.inclusiveLeft?i.from<=l:i.from<l)?null:i.from-l,null==i.to?null:i.to-l))}return e}(e,i,r),s=1==l.text.length,c=q(l.text).length+(s?o:0);if(u)for(var d=0;d<u.length;++d){var p=u[d];if(null==p.to){var h=Ln(a,p.marker);h?s&&(p.to=null==h.to?null:h.to+c):p.to=o}}if(a)for(var f=0;f<a.length;++f){var g=a[f];null!=g.to&&(g.to+=c),null==g.from?Ln(u,g.marker)||(g.from=c,s&&(u||(u=[])).push(g)):(g.from+=c,s&&(u||(u=[])).push(g))}u&&(u=En(u)),a&&a!=u&&(a=En(a));var v=[u];if(!s){var m,b=l.text.length-2;if(b>0&&u)for(var y=0;y<u.length;++y)null==u[y].to&&(m||(m=[])).push(new Rn(u[y].marker,null,null));for(var C=0;C<b;++C)v.push(m);v.push(a)}return v}function En(n){for(var l=0;l<n.length;++l){var t=n[l];null!=t.from&&t.from==t.to&&!1!==t.marker.clearWhenEmpty&&n.splice(l--,1)}return n.length?n:null}function Dn(n){var l=n.markedSpans;if(l){for(var t=0;t<l.length;++t)l[t].marker.detachLine(n);n.markedSpans=null}}function An(n,l){if(l){for(var t=0;t<l.length;++t)l[t].marker.attachLine(n);n.markedSpans=l}}function Pn(n){return n.inclusiveLeft?-1:0}function $n(n){return n.inclusiveRight?1:0}function On(n,l){var t=n.lines.length-l.lines.length;if(0!=t)return t;var e=n.find(),o=l.find(),i=mn(e.from,o.from)||Pn(n)-Pn(l);return i?-i:mn(e.to,o.to)||$n(n)-$n(l)||l.id-n.id}function Fn(n,l){var t,e=Mn&&n.markedSpans;if(e)for(var o=void 0,i=0;i<e.length;++i)(o=e[i]).marker.collapsed&&null==(l?o.from:o.to)&&(!t||On(t,o.marker)<0)&&(t=o.marker);return t}function Hn(n){return Fn(n,!0)}function _n(n){return Fn(n,!1)}function zn(n,l){var t,e=Mn&&n.markedSpans;if(e)for(var o=0;o<e.length;++o){var i=e[o];i.marker.collapsed&&(null==i.from||i.from<l)&&(null==i.to||i.to>l)&&(!t||On(t,i.marker)<0)&&(t=i.marker)}return t}function Bn(n,l,t,e,o){var i=an(n,l),r=Mn&&i.markedSpans;if(r)for(var u=0;u<r.length;++u){var a=r[u];if(a.marker.collapsed){var s=a.marker.find(0),c=mn(s.from,t)||Pn(a.marker)-Pn(o),d=mn(s.to,e)||$n(a.marker)-$n(o);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?mn(s.to,t)>=0:mn(s.to,t)>0)||c>=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?mn(s.from,e)<=0:mn(s.from,e)<0)))return!0}}}function Wn(n){for(var l;l=Hn(n);)n=l.find(-1,!0).line;return n}function Un(n,l){var t=an(n,l),e=Wn(t);return t==e?l:pn(e)}function Vn(n,l){if(l>n.lastLine())return l;var t,e=an(n,l);if(!jn(n,e))return l;for(;t=_n(e);)e=t.find(1,!0).line;return pn(e)+1}function jn(n,l){var t=Mn&&l.markedSpans;if(t)for(var e=void 0,o=0;o<t.length;++o)if((e=t[o]).marker.collapsed){if(null==e.from)return!0;if(!e.marker.widgetNode&&0==e.from&&e.marker.inclusiveLeft&&Kn(n,l,e))return!0}}function Kn(n,l,t){if(null==t.to){var e=t.marker.find(1,!0);return Kn(n,e.line,Ln(e.line.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==l.text.length)return!0;for(var o=void 0,i=0;i<l.markedSpans.length;++i)if((o=l.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==t.to&&(null==o.to||o.to!=t.from)&&(o.marker.inclusiveLeft||t.marker.inclusiveRight)&&Kn(n,l,o))return!0}function Gn(n){for(var l=0,t=(n=Wn(n)).parent,e=0;e<t.lines.length;++e){var o=t.lines[e];if(o==n)break;l+=o.height}for(var i=t.parent;i;i=(t=i).parent)for(var r=0;r<i.children.length;++r){var u=i.children[r];if(u==t)break;l+=u.height}return l}function Yn(n){if(0==n.height)return 0;for(var l,t=n.text.length,e=n;l=Hn(e);){var o=l.find(0,!0);e=o.from.line,t+=o.from.ch-o.to.ch}for(e=n;l=_n(e);){var i=l.find(0,!0);t-=e.text.length-i.from.ch,t+=(e=i.to.line).text.length-i.to.ch}return t}function qn(n){var l=n.display,t=n.doc;l.maxLine=an(t,t.first),l.maxLineLength=Yn(l.maxLine),l.maxLineChanged=!0,t.iter(function(n){var t=Yn(n);t>l.maxLineLength&&(l.maxLineLength=t,l.maxLine=n)})}var Xn=null;function Zn(n,l,t){var e;Xn=null;for(var o=0;o<n.length;++o){var i=n[o];if(i.from<l&&i.to>l)return o;i.to==l&&(i.from!=i.to&&"before"==t?e=o:Xn=o),i.from==l&&(i.from!=i.to&&"before"!=t?e=o:Xn=o)}return null!=e?e:Xn}var Jn=function(){var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,l=/[stwN]/,t=/[LRr]/,e=/[Lb1n]/,o=/[1n]/;function i(n,l,t){this.level=n,this.from=l,this.to=t}return function(r,u){var a,s="ltr"==u?"L":"R";if(0==r.length||"ltr"==u&&!n.test(r))return!1;for(var c=r.length,d=[],p=0;p<c;++p)d.push((a=r.charCodeAt(p))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):1424<=a&&a<=1524?"R":1536<=a&&a<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(a-1536):1774<=a&&a<=2220?"r":8192<=a&&a<=8203?"w":8204==a?"b":"L");for(var h=0,f=s;h<c;++h){var g=d[h];"m"==g?d[h]=f:f=g}for(var v=0,m=s;v<c;++v){var b=d[v];"1"==b&&"r"==m?d[v]="n":t.test(b)&&(m=b,"r"==b&&(d[v]="R"))}for(var y=1,C=d[0];y<c-1;++y){var x=d[y];"+"==x&&"1"==C&&"1"==d[y+1]?d[y]="1":","!=x||C!=d[y+1]||"1"!=C&&"n"!=C||(d[y]=C),C=x}for(var w=0;w<c;++w){var k=d[w];if(","==k)d[w]="N";else if("%"==k){var S=void 0;for(S=w+1;S<c&&"%"==d[S];++S);for(var T=w&&"!"==d[w-1]||S<c&&"1"==d[S]?"1":"N",M=w;M<S;++M)d[M]=T;w=S-1}}for(var R=0,L=s;R<c;++R){var I=d[R];"L"==L&&"1"==I?d[R]="L":t.test(I)&&(L=I)}for(var N=0;N<c;++N)if(l.test(d[N])){var E=void 0;for(E=N+1;E<c&&l.test(d[E]);++E);for(var D="L"==(N?d[N-1]:s),A=D==("L"==(E<c?d[E]:s))?D?"L":"R":s,P=N;P<E;++P)d[P]=A;N=E-1}for(var $,O=[],F=0;F<c;)if(e.test(d[F])){var H=F;for(++F;F<c&&e.test(d[F]);++F);O.push(new i(0,H,F))}else{var _=F,z=O.length;for(++F;F<c&&"L"!=d[F];++F);for(var B=_;B<F;)if(o.test(d[B])){_<B&&O.splice(z,0,new i(1,_,B));var W=B;for(++B;B<F&&o.test(d[B]);++B);O.splice(z,0,new i(2,W,B)),_=B}else++B;_<F&&O.splice(z,0,new i(1,_,F))}return"ltr"==u&&(1==O[0].level&&($=r.match(/^\s+/))&&(O[0].from=$[0].length,O.unshift(new i(0,0,$[0].length))),1==q(O).level&&($=r.match(/\s+$/))&&(q(O).to-=$[0].length,O.push(new i(0,c-$[0].length,c)))),"rtl"==u?O.reverse():O}}();function Qn(n,l){var t=n.order;return null==t&&(t=n.order=Jn(n.text,l)),t}var nl=[],ll=function(n,l,t){if(n.addEventListener)n.addEventListener(l,t,!1);else if(n.attachEvent)n.attachEvent("on"+l,t);else{var e=n._handlers||(n._handlers={});e[l]=(e[l]||nl).concat(t)}};function tl(n,l){return n._handlers&&n._handlers[l]||nl}function el(n,l,t){if(n.removeEventListener)n.removeEventListener(l,t,!1);else if(n.detachEvent)n.detachEvent("on"+l,t);else{var e=n._handlers,o=e&&e[l];if(o){var i=z(o,t);i>-1&&(e[l]=o.slice(0,i).concat(o.slice(i+1)))}}}function ol(n,l){var t=tl(n,l);if(t.length)for(var e=Array.prototype.slice.call(arguments,2),o=0;o<t.length;++o)t[o].apply(null,e)}function il(n,l,t){return"string"==typeof l&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),ol(n,t||l.type,n,l),dl(l)||l.codemirrorIgnore}function rl(n){var l=n._handlers&&n._handlers.cursorActivity;if(l)for(var t=n.curOp.cursorActivityHandlers||(n.curOp.cursorActivityHandlers=[]),e=0;e<l.length;++e)-1==z(t,l[e])&&t.push(l[e])}function ul(n,l){return tl(n,l).length>0}function al(n){n.prototype.on=function(n,l){ll(this,n,l)},n.prototype.off=function(n,l){el(this,n,l)}}function sl(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function cl(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function dl(n){return null!=n.defaultPrevented?n.defaultPrevented:0==n.returnValue}function pl(n){sl(n),cl(n)}function hl(n){return n.target||n.srcElement}function fl(n){var l=n.which;return null==l&&(1&n.button?l=1:2&n.button?l=3:4&n.button&&(l=2)),b&&n.ctrlKey&&1==l&&(l=3),l}var gl,vl,ml=function(){if(r&&u<9)return!1;var n=I("div");return"draggable"in n||"dragDrop"in n}();function bl(n){if(null==gl){var l=I("span","\u200b");L(n,I("span",[l,document.createTextNode("x")])),0!=n.firstChild.offsetHeight&&(gl=l.offsetWidth<=1&&l.offsetHeight>2&&!(r&&u<8))}var t=gl?I("span","\u200b"):I("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return t.setAttribute("cm-text",""),t}function yl(n){if(null!=vl)return vl;var l=L(n,document.createTextNode("A\u062eA")),t=T(l,0,1).getBoundingClientRect(),e=T(l,1,2).getBoundingClientRect();return R(n),!(!t||t.left==t.right)&&(vl=e.right-t.right<3)}var Cl,xl=3!="\n\nb".split(/\n/).length?function(n){for(var l=0,t=[],e=n.length;l<=e;){var o=n.indexOf("\n",l);-1==o&&(o=n.length);var i=n.slice(l,"\r"==n.charAt(o-1)?o-1:o),r=i.indexOf("\r");-1!=r?(t.push(i.slice(0,r)),l+=r+1):(t.push(i),l=o+1)}return t}:function(n){return n.split(/\r\n?|\n/)},wl=window.getSelection?function(n){try{return n.selectionStart!=n.selectionEnd}catch(n){return!1}}:function(n){var l;try{l=n.ownerDocument.selection.createRange()}catch(n){}return!(!l||l.parentElement()!=n)&&0!=l.compareEndPoints("StartToEnd",l)},kl="oncopy"in(Cl=I("div"))||(Cl.setAttribute("oncopy","return;"),"function"==typeof Cl.oncopy),Sl=null,Tl={},Ml={};function Rl(n){if("string"==typeof n&&Ml.hasOwnProperty(n))n=Ml[n];else if(n&&"string"==typeof n.name&&Ml.hasOwnProperty(n.name)){var l=Ml[n.name];"string"==typeof l&&(l={name:l}),(n=J(l,n)).name=l.name}else{if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+xml$/.test(n))return Rl("application/xml");if("string"==typeof n&&/^[\w\-]+\/[\w\-]+\+json$/.test(n))return Rl("application/json")}return"string"==typeof n?{name:n}:n||{name:"null"}}function Ll(n,l){l=Rl(l);var t=Tl[l.name];if(!t)return Ll(n,"text/plain");var e=t(n,l);if(Il.hasOwnProperty(l.name)){var o=Il[l.name];for(var i in o)o.hasOwnProperty(i)&&(e.hasOwnProperty(i)&&(e["_"+i]=e[i]),e[i]=o[i])}if(e.name=l.name,l.helperType&&(e.helperType=l.helperType),l.modeProps)for(var r in l.modeProps)e[r]=l.modeProps[r];return e}var Il={};function Nl(n,l){if(!0===l)return l;if(n.copyState)return n.copyState(l);var t={};for(var e in l){var o=l[e];o instanceof Array&&(o=o.concat([])),t[e]=o}return t}function El(n,l){for(var t;n.innerMode&&(t=n.innerMode(l))&&t.mode!=n;)l=t.state,n=t.mode;return t||{mode:n,state:l}}function Dl(n,l,t){return!n.startState||n.startState(l,t)}var Al=function(n,l,t){this.pos=this.start=0,this.string=n,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=t};Al.prototype.eol=function(){return this.pos>=this.string.length},Al.prototype.sol=function(){return this.pos==this.lineStart},Al.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Al.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Al.prototype.eat=function(n){var l=this.string.charAt(this.pos);if("string"==typeof n?l==n:l&&(n.test?n.test(l):n(l)))return++this.pos,l},Al.prototype.eatWhile=function(n){for(var l=this.pos;this.eat(n););return this.pos>l},Al.prototype.eatSpace=function(){for(var n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>n},Al.prototype.skipToEnd=function(){this.pos=this.string.length},Al.prototype.skipTo=function(n){var l=this.string.indexOf(n,this.pos);if(l>-1)return this.pos=l,!0},Al.prototype.backUp=function(n){this.pos-=n},Al.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Al.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Al.prototype.match=function(n,l,t){if("string"!=typeof n){var e=this.string.slice(this.pos).match(n);return e&&e.index>0?null:(e&&!1!==l&&(this.pos+=e[0].length),e)}var o=function(n){return t?n.toLowerCase():n};if(o(this.string.substr(this.pos,n.length))==o(n))return!1!==l&&(this.pos+=n.length),!0},Al.prototype.current=function(){return this.string.slice(this.start,this.pos)},Al.prototype.hideFirstChars=function(n,l){this.lineStart+=n;try{return l()}finally{this.lineStart-=n}},Al.prototype.lookAhead=function(n){var l=this.lineOracle;return l&&l.lookAhead(n)},Al.prototype.baseToken=function(){var n=this.lineOracle;return n&&n.baseToken(this.pos)};var Pl=function(n,l){this.state=n,this.lookAhead=l},$l=function(n,l,t,e){this.state=l,this.doc=n,this.line=t,this.maxLookAhead=e||0,this.baseTokens=null,this.baseTokenPos=1};function Ol(n,l,t,e){var o=[n.state.modeGen],i={};jl(n,l.text,n.doc.mode,t,function(n,l){return o.push(n,l)},i,e);for(var r=t.state,u=function(e){t.baseTokens=o;var u=n.state.overlays[e],a=1,s=0;t.state=!0,jl(n,l.text,u.mode,t,function(n,l){for(var t=a;s<n;){var e=o[a];e>n&&o.splice(a,1,n,o[a+1],e),a+=2,s=Math.min(n,e)}if(l)if(u.opaque)o.splice(t,a-t,n,"overlay "+l),a=t+2;else for(;t<a;t+=2){var i=o[t+1];o[t+1]=(i?i+" ":"")+"overlay "+l}},i),t.state=r,t.baseTokens=null,t.baseTokenPos=1},a=0;a<n.state.overlays.length;++a)u(a);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function Fl(n,l,t){if(!l.styles||l.styles[0]!=n.state.modeGen){var e=Hl(n,pn(l)),o=l.text.length>n.options.maxHighlightLength&&Nl(n.doc.mode,e.state),i=Ol(n,l,e);o&&(e.state=o),l.stateAfter=e.save(!o),l.styles=i.styles,i.classes?l.styleClasses=i.classes:l.styleClasses&&(l.styleClasses=null),t===n.doc.highlightFrontier&&(n.doc.modeFrontier=Math.max(n.doc.modeFrontier,++n.doc.highlightFrontier))}return l.styles}function Hl(n,l,t){var e=n.doc,o=n.display;if(!e.mode.startState)return new $l(e,!0,l);var i=function(n,l,t){for(var e,o,i=n.doc,r=t?-1:l-(n.doc.mode.innerMode?1e3:100),u=l;u>r;--u){if(u<=i.first)return i.first;var a=an(i,u-1),s=a.stateAfter;if(s&&(!t||u+(s instanceof Pl?s.lookAhead:0)<=i.modeFrontier))return u;var c=H(a.text,null,n.options.tabSize);(null==o||e>c)&&(o=u-1,e=c)}return o}(n,l,t),r=i>e.first&&an(e,i-1).stateAfter,u=r?$l.fromSaved(e,r,i):new $l(e,Dl(e.mode),i);return e.iter(i,l,function(t){_l(n,t.text,u);var e=u.line;t.stateAfter=e==l-1||e%5==0||e>=o.viewFrom&&e<o.viewTo?u.save():null,u.nextLine()}),t&&(e.modeFrontier=u.line),u}function _l(n,l,t,e){var o=n.doc.mode,i=new Al(l,n.options.tabSize,t);for(i.start=i.pos=e||0,""==l&&zl(o,t.state);!i.eol();)Bl(o,i,t.state),i.start=i.pos}function zl(n,l){if(n.blankLine)return n.blankLine(l);if(n.innerMode){var t=El(n,l);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function Bl(n,l,t,e){for(var o=0;o<10;o++){e&&(e[0]=El(n,t).mode);var i=n.token(l,t);if(l.pos>l.start)return i}throw new Error("Mode "+n.name+" failed to advance stream.")}$l.prototype.lookAhead=function(n){var l=this.doc.getLine(this.line+n);return null!=l&&n>this.maxLookAhead&&(this.maxLookAhead=n),l},$l.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}},$l.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},$l.fromSaved=function(n,l,t){return l instanceof Pl?new $l(n,Nl(n.mode,l.state),t,l.lookAhead):new $l(n,Nl(n.mode,l),t)},$l.prototype.save=function(n){var l=!1!==n?Nl(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pl(l,this.maxLookAhead):l};var Wl=function(n,l,t){this.start=n.start,this.end=n.pos,this.string=n.current(),this.type=l||null,this.state=t};function Ul(n,l,t,e){var o,i,r=n.doc,u=r.mode,a=an(r,(l=kn(r,l)).line),s=Hl(n,l.line,t),c=new Al(a.text,n.options.tabSize,s);for(e&&(i=[]);(e||c.pos<l.ch)&&!c.eol();)c.start=c.pos,o=Bl(u,c,s.state),e&&i.push(new Wl(c,o,Nl(r.mode,s.state)));return e?i:new Wl(c,o,s.state)}function Vl(n,l){if(n)for(;;){var t=n.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;n=n.slice(0,t.index)+n.slice(t.index+t[0].length);var e=t[1]?"bgClass":"textClass";null==l[e]?l[e]=t[2]:new RegExp("(?:^|s)"+t[2]+"(?:$|s)").test(l[e])||(l[e]+=" "+t[2])}return n}function jl(n,l,t,e,o,i,r){var u=t.flattenSpans;null==u&&(u=n.options.flattenSpans);var a,s=0,c=null,d=new Al(l,n.options.tabSize,e),p=n.options.addModeClass&&[null];for(""==l&&Vl(zl(t,e.state),i);!d.eol();){if(d.pos>n.options.maxHighlightLength?(u=!1,r&&_l(n,l,e,d.pos),d.pos=l.length,a=null):a=Vl(Bl(t,d,e.state,p),i),p){var h=p[0].name;h&&(a="m-"+(a?h+" "+a:h))}if(!u||c!=a){for(;s<d.start;)o(s=Math.min(d.start,s+5e3),c);c=a}d.start=d.pos}for(;s<d.pos;){var f=Math.min(d.pos,s+5e3);o(f,c),s=f}}var Kl=function(n,l,t){this.text=n,An(this,l),this.height=t?t(this):1};function Gl(n){n.parent=null,Dn(n)}Kl.prototype.lineNo=function(){return pn(this)},al(Kl);var Yl={},ql={};function Xl(n,l){if(!n||/^\s*$/.test(n))return null;var t=l.addModeClass?ql:Yl;return t[n]||(t[n]=n.replace(/\S+/g,"cm-$&"))}function Zl(n,l){var t=N("span",null,null,a?"padding-right: .1px":null),e={pre:N("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:n,trailingSpace:!1,splitSpaces:(r||a)&&n.getOption("lineWrapping")};l.measure={};for(var o=0;o<=(l.rest?l.rest.length:0);o++){var i=o?l.rest[o-1]:l.line,u=void 0;e.pos=0,e.addToken=Ql,yl(n.display.measure)&&(u=Qn(i,n.doc.direction))&&(e.addToken=nt(e.addToken,u)),e.map=[],tt(i,e,Fl(n,i,l!=n.display.externalMeasured&&pn(i))),i.styleClasses&&(i.styleClasses.bgClass&&(e.bgClass=P(i.styleClasses.bgClass,e.bgClass||"")),i.styleClasses.textClass&&(e.textClass=P(i.styleClasses.textClass,e.textClass||""))),0==e.map.length&&e.map.push(0,0,e.content.appendChild(bl(n.display.measure))),0==o?(l.measure.map=e.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(e.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(a){var s=e.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(e.content.className="cm-tab-wrap-hack")}return ol(n,"renderLine",n,l.line,e.pre),e.pre.className&&(e.textClass=P(e.pre.className,e.textClass||"")),e}function Jl(n){var l=I("span","\u2022","cm-invalidchar");return l.title="\\u"+n.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Ql(n,l,t,e,o,i,a){if(l){var s,c=n.splitSpaces?function(n,l){if(n.length>1&&!/  /.test(n))return n;for(var t=l,e="",o=0;o<n.length;o++){var i=n.charAt(o);" "!=i||!t||o!=n.length-1&&32!=n.charCodeAt(o+1)||(i="\xa0"),e+=i,t=" "==i}return e}(l,n.trailingSpace):l,d=n.cm.state.specialChars,p=!1;if(d.test(l)){s=document.createDocumentFragment();for(var h=0;;){d.lastIndex=h;var f=d.exec(l),g=f?f.index-h:l.length-h;if(g){var v=document.createTextNode(c.slice(h,h+g));s.appendChild(r&&u<9?I("span",[v]):v),n.map.push(n.pos,n.pos+g,v),n.col+=g,n.pos+=g}if(!f)break;h+=g+1;var m=void 0;if("\t"==f[0]){var b=n.cm.options.tabSize,y=b-n.col%b;(m=s.appendChild(I("span",Y(y),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),n.col+=y}else"\r"==f[0]||"\n"==f[0]?((m=s.appendChild(I("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",f[0]),n.col+=1):((m=n.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),s.appendChild(r&&u<9?I("span",[m]):m),n.col+=1);n.map.push(n.pos,n.pos+1,m),n.pos++}}else n.col+=l.length,s=document.createTextNode(c),n.map.push(n.pos,n.pos+l.length,s),r&&u<9&&(p=!0),n.pos+=l.length;if(n.trailingSpace=32==c.charCodeAt(l.length-1),t||e||o||p||a){var C=t||"";e&&(C+=e),o&&(C+=o);var x=I("span",[s],C,a);return i&&(x.title=i),n.content.appendChild(x)}n.content.appendChild(s)}}function nt(n,l){return function(t,e,o,i,r,u,a){o=o?o+" cm-force-border":"cm-force-border";for(var s=t.pos,c=s+e.length;;){for(var d=void 0,p=0;p<l.length&&!((d=l[p]).to>s&&d.from<=s);p++);if(d.to>=c)return n(t,e,o,i,r,u,a);n(t,e.slice(0,d.to-s),o,i,null,u,a),i=null,e=e.slice(d.to-s),s=d.to}}}function lt(n,l,t,e){var o=!e&&t.widgetNode;o&&n.map.push(n.pos,n.pos+l,o),!e&&n.cm.display.input.needsContentAttribute&&(o||(o=n.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",t.id)),o&&(n.cm.display.input.setUneditable(o),n.content.appendChild(o)),n.pos+=l,n.trailingSpace=!1}function tt(n,l,t){var e=n.markedSpans,o=n.text,i=0;if(e)for(var r,u,a,s,c,d,p,h=o.length,f=0,g=1,v="",m=0;;){if(m==f){a=s=c=d=u="",p=null,m=1/0;for(var b=[],y=void 0,C=0;C<e.length;++C){var x=e[C],w=x.marker;"bookmark"==w.type&&x.from==f&&w.widgetNode?b.push(w):x.from<=f&&(null==x.to||x.to>f||w.collapsed&&x.to==f&&x.from==f)?(null!=x.to&&x.to!=f&&m>x.to&&(m=x.to,s=""),w.className&&(a+=" "+w.className),w.css&&(u=(u?u+";":"")+w.css),w.startStyle&&x.from==f&&(c+=" "+w.startStyle),w.endStyle&&x.to==m&&(y||(y=[])).push(w.endStyle,x.to),w.title&&!d&&(d=w.title),w.collapsed&&(!p||On(p.marker,w)<0)&&(p=x)):x.from>f&&m>x.from&&(m=x.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==m&&(s+=" "+y[k]);if(!p||p.from==f)for(var S=0;S<b.length;++S)lt(l,0,b[S]);if(p&&(p.from||0)==f){if(lt(l,(null==p.to?h+1:p.to)-f,p.marker,null==p.from),null==p.to)return;p.to==f&&(p=!1)}}if(f>=h)break;for(var T=Math.min(h,m);;){if(v){var M=f+v.length;if(!p){var R=M>T?v.slice(0,T-f):v;l.addToken(l,R,r?r+a:a,c,f+R.length==m?s:"",d,u)}if(M>=T){v=v.slice(T-f),f=T;break}f=M,c=""}v=o.slice(i,i=t[g++]),r=Xl(t[g++],l.cm.options)}}else for(var L=1;L<t.length;L+=2)l.addToken(l,o.slice(i,i=t[L]),Xl(t[L+1],l.cm.options))}function et(n,l,t){this.line=l,this.rest=function(n){for(var l,t;l=_n(n);)n=l.find(1,!0).line,(t||(t=[])).push(n);return t}(l),this.size=this.rest?pn(q(this.rest))-t+1:1,this.node=this.text=null,this.hidden=jn(n,l)}function ot(n,l,t){for(var e,o=[],i=l;i<t;i=e){var r=new et(n.doc,an(n.doc,i),i);e=i+r.size,o.push(r)}return o}var it=null,rt=null;function ut(n,l){var t=tl(n,l);if(t.length){var e,o=Array.prototype.slice.call(arguments,2);it?e=it.delayedCallbacks:rt?e=rt:(e=rt=[],setTimeout(at,0));for(var i=function(n){e.push(function(){return t[n].apply(null,o)})},r=0;r<t.length;++r)i(r)}}function at(){var n=rt;rt=null;for(var l=0;l<n.length;++l)n[l]()}function st(n,l,t,e){for(var o=0;o<l.changes.length;o++){var i=l.changes[o];"text"==i?pt(n,l):"gutter"==i?ft(n,l,t,e):"class"==i?ht(n,l):"widget"==i&&gt(n,l,e)}l.changes=null}function ct(n){return n.node==n.text&&(n.node=I("div",null,null,"position: relative"),n.text.parentNode&&n.text.parentNode.replaceChild(n.node,n.text),n.node.appendChild(n.text),r&&u<8&&(n.node.style.zIndex=2)),n.node}function dt(n,l){var t=n.display.externalMeasured;return t&&t.line==l.line?(n.display.externalMeasured=null,l.measure=t.measure,t.built):Zl(n,l)}function pt(n,l){var t=l.text.className,e=dt(n,l);l.text==l.node&&(l.node=e.pre),l.text.parentNode.replaceChild(e.pre,l.text),l.text=e.pre,e.bgClass!=l.bgClass||e.textClass!=l.textClass?(l.bgClass=e.bgClass,l.textClass=e.textClass,ht(n,l)):t&&(l.text.className=t)}function ht(n,l){!function(n,l){var t=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),l.background)t?l.background.className=t:(l.background.parentNode.removeChild(l.background),l.background=null);else if(t){var e=ct(l);l.background=e.insertBefore(I("div",null,t),e.firstChild),n.display.input.setUneditable(l.background)}}(n,l),l.line.wrapClass?ct(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className=""),l.text.className=(l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass)||""}function ft(n,l,t,e){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var o=ct(l);l.gutterBackground=I("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(n.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px; width: "+e.gutterTotalWidth+"px"),n.display.input.setUneditable(l.gutterBackground),o.insertBefore(l.gutterBackground,l.text)}var i=l.line.gutterMarkers;if(n.options.lineNumbers||i){var r=ct(l),u=l.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(n.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px");if(n.display.input.setUneditable(u),r.insertBefore(u,l.text),l.line.gutterClass&&(u.className+=" "+l.line.gutterClass),!n.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(l.lineNumber=u.appendChild(I("div",gn(n.options,t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+n.display.lineNumInnerWidth+"px"))),i)for(var a=0;a<n.options.gutters.length;++a){var s=n.options.gutters[a],c=i.hasOwnProperty(s)&&i[s];c&&u.appendChild(I("div",[c],"CodeMirror-gutter-elt","left: "+e.gutterLeft[s]+"px; width: "+e.gutterWidth[s]+"px"))}}}function gt(n,l,t){l.alignable&&(l.alignable=null);for(var e=l.node.firstChild,o=void 0;e;e=o)o=e.nextSibling,"CodeMirror-linewidget"==e.className&&l.node.removeChild(e);mt(n,l,t)}function vt(n,l,t,e){var o=dt(n,l);return l.text=l.node=o.pre,o.bgClass&&(l.bgClass=o.bgClass),o.textClass&&(l.textClass=o.textClass),ht(n,l),ft(n,l,t,e),mt(n,l,e),l.node}function mt(n,l,t){if(bt(n,l.line,l,t,!0),l.rest)for(var e=0;e<l.rest.length;e++)bt(n,l.rest[e],l,t,!1)}function bt(n,l,t,e,o){if(l.widgets)for(var i=ct(t),r=0,u=l.widgets;r<u.length;++r){var a=u[r],s=I("div",[a.node],"CodeMirror-linewidget");a.handleMouseEvents||s.setAttribute("cm-ignore-events","true"),yt(a,s,t,e),n.display.input.setUneditable(s),o&&a.above?i.insertBefore(s,t.gutter||t.text):i.appendChild(s),ut(a,"redraw")}}function yt(n,l,t,e){if(n.noHScroll){(t.alignable||(t.alignable=[])).push(l);var o=e.wrapperWidth;l.style.left=e.fixedPos+"px",n.coverGutter||(o-=e.gutterTotalWidth,l.style.paddingLeft=e.gutterTotalWidth+"px"),l.style.width=o+"px"}n.coverGutter&&(l.style.zIndex=5,l.style.position="relative",n.noHScroll||(l.style.marginLeft=-e.gutterTotalWidth+"px"))}function Ct(n){if(null!=n.height)return n.height;var l=n.doc.cm;if(!l)return 0;if(!E(document.body,n.node)){var t="position: relative;";n.coverGutter&&(t+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),n.noHScroll&&(t+="width: "+l.display.wrapper.clientWidth+"px;"),L(l.display.measure,I("div",[n.node],null,t))}return n.height=n.node.parentNode.offsetHeight}function xt(n,l){for(var t=hl(l);t!=n.wrapper;t=t.parentNode)if(!t||1==t.nodeType&&"true"==t.getAttribute("cm-ignore-events")||t.parentNode==n.sizer&&t!=n.mover)return!0}function wt(n){return n.lineSpace.offsetTop}function kt(n){return n.mover.offsetHeight-n.lineSpace.offsetHeight}function St(n){if(n.cachedPaddingH)return n.cachedPaddingH;var l=L(n.measure,I("pre","x")),t=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,e={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)};return isNaN(e.left)||isNaN(e.right)||(n.cachedPaddingH=e),e}function Tt(n){return B-n.display.nativeBarWidth}function Mt(n){return n.display.scroller.clientWidth-Tt(n)-n.display.barWidth}function Rt(n){return n.display.scroller.clientHeight-Tt(n)-n.display.barHeight}function Lt(n,l,t){if(n.line==l)return{map:n.measure.map,cache:n.measure.cache};for(var e=0;e<n.rest.length;e++)if(n.rest[e]==l)return{map:n.measure.maps[e],cache:n.measure.caches[e]};for(var o=0;o<n.rest.length;o++)if(pn(n.rest[o])>t)return{map:n.measure.maps[o],cache:n.measure.caches[o],before:!0}}function It(n,l,t,e){return Dt(n,Et(n,l),t,e)}function Nt(n,l){if(l>=n.display.viewFrom&&l<n.display.viewTo)return n.display.view[ue(n,l)];var t=n.display.externalMeasured;return t&&l>=t.lineN&&l<t.lineN+t.size?t:void 0}function Et(n,l){var t=pn(l),e=Nt(n,t);e&&!e.text?e=null:e&&e.changes&&(st(n,e,t,te(n)),n.curOp.forceUpdate=!0),e||(e=function(n,l){var t=pn(l=Wn(l)),e=n.display.externalMeasured=new et(n.doc,l,t);e.lineN=t;var o=e.built=Zl(n,e);return e.text=o.pre,L(n.display.lineMeasure,o.pre),e}(n,l));var o=Lt(e,l,t);return{line:l,view:e,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Dt(n,l,t,e,o){l.before&&(t=-1);var i,a=t+(e||"");return l.cache.hasOwnProperty(a)?i=l.cache[a]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(function(n,l,t){var e=n.options.lineWrapping,o=e&&Mt(n);if(!l.measure.heights||e&&l.measure.width!=o){var i=l.measure.heights=[];if(e){l.measure.width=o;for(var r=l.text.firstChild.getClientRects(),u=0;u<r.length-1;u++){var a=r[u],s=r[u+1];Math.abs(a.bottom-s.bottom)>2&&i.push((a.bottom+s.top)/2-t.top)}}i.push(t.bottom-t.top)}}(n,l.view,l.rect),l.hasHeights=!0),(i=function(n,l,t,e){var o,i=$t(l.map,t,e),a=i.node,s=i.start,c=i.end,d=i.collapse;if(3==a.nodeType){for(var p=0;p<4;p++){for(;s&&on(l.line.text.charAt(i.coverStart+s));)--s;for(;i.coverStart+c<i.coverEnd&&on(l.line.text.charAt(i.coverStart+c));)++c;if((o=r&&u<9&&0==s&&c==i.coverEnd-i.coverStart?a.parentNode.getBoundingClientRect():Ot(T(a,s,c).getClientRects(),e)).left||o.right||0==s)break;c=s,s-=1,d="right"}r&&u<11&&(o=function(l,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(n){if(null!=Sl)return Sl;var l=L(n,I("span","x")),t=l.getBoundingClientRect(),e=T(l,0,1).getBoundingClientRect();return Sl=Math.abs(t.left-e.left)>1}(n.display.measure))return t;var e=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*e,right:t.right*e,top:t.top*o,bottom:t.bottom*o}}(0,o))}else{var h;s>0&&(d=e="right"),o=n.options.lineWrapping&&(h=a.getClientRects()).length>1?h["right"==e?h.length-1:0]:a.getBoundingClientRect()}if(r&&u<9&&!s&&(!o||!o.left&&!o.right)){var f=a.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+le(n.display),top:f.top,bottom:f.bottom}:Pt}for(var g=o.top-l.rect.top,v=o.bottom-l.rect.top,m=(g+v)/2,b=l.view.measure.heights,y=0;y<b.length-1&&!(m<b[y]);y++);var C={left:("right"==d?o.right:o.left)-l.rect.left,right:("left"==d?o.left:o.right)-l.rect.left,top:y?b[y-1]:0,bottom:b[y]};return o.left||o.right||(C.bogus=!0),n.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=v),C}(n,l,t,e)).bogus||(l.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var At,Pt={left:0,right:0,top:0,bottom:0};function $t(n,l,t){for(var e,o,i,r,u,a,s=0;s<n.length;s+=3)if(a=n[s+1],l<(u=n[s])?(o=0,i=1,r="left"):l<a?i=1+(o=l-u):(s==n.length-3||l==a&&n[s+3]>l)&&(o=(i=a-u)-1,l>=a&&(r="right")),null!=o){if(e=n[s+2],u==a&&t==(e.insertLeft?"left":"right")&&(r=t),"left"==t&&0==o)for(;s&&n[s-2]==n[s-3]&&n[s-1].insertLeft;)e=n[2+(s-=3)],r="left";if("right"==t&&o==a-u)for(;s<n.length-3&&n[s+3]==n[s+4]&&!n[s+5].insertLeft;)e=n[(s+=3)+2],r="right";break}return{node:e,start:o,end:i,collapse:r,coverStart:u,coverEnd:a}}function Ot(n,l){var t=Pt;if("left"==l)for(var e=0;e<n.length&&(t=n[e]).left==t.right;e++);else for(var o=n.length-1;o>=0&&(t=n[o]).left==t.right;o--);return t}function Ft(n){if(n.measure&&(n.measure.cache={},n.measure.heights=null,n.rest))for(var l=0;l<n.rest.length;l++)n.measure.caches[l]={}}function Ht(n){n.display.externalMeasure=null,R(n.display.lineMeasure);for(var l=0;l<n.display.view.length;l++)Ft(n.display.view[l])}function _t(n){Ht(n),n.display.cachedCharWidth=n.display.cachedTextHeight=n.display.cachedPaddingH=null,n.options.lineWrapping||(n.display.maxLineChanged=!0),n.display.lineNumChars=null}function zt(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Bt(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wt(n){var l=0;if(n.widgets)for(var t=0;t<n.widgets.length;++t)n.widgets[t].above&&(l+=Ct(n.widgets[t]));return l}function Ut(n,l,t,e,o){if(!o){var i=Wt(l);t.top+=i,t.bottom+=i}if("line"==e)return t;e||(e="local");var r=Gn(l);if("local"==e?r+=wt(n.display):r-=n.display.viewOffset,"page"==e||"window"==e){var u=n.display.lineSpace.getBoundingClientRect();r+=u.top+("window"==e?0:Bt());var a=u.left+("window"==e?0:zt());t.left+=a,t.right+=a}return t.top+=r,t.bottom+=r,t}function Vt(n,l,t){if("div"==t)return l;var e=l.left,o=l.top;if("page"==t)e-=zt(),o-=Bt();else if("local"==t||!t){var i=n.display.sizer.getBoundingClientRect();e+=i.left,o+=i.top}var r=n.display.lineSpace.getBoundingClientRect();return{left:e-r.left,top:o-r.top}}function jt(n,l,t,e,o){return e||(e=an(n.doc,l.line)),Ut(n,e,It(n,e,l.ch,o),t)}function Kt(n,l,t,e,o,i){function r(l,r){var u=Dt(n,o,l,r?"right":"left",i);return r?u.left=u.right:u.right=u.left,Ut(n,e,u,t)}e=e||an(n.doc,l.line),o||(o=Et(n,e));var u=Qn(e,n.doc.direction),a=l.ch,s=l.sticky;if(a>=e.text.length?(a=e.text.length,s="before"):a<=0&&(a=0,s="after"),!u)return r("before"==s?a-1:a,"before"==s);function c(n,l,t){return r(t?n-1:n,1==u[l].level!=t)}var d=Zn(u,a,s),p=Xn,h=c(a,d,"before"==s);return null!=p&&(h.other=c(a,p,"before"!=s)),h}function Gt(n,l){var t=0;l=kn(n.doc,l),n.options.lineWrapping||(t=le(n.display)*l.ch);var e=an(n.doc,l.line),o=Gn(e)+wt(n.display);return{left:t,right:t,top:o,bottom:o+e.height}}function Yt(n,l,t,e,o){var i=vn(n,l,t);return i.xRel=o,e&&(i.outside=!0),i}function qt(n,l,t){var e=n.doc;if((t+=n.display.viewOffset)<0)return Yt(e.first,0,null,!0,-1);var o=hn(e,t),i=e.first+e.size-1;if(o>i)return Yt(e.first+e.size-1,an(e,i).text.length,null,!0,1);l<0&&(l=0);for(var r=an(e,o);;){var u=Qt(n,r,o,l,t),a=zn(r,u.ch+(u.xRel>0?1:0));if(!a)return u;var s=a.find(1);if(s.line==o)return s;r=an(e,o=s.line)}}function Xt(n,l,t,e){e-=Wt(l);var o=l.text.length,i=un(function(l){return Dt(n,t,l-1).bottom<=e},o,0);return{begin:i,end:o=un(function(l){return Dt(n,t,l).top>e},i,o)}}function Zt(n,l,t,e){return t||(t=Et(n,l)),Xt(n,l,t,Ut(n,l,Dt(n,t,e),"line").top)}function Jt(n,l,t,e){return!(n.bottom<=t)&&(n.top>t||(e?n.left:n.right)>l)}function Qt(n,l,t,e,o){o-=Gn(l);var i=Et(n,l),r=Wt(l),u=0,a=l.text.length,s=!0,c=Qn(l,n.doc.direction);if(c){var d=(n.options.lineWrapping?function(n,l,t,e,o,i,r){var u=Xt(n,l,e,r),a=u.begin,s=u.end;/\s/.test(l.text.charAt(s-1))&&s--;for(var c=null,d=null,p=0;p<o.length;p++){var h=o[p];if(!(h.from>=s||h.to<=a)){var f=Dt(n,e,1!=h.level?Math.min(s,h.to)-1:Math.max(a,h.from)).right,g=f<i?i-f+1e9:f-i;(!c||d>g)&&(c=h,d=g)}}return c||(c=o[o.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>s&&(c={from:c.from,to:s,level:c.level}),c}:function(n,l,t,e,o,i,r){var u=un(function(u){var a=o[u],s=1!=a.level;return Jt(Kt(n,vn(t,s?a.to:a.from,s?"before":"after"),"line",l,e),i,r,!0)},0,o.length-1),a=o[u];if(u>0){var s=1!=a.level,c=Kt(n,vn(t,s?a.from:a.to,s?"after":"before"),"line",l,e);Jt(c,i,r,!0)&&c.top>r&&(a=o[u-1])}return a})(n,l,t,i,c,e,o);u=(s=1!=d.level)?d.from:d.to-1,a=s?d.to:d.from-1}var p,h,f=null,g=null,v=un(function(l){var t=Dt(n,i,l);return t.top+=r,t.bottom+=r,!!Jt(t,e,o,!1)&&(t.top<=o&&t.left<=e&&(f=l,g=t),!0)},u,a),m=!1;if(g){var b=e-g.left<g.right-e,y=b==s;v=f+(y?0:1),h=y?"after":"before",p=b?g.left:g.right}else{s||v!=a&&v!=u||v++,h=0==v?"after":v==l.text.length?"before":Dt(n,i,v-(s?1:0)).bottom+r<=o==s?"after":"before";var C=Kt(n,vn(t,v,h),"line",l,i);p=C.left,m=o<C.top||o>=C.bottom}return Yt(t,v=rn(l.text,v,1),h,m,e-p)}function ne(n){if(null!=n.cachedTextHeight)return n.cachedTextHeight;if(null==At){At=I("pre");for(var l=0;l<49;++l)At.appendChild(document.createTextNode("x")),At.appendChild(I("br"));At.appendChild(document.createTextNode("x"))}L(n.measure,At);var t=At.offsetHeight/50;return t>3&&(n.cachedTextHeight=t),R(n.measure),t||1}function le(n){if(null!=n.cachedCharWidth)return n.cachedCharWidth;var l=I("span","xxxxxxxxxx"),t=I("pre",[l]);L(n.measure,t);var e=l.getBoundingClientRect(),o=(e.right-e.left)/10;return o>2&&(n.cachedCharWidth=o),o||10}function te(n){for(var l=n.display,t={},e={},o=l.gutters.clientLeft,i=l.gutters.firstChild,r=0;i;i=i.nextSibling,++r)t[n.options.gutters[r]]=i.offsetLeft+i.clientLeft+o,e[n.options.gutters[r]]=i.clientWidth;return{fixedPos:ee(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:t,gutterWidth:e,wrapperWidth:l.wrapper.clientWidth}}function ee(n){return n.scroller.getBoundingClientRect().left-n.sizer.getBoundingClientRect().left}function oe(n){var l=ne(n.display),t=n.options.lineWrapping,e=t&&Math.max(5,n.display.scroller.clientWidth/le(n.display)-3);return function(o){if(jn(n.doc,o))return 0;var i=0;if(o.widgets)for(var r=0;r<o.widgets.length;r++)o.widgets[r].height&&(i+=o.widgets[r].height);return t?i+(Math.ceil(o.text.length/e)||1)*l:i+l}}function ie(n){var l=n.doc,t=oe(n);l.iter(function(n){var l=t(n);l!=n.height&&dn(n,l)})}function re(n,l,t,e){var o=n.display;if(!t&&"true"==hl(l).getAttribute("cm-not-content"))return null;var i,r,u=o.lineSpace.getBoundingClientRect();try{i=l.clientX-u.left,r=l.clientY-u.top}catch(l){return null}var a,s=qt(n,i,r);if(e&&1==s.xRel&&(a=an(n.doc,s.line).text).length==s.ch){var c=H(a,a.length,n.options.tabSize)-a.length;s=vn(s.line,Math.max(0,Math.round((i-St(n.display).left)/le(n.display))-c))}return s}function ue(n,l){if(l>=n.display.viewTo)return null;if((l-=n.display.viewFrom)<0)return null;for(var t=n.display.view,e=0;e<t.length;e++)if((l-=t[e].size)<0)return e}function ae(n){n.display.input.showSelection(n.display.input.prepareSelection())}function se(n,l){void 0===l&&(l=!0);for(var t=n.doc,e={},o=e.cursors=document.createDocumentFragment(),i=e.selection=document.createDocumentFragment(),r=0;r<t.sel.ranges.length;r++)if(l||r!=t.sel.primIndex){var u=t.sel.ranges[r];if(!(u.from().line>=n.display.viewTo||u.to().line<n.display.viewFrom)){var a=u.empty();(a||n.options.showCursorWhenSelecting)&&ce(n,u.head,o),a||pe(n,u,i)}}return e}function ce(n,l,t){var e=Kt(n,l,"div",null,null,!n.options.singleCursorHeightPerLine),o=t.appendChild(I("div","\xa0","CodeMirror-cursor"));if(o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.height=Math.max(0,e.bottom-e.top)*n.options.cursorHeight+"px",e.other){var i=t.appendChild(I("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=e.other.left+"px",i.style.top=e.other.top+"px",i.style.height=.85*(e.other.bottom-e.other.top)+"px"}}function de(n,l){return n.top-l.top||n.left-l.left}function pe(n,l,t){var e=n.display,o=n.doc,i=document.createDocumentFragment(),r=St(n.display),u=r.left,a=Math.max(e.sizerWidth,Mt(n)-e.sizer.offsetLeft)-r.right,s="ltr"==o.direction;function c(n,l,t,e){l<0&&(l=0),l=Math.round(l),e=Math.round(e),i.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+n+"px;\n                             top: "+l+"px; width: "+(null==t?a-n:t)+"px;\n                             height: "+(e-l)+"px"))}function d(l,t,e){var i,r,d=an(o,l),p=d.text.length;function h(t,e){return jt(n,vn(l,t),"div",d,e)}function f(l,t,e){var o=Zt(n,d,null,l),i="ltr"==t==("after"==e)?"left":"right";return h("after"==e?o.begin:o.end-(/\s/.test(d.text.charAt(o.end-1))?2:1),i)[i]}var g=Qn(d,o.direction);return function(n,l,t,e){if(!n)return e(l,t,"ltr",0);for(var o=!1,i=0;i<n.length;++i){var r=n[i];(r.from<t&&r.to>l||l==t&&r.to==l)&&(e(Math.max(r.from,l),Math.min(r.to,t),1==r.level?"rtl":"ltr",i),o=!0)}o||e(l,t,"ltr")}(g,t||0,null==e?p:e,function(n,l,o,d){var v="ltr"==o,m=h(n,v?"left":"right"),b=h(l-1,v?"right":"left"),y=null==t&&0==n,C=null==e&&l==p,x=0==d,w=!g||d==g.length-1;if(b.top-m.top<=3){var k=(s?y:C)&&x?u:(v?m:b).left;c(k,m.top,((s?C:y)&&w?a:(v?b:m).right)-k,m.bottom)}else{var S,T,M,R;v?(S=s&&y&&x?u:m.left,T=s?a:f(n,o,"before"),M=s?u:f(l,o,"after"),R=s&&C&&w?a:b.right):(S=s?f(n,o,"before"):u,T=!s&&y&&x?a:m.right,M=!s&&C&&w?u:b.left,R=s?f(l,o,"after"):a),c(S,m.top,T-S,m.bottom),m.bottom<b.top&&c(u,m.bottom,null,b.top),c(M,b.top,R-M,b.bottom)}(!i||de(m,i)<0)&&(i=m),de(b,i)<0&&(i=b),(!r||de(m,r)<0)&&(r=m),de(b,r)<0&&(r=b)}),{start:i,end:r}}var p=l.from(),h=l.to();if(p.line==h.line)d(p.line,p.ch,h.ch);else{var f=an(o,p.line),g=an(o,h.line),v=Wn(f)==Wn(g),m=d(p.line,p.ch,v?f.text.length+1:null).end,b=d(h.line,v?0:null,h.ch).start;v&&(m.top<b.top-2?(c(m.right,m.top,null,m.bottom),c(u,b.top,b.left,b.bottom)):c(m.right,m.top,b.left-m.right,m.bottom)),m.bottom<b.top&&c(u,m.bottom,null,b.top)}t.appendChild(i)}function he(n){if(n.state.focused){var l=n.display;clearInterval(l.blinker);var t=!0;l.cursorDiv.style.visibility="",n.options.cursorBlinkRate>0?l.blinker=setInterval(function(){return l.cursorDiv.style.visibility=(t=!t)?"":"hidden"},n.options.cursorBlinkRate):n.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function fe(n){n.state.focused||(n.display.input.focus(),ve(n))}function ge(n){n.state.delayingBlurEvent=!0,setTimeout(function(){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1,me(n))},100)}function ve(n,l){n.state.delayingBlurEvent&&(n.state.delayingBlurEvent=!1),"nocursor"!=n.options.readOnly&&(n.state.focused||(ol(n,"focus",n,l),n.state.focused=!0,A(n.display.wrapper,"CodeMirror-focused"),n.curOp||n.display.selForContextMenu==n.doc.sel||(n.display.input.reset(),a&&setTimeout(function(){return n.display.input.reset(!0)},20)),n.display.input.receivedFocus()),he(n))}function me(n,l){n.state.delayingBlurEvent||(n.state.focused&&(ol(n,"blur",n,l),n.state.focused=!1,M(n.display.wrapper,"CodeMirror-focused")),clearInterval(n.display.blinker),setTimeout(function(){n.state.focused||(n.display.shift=!1)},150))}function be(n){for(var l=n.display,t=l.lineDiv.offsetTop,e=0;e<l.view.length;e++){var o=l.view[e],i=void 0;if(!o.hidden){if(r&&u<8){var a=o.node.offsetTop+o.node.offsetHeight;i=a-t,t=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var c=o.line.height-i;if(i<2&&(i=ne(l)),(c>.005||c<-.005)&&(dn(o.line,i),ye(o.line),o.rest))for(var d=0;d<o.rest.length;d++)ye(o.rest[d])}}}function ye(n){if(n.widgets)for(var l=0;l<n.widgets.length;++l){var t=n.widgets[l],e=t.node.parentNode;e&&(t.height=e.offsetHeight)}}function Ce(n,l,t){var e=t&&null!=t.top?Math.max(0,t.top):n.scroller.scrollTop;e=Math.floor(e-wt(n));var o=t&&null!=t.bottom?t.bottom:e+n.wrapper.clientHeight,i=hn(l,e),r=hn(l,o);if(t&&t.ensure){var u=t.ensure.from.line,a=t.ensure.to.line;u<i?(i=u,r=hn(l,Gn(an(l,u))+n.wrapper.clientHeight)):Math.min(a,l.lastLine())>=r&&(i=hn(l,Gn(an(l,a))-n.wrapper.clientHeight),r=a)}return{from:i,to:Math.max(r,i+1)}}function xe(n){var l=n.display,t=l.view;if(l.alignWidgets||l.gutters.firstChild&&n.options.fixedGutter){for(var e=ee(l)-l.scroller.scrollLeft+n.doc.scrollLeft,o=l.gutters.offsetWidth,i=e+"px",r=0;r<t.length;r++)if(!t[r].hidden){n.options.fixedGutter&&(t[r].gutter&&(t[r].gutter.style.left=i),t[r].gutterBackground&&(t[r].gutterBackground.style.left=i));var u=t[r].alignable;if(u)for(var a=0;a<u.length;a++)u[a].style.left=i}n.options.fixedGutter&&(l.gutters.style.left=e+o+"px")}}function we(n){if(!n.options.lineNumbers)return!1;var l=n.doc,t=gn(n.options,l.first+l.size-1),e=n.display;if(t.length!=e.lineNumChars){var o=e.measure.appendChild(I("div",[I("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,r=o.offsetWidth-i;return e.lineGutter.style.width="",e.lineNumInnerWidth=Math.max(i,e.lineGutter.offsetWidth-r)+1,e.lineNumWidth=e.lineNumInnerWidth+r,e.lineNumChars=e.lineNumInnerWidth?t.length:-1,e.lineGutter.style.width=e.lineNumWidth+"px",uo(n),!0}return!1}function ke(n,l){var t=n.display,e=ne(n.display);l.top<0&&(l.top=0);var o=n.curOp&&null!=n.curOp.scrollTop?n.curOp.scrollTop:t.scroller.scrollTop,i=Rt(n),r={};l.bottom-l.top>i&&(l.bottom=l.top+i);var u=n.doc.height+kt(t),a=l.bottom>u-e;if(l.top<o)r.scrollTop=l.top<e?0:l.top;else if(l.bottom>o+i){var s=Math.min(l.top,(a?u:l.bottom)-i);s!=o&&(r.scrollTop=s)}var c=n.curOp&&null!=n.curOp.scrollLeft?n.curOp.scrollLeft:t.scroller.scrollLeft,d=Mt(n)-(n.options.fixedGutter?t.gutters.offsetWidth:0),p=l.right-l.left>d;return p&&(l.right=l.left+d),l.left<10?r.scrollLeft=0:l.left<c?r.scrollLeft=Math.max(0,l.left-(p?0:10)):l.right>d+c-3&&(r.scrollLeft=l.right+(p?0:10)-d),r}function Se(n,l){null!=l&&(Re(n),n.curOp.scrollTop=(null==n.curOp.scrollTop?n.doc.scrollTop:n.curOp.scrollTop)+l)}function Te(n){Re(n);var l=n.getCursor();n.curOp.scrollToPos={from:l,to:l,margin:n.options.cursorScrollMargin}}function Me(n,l,t){null==l&&null==t||Re(n),null!=l&&(n.curOp.scrollLeft=l),null!=t&&(n.curOp.scrollTop=t)}function Re(n){var l=n.curOp.scrollToPos;l&&(n.curOp.scrollToPos=null,Le(n,Gt(n,l.from),Gt(n,l.to),l.margin))}function Le(n,l,t,e){var o=ke(n,{left:Math.min(l.left,t.left),top:Math.min(l.top,t.top)-e,right:Math.max(l.right,t.right),bottom:Math.max(l.bottom,t.bottom)+e});Me(n,o.scrollLeft,o.scrollTop)}function Ie(n,l){Math.abs(n.doc.scrollTop-l)<2||(t||ro(n,{top:l}),Ne(n,l,!0),t&&ro(n),lo(n,100))}function Ne(n,l,t){l=Math.min(n.display.scroller.scrollHeight-n.display.scroller.clientHeight,l),(n.display.scroller.scrollTop!=l||t)&&(n.doc.scrollTop=l,n.display.scrollbars.setScrollTop(l),n.display.scroller.scrollTop!=l&&(n.display.scroller.scrollTop=l))}function Ee(n,l,t,e){l=Math.min(l,n.display.scroller.scrollWidth-n.display.scroller.clientWidth),(t?l==n.doc.scrollLeft:Math.abs(n.doc.scrollLeft-l)<2)&&!e||(n.doc.scrollLeft=l,xe(n),n.display.scroller.scrollLeft!=l&&(n.display.scroller.scrollLeft=l),n.display.scrollbars.setScrollLeft(l))}function De(n){var l=n.display,t=l.gutters.offsetWidth,e=Math.round(n.doc.height+kt(n.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:n.options.fixedGutter?t:0,docHeight:e,scrollHeight:e+Tt(n)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:t}}var Ae=function(n,l,t){this.cm=t;var e=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e.tabIndex=o.tabIndex=-1,n(e),n(o),ll(e,"scroll",function(){e.clientHeight&&l(e.scrollTop,"vertical")}),ll(o,"scroll",function(){o.clientWidth&&l(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,r&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ae.prototype.update=function(n){var l=n.scrollWidth>n.clientWidth+1,t=n.scrollHeight>n.clientHeight+1,e=n.nativeBarWidth;return t?(this.vert.style.display="block",this.vert.style.bottom=l?e+"px":"0",this.vert.firstChild.style.height=Math.max(0,n.scrollHeight-n.clientHeight+(n.viewHeight-(l?e:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),l?(this.horiz.style.display="block",this.horiz.style.right=t?e+"px":"0",this.horiz.style.left=n.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,n.scrollWidth-n.clientWidth+(n.viewWidth-n.barLeft-(t?e:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&n.clientHeight>0&&(0==e&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:t?e:0,bottom:l?e:0}},Ae.prototype.setScrollLeft=function(n){this.horiz.scrollLeft!=n&&(this.horiz.scrollLeft=n),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ae.prototype.setScrollTop=function(n){this.vert.scrollTop!=n&&(this.vert.scrollTop=n),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ae.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=b&&!h?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new _,this.disableVert=new _},Ae.prototype.enableZeroWidthBar=function(n,l,t){n.style.pointerEvents="auto",l.set(1e3,function e(){var o=n.getBoundingClientRect();("vert"==t?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=n?n.style.pointerEvents="none":l.set(1e3,e)})},Ae.prototype.clear=function(){var n=this.horiz.parentNode;n.removeChild(this.horiz),n.removeChild(this.vert)};var Pe=function(){};function $e(n,l){l||(l=De(n));var t=n.display.barWidth,e=n.display.barHeight;Oe(n,l);for(var o=0;o<4&&t!=n.display.barWidth||e!=n.display.barHeight;o++)t!=n.display.barWidth&&n.options.lineWrapping&&be(n),Oe(n,De(n)),t=n.display.barWidth,e=n.display.barHeight}function Oe(n,l){var t=n.display,e=t.scrollbars.update(l);t.sizer.style.paddingRight=(t.barWidth=e.right)+"px",t.sizer.style.paddingBottom=(t.barHeight=e.bottom)+"px",t.heightForcer.style.borderBottom=e.bottom+"px solid transparent",e.right&&e.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=e.bottom+"px",t.scrollbarFiller.style.width=e.right+"px"):t.scrollbarFiller.style.display="",e.bottom&&n.options.coverGutterNextToScrollbar&&n.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=e.bottom+"px",t.gutterFiller.style.width=l.gutterWidth+"px"):t.gutterFiller.style.display=""}Pe.prototype.update=function(){return{bottom:0,right:0}},Pe.prototype.setScrollLeft=function(){},Pe.prototype.setScrollTop=function(){},Pe.prototype.clear=function(){};var Fe={native:Ae,null:Pe};function He(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&M(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new Fe[n.options.scrollbarStyle](function(l){n.display.wrapper.insertBefore(l,n.display.scrollbarFiller),ll(l,"mousedown",function(){n.state.focused&&setTimeout(function(){return n.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,t){"horizontal"==t?Ee(n,l):Ie(n,l)},n),n.display.scrollbars.addClass&&A(n.display.wrapper,n.display.scrollbars.addClass)}var _e=0;function ze(n){var l;n.curOp={cm:n,viewChanged:!1,startHeight:n.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_e},l=n.curOp,it?it.ops.push(l):l.ownsGroup=it={ops:[l],delayedCallbacks:[]}}function Be(n){!function(l,t){var e=n.curOp.ownsGroup;if(e)try{!function(n){var l=n.delayedCallbacks,t=0;do{for(;t<l.length;t++)l[t].call(null);for(var e=0;e<n.ops.length;e++){var o=n.ops[e];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(t<l.length)}(e)}finally{it=null,function(n){for(var l=0;l<n.ops.length;l++)n.ops[l].cm.curOp=null;!function(n){for(var l=n.ops,t=0;t<l.length;t++)We(l[t]);for(var e=0;e<l.length;e++)(o=l[e]).updatedDisplay=o.mustUpdate&&oo(o.cm,o.update);for(var o,i=0;i<l.length;i++)Ue(l[i]);for(var r=0;r<l.length;r++)Ve(l[r]);for(var u=0;u<l.length;u++)je(l[u])}(n)}(e)}}()}function We(n){var l=n.cm,t=l.display;!function(n){var l=n.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Tt(n)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Tt(n)+"px",l.scrollbarsClipped=!0)}(l),n.updateMaxLine&&qn(l),n.mustUpdate=n.viewChanged||n.forceUpdate||null!=n.scrollTop||n.scrollToPos&&(n.scrollToPos.from.line<t.viewFrom||n.scrollToPos.to.line>=t.viewTo)||t.maxLineChanged&&l.options.lineWrapping,n.update=n.mustUpdate&&new eo(l,n.mustUpdate&&{top:n.scrollTop,ensure:n.scrollToPos},n.forceUpdate)}function Ue(n){var l=n.cm,t=l.display;n.updatedDisplay&&be(l),n.barMeasure=De(l),t.maxLineChanged&&!l.options.lineWrapping&&(n.adjustWidthTo=It(l,t.maxLine,t.maxLine.text.length).left+3,l.display.sizerWidth=n.adjustWidthTo,n.barMeasure.scrollWidth=Math.max(t.scroller.clientWidth,t.sizer.offsetLeft+n.adjustWidthTo+Tt(l)+l.display.barWidth),n.maxScrollLeft=Math.max(0,t.sizer.offsetLeft+n.adjustWidthTo-Mt(l))),(n.updatedDisplay||n.selectionChanged)&&(n.preparedSelection=t.input.prepareSelection())}function Ve(n){var l=n.cm;null!=n.adjustWidthTo&&(l.display.sizer.style.minWidth=n.adjustWidthTo+"px",n.maxScrollLeft<l.doc.scrollLeft&&Ee(l,Math.min(l.display.scroller.scrollLeft,n.maxScrollLeft),!0),l.display.maxLineChanged=!1);var t=n.focus&&n.focus==D();n.preparedSelection&&l.display.input.showSelection(n.preparedSelection,t),(n.updatedDisplay||n.startHeight!=l.doc.height)&&$e(l,n.barMeasure),n.updatedDisplay&&ao(l,n.barMeasure),n.selectionChanged&&he(l),l.state.focused&&n.updateInput&&l.display.input.reset(n.typing),t&&fe(n.cm)}function je(n){var l=n.cm,t=l.display,e=l.doc;n.updatedDisplay&&io(l,n.update),null==t.wheelStartX||null==n.scrollTop&&null==n.scrollLeft&&!n.scrollToPos||(t.wheelStartX=t.wheelStartY=null),null!=n.scrollTop&&Ne(l,n.scrollTop,n.forceScroll),null!=n.scrollLeft&&Ee(l,n.scrollLeft,!0,!0),n.scrollToPos&&function(n,l){if(!il(n,"scrollCursorIntoView")){var t=n.display,e=t.sizer.getBoundingClientRect(),o=null;if(l.top+e.top<0?o=!0:l.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!f){var i=I("div","\u200b",null,"position: absolute;\n                         top: "+(l.top-t.viewOffset-wt(n.display))+"px;\n                         height: "+(l.bottom-l.top+Tt(n)+t.barHeight)+"px;\n                         left: "+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");n.display.lineSpace.appendChild(i),i.scrollIntoView(o),n.display.lineSpace.removeChild(i)}}}(l,function(n,l,t,e){var o;null==e&&(e=0),n.options.lineWrapping||l!=t||(t="before"==(l=l.ch?vn(l.line,"before"==l.sticky?l.ch-1:l.ch,"after"):l).sticky?vn(l.line,l.ch+1,"before"):l);for(var i=0;i<5;i++){var r=!1,u=Kt(n,l),a=t&&t!=l?Kt(n,t):u,s=ke(n,o={left:Math.min(u.left,a.left),top:Math.min(u.top,a.top)-e,right:Math.max(u.left,a.left),bottom:Math.max(u.bottom,a.bottom)+e}),c=n.doc.scrollTop,d=n.doc.scrollLeft;if(null!=s.scrollTop&&(Ie(n,s.scrollTop),Math.abs(n.doc.scrollTop-c)>1&&(r=!0)),null!=s.scrollLeft&&(Ee(n,s.scrollLeft),Math.abs(n.doc.scrollLeft-d)>1&&(r=!0)),!r)break}return o}(l,kn(e,n.scrollToPos.from),kn(e,n.scrollToPos.to),n.scrollToPos.margin));var o=n.maybeHiddenMarkers,i=n.maybeUnhiddenMarkers;if(o)for(var r=0;r<o.length;++r)o[r].lines.length||ol(o[r],"hide");if(i)for(var u=0;u<i.length;++u)i[u].lines.length&&ol(i[u],"unhide");t.wrapper.offsetHeight&&(e.scrollTop=l.display.scroller.scrollTop),n.changeObjs&&ol(l,"changes",l,n.changeObjs),n.update&&n.update.finish()}function Ke(n,l){if(n.curOp)return l();ze(n);try{return l()}finally{Be(n)}}function Ge(n,l){return function(){if(n.curOp)return l.apply(n,arguments);ze(n);try{return l.apply(n,arguments)}finally{Be(n)}}}function Ye(n){return function(){if(this.curOp)return n.apply(this,arguments);ze(this);try{return n.apply(this,arguments)}finally{Be(this)}}}function qe(n){return function(){var l=this.cm;if(!l||l.curOp)return n.apply(this,arguments);ze(l);try{return n.apply(this,arguments)}finally{Be(l)}}}function Xe(n,l,t,e){null==l&&(l=n.doc.first),null==t&&(t=n.doc.first+n.doc.size),e||(e=0);var o=n.display;if(e&&t<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>l)&&(o.updateLineNumbers=l),n.curOp.viewChanged=!0,l>=o.viewTo)Mn&&Un(n.doc,l)<o.viewTo&&Je(n);else if(t<=o.viewFrom)Mn&&Vn(n.doc,t+e)>o.viewFrom?Je(n):(o.viewFrom+=e,o.viewTo+=e);else if(l<=o.viewFrom&&t>=o.viewTo)Je(n);else if(l<=o.viewFrom){var i=Qe(n,t,t+e,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=e):Je(n)}else if(t>=o.viewTo){var r=Qe(n,l,l,-1);r?(o.view=o.view.slice(0,r.index),o.viewTo=r.lineN):Je(n)}else{var u=Qe(n,l,l,-1),a=Qe(n,t,t+e,1);u&&a?(o.view=o.view.slice(0,u.index).concat(ot(n,u.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=e):Je(n)}var s=o.externalMeasured;s&&(t<s.lineN?s.lineN+=e:l<s.lineN+s.size&&(o.externalMeasured=null))}function Ze(n,l,t){n.curOp.viewChanged=!0;var e=n.display,o=n.display.externalMeasured;if(o&&l>=o.lineN&&l<o.lineN+o.size&&(e.externalMeasured=null),!(l<e.viewFrom||l>=e.viewTo)){var i=e.view[ue(n,l)];if(null!=i.node){var r=i.changes||(i.changes=[]);-1==z(r,t)&&r.push(t)}}}function Je(n){n.display.viewFrom=n.display.viewTo=n.doc.first,n.display.view=[],n.display.viewOffset=0}function Qe(n,l,t,e){var o,i=ue(n,l),r=n.display.view;if(!Mn||t==n.doc.first+n.doc.size)return{index:i,lineN:t};for(var u=n.display.viewFrom,a=0;a<i;a++)u+=r[a].size;if(u!=l){if(e>0){if(i==r.length-1)return null;o=u+r[i].size-l,i++}else o=u-l;l+=o,t+=o}for(;Un(n.doc,t)!=t;){if(i==(e<0?0:r.length-1))return null;t+=e*r[i-(e<0?1:0)].size,i+=e}return{index:i,lineN:t}}function no(n){for(var l=n.display.view,t=0,e=0;e<l.length;e++){var o=l[e];o.hidden||o.node&&!o.changes||++t}return t}function lo(n,l){n.doc.highlightFrontier<n.display.viewTo&&n.state.highlight.set(l,O(to,n))}function to(n){var l=n.doc;if(!(l.highlightFrontier>=n.display.viewTo)){var t=+new Date+n.options.workTime,e=Hl(n,l.highlightFrontier),o=[];l.iter(e.line,Math.min(l.first+l.size,n.display.viewTo+500),function(i){if(e.line>=n.display.viewFrom){var r=i.styles,u=i.text.length>n.options.maxHighlightLength?Nl(l.mode,e.state):null,a=Ol(n,i,e,!0);u&&(e.state=u),i.styles=a.styles;var s=i.styleClasses,c=a.classes;c?i.styleClasses=c:s&&(i.styleClasses=null);for(var d=!r||r.length!=i.styles.length||s!=c&&(!s||!c||s.bgClass!=c.bgClass||s.textClass!=c.textClass),p=0;!d&&p<r.length;++p)d=r[p]!=i.styles[p];d&&o.push(e.line),i.stateAfter=e.save(),e.nextLine()}else i.text.length<=n.options.maxHighlightLength&&_l(n,i.text,e),i.stateAfter=e.line%5==0?e.save():null,e.nextLine();if(+new Date>t)return lo(n,n.options.workDelay),!0}),l.highlightFrontier=e.line,l.modeFrontier=Math.max(l.modeFrontier,e.line),o.length&&Ke(n,function(){for(var l=0;l<o.length;l++)Ze(n,o[l],"text")})}}var eo=function(n,l,t){var e=n.display;this.viewport=l,this.visible=Ce(e,n.doc,l),this.editorIsHidden=!e.wrapper.offsetWidth,this.wrapperHeight=e.wrapper.clientHeight,this.wrapperWidth=e.wrapper.clientWidth,this.oldDisplayWidth=Mt(n),this.force=t,this.dims=te(n),this.events=[]};function oo(n,l){var t=n.display,e=n.doc;if(l.editorIsHidden)return Je(n),!1;if(!l.force&&l.visible.from>=t.viewFrom&&l.visible.to<=t.viewTo&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo)&&t.renderedView==t.view&&0==no(n))return!1;we(n)&&(Je(n),l.dims=te(n));var o=e.first+e.size,i=Math.max(l.visible.from-n.options.viewportMargin,e.first),r=Math.min(o,l.visible.to+n.options.viewportMargin);t.viewFrom<i&&i-t.viewFrom<20&&(i=Math.max(e.first,t.viewFrom)),t.viewTo>r&&t.viewTo-r<20&&(r=Math.min(o,t.viewTo)),Mn&&(i=Un(n.doc,i),r=Vn(n.doc,r));var u=i!=t.viewFrom||r!=t.viewTo||t.lastWrapHeight!=l.wrapperHeight||t.lastWrapWidth!=l.wrapperWidth;!function(n,l,t){var e=n.display;0==e.view.length||l>=e.viewTo||t<=e.viewFrom?(e.view=ot(n,l,t),e.viewFrom=l):(e.viewFrom>l?e.view=ot(n,l,e.viewFrom).concat(e.view):e.viewFrom<l&&(e.view=e.view.slice(ue(n,l))),e.viewFrom=l,e.viewTo<t?e.view=e.view.concat(ot(n,e.viewTo,t)):e.viewTo>t&&(e.view=e.view.slice(0,ue(n,t)))),e.viewTo=t}(n,i,r),t.viewOffset=Gn(an(n.doc,t.viewFrom)),n.display.mover.style.top=t.viewOffset+"px";var s=no(n);if(!u&&0==s&&!l.force&&t.renderedView==t.view&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo))return!1;var c=function(n){if(n.hasFocus())return null;var l=D();if(!l||!E(n.display.lineDiv,l))return null;var t={activeElt:l};if(window.getSelection){var e=window.getSelection();e.anchorNode&&e.extend&&E(n.display.lineDiv,e.anchorNode)&&(t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset)}return t}(n);return s>4&&(t.lineDiv.style.display="none"),function(n,l,t){var e=n.display,o=n.options.lineNumbers,i=e.lineDiv,r=i.firstChild;function u(l){var t=l.nextSibling;return a&&b&&n.display.currentWheelTarget==l?l.style.display="none":l.parentNode.removeChild(l),t}for(var s=e.view,c=e.viewFrom,d=0;d<s.length;d++){var p=s[d];if(p.hidden);else if(p.node&&p.node.parentNode==i){for(;r!=p.node;)r=u(r);var h=o&&null!=l&&l<=c&&p.lineNumber;p.changes&&(z(p.changes,"gutter")>-1&&(h=!1),st(n,p,c,t)),h&&(R(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(gn(n.options,c)))),r=p.node.nextSibling}else{var f=vt(n,p,c,t);i.insertBefore(f,r)}c+=p.size}for(;r;)r=u(r)}(n,t.updateLineNumbers,l.dims),s>4&&(t.lineDiv.style.display=""),t.renderedView=t.view,function(n){if(n&&n.activeElt&&n.activeElt!=D()&&(n.activeElt.focus(),n.anchorNode&&E(document.body,n.anchorNode)&&E(document.body,n.focusNode))){var l=window.getSelection(),t=document.createRange();t.setEnd(n.anchorNode,n.anchorOffset),t.collapse(!1),l.removeAllRanges(),l.addRange(t),l.extend(n.focusNode,n.focusOffset)}}(c),R(t.cursorDiv),R(t.selectionDiv),t.gutters.style.height=t.sizer.style.minHeight=0,u&&(t.lastWrapHeight=l.wrapperHeight,t.lastWrapWidth=l.wrapperWidth,lo(n,400)),t.updateLineNumbers=null,!0}function io(n,l){for(var t=l.viewport,e=!0;(e&&n.options.lineWrapping&&l.oldDisplayWidth!=Mt(n)||(t&&null!=t.top&&(t={top:Math.min(n.doc.height+kt(n.display)-Rt(n),t.top)}),l.visible=Ce(n.display,n.doc,t),!(l.visible.from>=n.display.viewFrom&&l.visible.to<=n.display.viewTo)))&&oo(n,l);e=!1){be(n);var o=De(n);ae(n),$e(n,o),ao(n,o),l.force=!1}l.signal(n,"update",n),n.display.viewFrom==n.display.reportedViewFrom&&n.display.viewTo==n.display.reportedViewTo||(l.signal(n,"viewportChange",n,n.display.viewFrom,n.display.viewTo),n.display.reportedViewFrom=n.display.viewFrom,n.display.reportedViewTo=n.display.viewTo)}function ro(n,l){var t=new eo(n,l);if(oo(n,t)){be(n),io(n,t);var e=De(n);ae(n),$e(n,e),ao(n,e),t.finish()}}function uo(n){n.display.sizer.style.marginLeft=n.display.gutters.offsetWidth+"px"}function ao(n,l){n.display.sizer.style.minHeight=l.docHeight+"px",n.display.heightForcer.style.top=l.docHeight+"px",n.display.gutters.style.height=l.docHeight+n.display.barHeight+Tt(n)+"px"}function so(n){var l=n.display.gutters,t=n.options.gutters;R(l);for(var e=0;e<t.length;++e){var o=t[e],i=l.appendChild(I("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(n.display.lineGutter=i,i.style.width=(n.display.lineNumWidth||1)+"px")}l.style.display=e?"":"none",uo(n)}function co(n){var l=z(n.gutters,"CodeMirror-linenumbers");-1==l&&n.lineNumbers?n.gutters=n.gutters.concat(["CodeMirror-linenumbers"]):l>-1&&!n.lineNumbers&&(n.gutters=n.gutters.slice(0),n.gutters.splice(l,1))}eo.prototype.signal=function(n,l){ul(n,l)&&this.events.push(arguments)},eo.prototype.finish=function(){for(var n=0;n<this.events.length;n++)ol.apply(null,this.events[n])};var po=0,ho=null;function fo(n){var l=n.wheelDeltaX,t=n.wheelDeltaY;return null==l&&n.detail&&n.axis==n.HORIZONTAL_AXIS&&(l=n.detail),null==t&&n.detail&&n.axis==n.VERTICAL_AXIS?t=n.detail:null==t&&(t=n.wheelDelta),{x:l,y:t}}function go(n,l){var e=fo(l),o=e.x,i=e.y,r=n.display,u=r.scroller,s=u.scrollHeight>u.clientHeight;if(o&&u.scrollWidth>u.clientWidth||i&&s){if(i&&b&&a)n:for(var c=l.target,p=r.view;c!=u;c=c.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==c){n.display.currentWheelTarget=c;break n}if(o&&!t&&!d&&null!=ho)return i&&s&&Ie(n,Math.max(0,u.scrollTop+i*ho)),Ee(n,Math.max(0,u.scrollLeft+o*ho)),(!i||i&&s)&&sl(l),void(r.wheelStartX=null);if(i&&null!=ho){var f=i*ho,g=n.doc.scrollTop,v=g+r.wrapper.clientHeight;f<0?g=Math.max(0,g+f-50):v=Math.min(n.doc.height,v+f+50),ro(n,{top:g,bottom:v})}po<20&&(null==r.wheelStartX?(r.wheelStartX=u.scrollLeft,r.wheelStartY=u.scrollTop,r.wheelDX=o,r.wheelDY=i,setTimeout(function(){if(null!=r.wheelStartX){var n=u.scrollLeft-r.wheelStartX,l=u.scrollTop-r.wheelStartY,t=l&&r.wheelDY&&l/r.wheelDY||n&&r.wheelDX&&n/r.wheelDX;r.wheelStartX=r.wheelStartY=null,t&&(ho=(ho*po+t)/(po+1),++po)}},200)):(r.wheelDX+=o,r.wheelDY+=i))}}r?ho=-.53:t?ho=15:c?ho=-.7:p&&(ho=-1/3);var vo=function(n,l){this.ranges=n,this.primIndex=l};vo.prototype.primary=function(){return this.ranges[this.primIndex]},vo.prototype.equals=function(n){if(n==this)return!0;if(n.primIndex!=this.primIndex||n.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var t=this.ranges[l],e=n.ranges[l];if(!bn(t.anchor,e.anchor)||!bn(t.head,e.head))return!1}return!0},vo.prototype.deepCopy=function(){for(var n=[],l=0;l<this.ranges.length;l++)n[l]=new mo(yn(this.ranges[l].anchor),yn(this.ranges[l].head));return new vo(n,this.primIndex)},vo.prototype.somethingSelected=function(){for(var n=0;n<this.ranges.length;n++)if(!this.ranges[n].empty())return!0;return!1},vo.prototype.contains=function(n,l){l||(l=n);for(var t=0;t<this.ranges.length;t++){var e=this.ranges[t];if(mn(l,e.from())>=0&&mn(n,e.to())<=0)return t}return-1};var mo=function(n,l){this.anchor=n,this.head=l};function bo(n,l){var t=n[l];n.sort(function(n,l){return mn(n.from(),l.from())}),l=z(n,t);for(var e=1;e<n.length;e++){var o=n[e],i=n[e-1];if(mn(i.to(),o.from())>=0){var r=xn(i.from(),o.from()),u=Cn(i.to(),o.to()),a=i.empty()?o.from()==o.head:i.from()==i.head;e<=l&&--l,n.splice(--e,2,new mo(a?u:r,a?r:u))}}return new vo(n,l)}function yo(n,l){return new vo([new mo(n,l||n)],0)}function Co(n){return n.text?vn(n.from.line+n.text.length-1,q(n.text).length+(1==n.text.length?n.from.ch:0)):n.to}function xo(n,l){if(mn(n,l.from)<0)return n;if(mn(n,l.to)<=0)return Co(l);var t=n.line+l.text.length-(l.to.line-l.from.line)-1,e=n.ch;return n.line==l.to.line&&(e+=Co(l).ch-l.to.ch),vn(t,e)}function wo(n,l){for(var t=[],e=0;e<n.sel.ranges.length;e++){var o=n.sel.ranges[e];t.push(new mo(xo(o.anchor,l),xo(o.head,l)))}return bo(t,n.sel.primIndex)}function ko(n,l,t){return n.line==l.line?vn(t.line,n.ch-l.ch+t.ch):vn(t.line+(n.line-l.line),n.ch)}function So(n){n.doc.mode=Ll(n.options,n.doc.modeOption),To(n)}function To(n){n.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null)}),n.doc.modeFrontier=n.doc.highlightFrontier=n.doc.first,lo(n,100),n.state.modeGen++,n.curOp&&Xe(n)}function Mo(n,l){return 0==l.from.ch&&0==l.to.ch&&""==q(l.text)&&(!n.cm||n.cm.options.wholeLineUpdateBefore)}function Ro(n,l,t,e){function o(n){return t?t[n]:null}function i(n,t,o){!function(n,l,t,e){n.text=l,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),null!=n.order&&(n.order=null),Dn(n),An(n,t);var o=e?e(n):1;o!=n.height&&dn(n,o)}(n,t,o,e),ut(n,"change",n,l)}function r(n,l){for(var t=[],i=n;i<l;++i)t.push(new Kl(s[i],o(i),e));return t}var u=l.from,a=l.to,s=l.text,c=an(n,u.line),d=an(n,a.line),p=q(s),h=o(s.length-1),f=a.line-u.line;if(l.full)n.insert(0,r(0,s.length)),n.remove(s.length,n.size-s.length);else if(Mo(n,l)){var g=r(0,s.length-1);i(d,d.text,h),f&&n.remove(u.line,f),g.length&&n.insert(u.line,g)}else if(c==d)if(1==s.length)i(c,c.text.slice(0,u.ch)+p+c.text.slice(a.ch),h);else{var v=r(1,s.length-1);v.push(new Kl(p+c.text.slice(a.ch),h,e)),i(c,c.text.slice(0,u.ch)+s[0],o(0)),n.insert(u.line+1,v)}else if(1==s.length)i(c,c.text.slice(0,u.ch)+s[0]+d.text.slice(a.ch),o(0)),n.remove(u.line+1,f);else{i(c,c.text.slice(0,u.ch)+s[0],o(0)),i(d,p+d.text.slice(a.ch),h);var m=r(1,s.length-1);f>1&&n.remove(u.line+1,f-1),n.insert(u.line+1,m)}ut(n,"change",n,l)}function Lo(n,l,t){!function n(e,o,i){if(e.linked)for(var r=0;r<e.linked.length;++r){var u=e.linked[r];if(u.doc!=o){var a=i&&u.sharedHist;t&&!a||(l(u.doc,a),n(u.doc,e,a))}}}(n,null,!0)}function Io(n,l){if(l.cm)throw new Error("This document is already in use.");n.doc=l,l.cm=n,ie(n),So(n),No(n),n.options.lineWrapping||qn(n),n.options.mode=l.modeOption,Xe(n)}function No(n){("rtl"==n.doc.direction?A:M)(n.display.lineDiv,"CodeMirror-rtl")}function Eo(n){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=n||1}function Do(n,l){var t={from:yn(l.from),to:Co(l),text:sn(n,l.from,l.to)};return Oo(n,t,l.from.line,l.to.line+1),Lo(n,function(n){return Oo(n,t,l.from.line,l.to.line+1)},!0),t}function Ao(n){for(;n.length&&q(n).ranges;)n.pop()}function Po(n,l,t,e){var o=n.history;o.undone.length=0;var i,r,u=+new Date;if((o.lastOp==e||o.lastOrigin==l.origin&&l.origin&&("+"==l.origin.charAt(0)&&o.lastModTime>u-(n.cm?n.cm.options.historyEventDelay:500)||"*"==l.origin.charAt(0)))&&(i=function(n,l){return l?(Ao(n.done),q(n.done)):n.done.length&&!q(n.done).ranges?q(n.done):n.done.length>1&&!n.done[n.done.length-2].ranges?(n.done.pop(),q(n.done)):void 0}(o,o.lastOp==e)))r=q(i.changes),0==mn(l.from,l.to)&&0==mn(l.from,r.to)?r.to=Co(l):i.changes.push(Do(n,l));else{var a=q(o.done);for(a&&a.ranges||$o(n.sel,o.done),i={changes:[Do(n,l)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(t),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=u,o.lastOp=o.lastSelOp=e,o.lastOrigin=o.lastSelOrigin=l.origin,r||ol(n,"historyAdded")}function $o(n,l){var t=q(l);t&&t.ranges&&t.equals(n)||l.push(n)}function Oo(n,l,t,e){var o=l["spans_"+n.id],i=0;n.iter(Math.max(n.first,t),Math.min(n.first+n.size,e),function(t){t.markedSpans&&((o||(o=l["spans_"+n.id]={}))[i]=t.markedSpans),++i})}function Fo(n){if(!n)return null;for(var l,t=0;t<n.length;++t)n[t].marker.explicitlyCleared?l||(l=n.slice(0,t)):l&&l.push(n[t]);return l?l.length?l:null:n}function Ho(n,l){var t=function(n,l){var t=l["spans_"+n.id];if(!t)return null;for(var e=[],o=0;o<l.text.length;++o)e.push(Fo(t[o]));return e}(n,l),e=Nn(n,l);if(!t)return e;if(!e)return t;for(var o=0;o<t.length;++o){var i=t[o],r=e[o];if(i&&r)n:for(var u=0;u<r.length;++u){for(var a=r[u],s=0;s<i.length;++s)if(i[s].marker==a.marker)continue n;i.push(a)}else r&&(t[o]=r)}return t}function _o(n,l,t){for(var e=[],o=0;o<n.length;++o){var i=n[o];if(i.ranges)e.push(t?vo.prototype.deepCopy.call(i):i);else{var r=i.changes,u=[];e.push({changes:u});for(var a=0;a<r.length;++a){var s=r[a],c=void 0;if(u.push({from:s.from,to:s.to,text:s.text}),l)for(var d in s)(c=d.match(/^spans_(\d+)$/))&&z(l,Number(c[1]))>-1&&(q(u)[d]=s[d],delete s[d])}}}return e}function zo(n,l,t,e){if(e){var o=n.anchor;if(t){var i=mn(l,o)<0;i!=mn(t,o)<0?(o=l,l=t):i!=mn(l,t)<0&&(l=t)}return new mo(o,l)}return new mo(t||l,l)}function Bo(n,l,t,e,o){null==o&&(o=n.cm&&(n.cm.display.shift||n.extend)),Ko(n,new vo([zo(n.sel.primary(),l,t,o)],0),e)}function Wo(n,l,t){for(var e=[],o=n.cm&&(n.cm.display.shift||n.extend),i=0;i<n.sel.ranges.length;i++)e[i]=zo(n.sel.ranges[i],l[i],null,o);Ko(n,bo(e,n.sel.primIndex),t)}function Uo(n,l,t,e){var o=n.sel.ranges.slice(0);o[l]=t,Ko(n,bo(o,n.sel.primIndex),e)}function Vo(n,l,t,e){Ko(n,yo(l,t),e)}function jo(n,l,t){var e=n.history.done,o=q(e);o&&o.ranges?(e[e.length-1]=l,Go(n,l,t)):Ko(n,l,t)}function Ko(n,l,t){Go(n,l,t),function(n,l,t,e){var o=n.history,i=e&&e.origin;t==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||function(n,l,t,e){var o=l.charAt(0);return"*"==o||"+"==o&&t.ranges.length==e.ranges.length&&t.somethingSelected()==e.somethingSelected()&&new Date-n.history.lastSelTime<=(n.cm?n.cm.options.historyEventDelay:500)}(n,i,q(o.done),l))?o.done[o.done.length-1]=l:$o(l,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=t,e&&!1!==e.clearRedo&&Ao(o.undone)}(n,n.sel,n.cm?n.cm.curOp.id:NaN,t)}function Go(n,l,t){(ul(n,"beforeSelectionChange")||n.cm&&ul(n.cm,"beforeSelectionChange"))&&(l=function(n,l,t){var e={ranges:l.ranges,update:function(l){this.ranges=[];for(var t=0;t<l.length;t++)this.ranges[t]=new mo(kn(n,l[t].anchor),kn(n,l[t].head))},origin:t&&t.origin};return ol(n,"beforeSelectionChange",n,e),n.cm&&ol(n.cm,"beforeSelectionChange",n.cm,e),e.ranges!=l.ranges?bo(e.ranges,e.ranges.length-1):l}(n,l,t)),Yo(n,Xo(n,l,t&&t.bias||(mn(l.primary().head,n.sel.primary().head)<0?-1:1),!0)),t&&!1===t.scroll||!n.cm||Te(n.cm)}function Yo(n,l){l.equals(n.sel)||(n.sel=l,n.cm&&(n.cm.curOp.updateInput=n.cm.curOp.selectionChanged=!0,rl(n.cm)),ut(n,"cursorActivity",n))}function qo(n){Yo(n,Xo(n,n.sel,null,!1))}function Xo(n,l,t,e){for(var o,i=0;i<l.ranges.length;i++){var r=l.ranges[i],u=l.ranges.length==n.sel.ranges.length&&n.sel.ranges[i],a=Jo(n,r.anchor,u&&u.anchor,t,e),s=Jo(n,r.head,u&&u.head,t,e);(o||a!=r.anchor||s!=r.head)&&(o||(o=l.ranges.slice(0,i)),o[i]=new mo(a,s))}return o?bo(o,l.primIndex):l}function Zo(n,l,t,e,o){var i=an(n,l.line);if(i.markedSpans)for(var r=0;r<i.markedSpans.length;++r){var u=i.markedSpans[r],a=u.marker;if((null==u.from||(a.inclusiveLeft?u.from<=l.ch:u.from<l.ch))&&(null==u.to||(a.inclusiveRight?u.to>=l.ch:u.to>l.ch))){if(o&&(ol(a,"beforeCursorEnter"),a.explicitlyCleared)){if(i.markedSpans){--r;continue}break}if(!a.atomic)continue;if(t){var s=a.find(e<0?1:-1),c=void 0;if((e<0?a.inclusiveRight:a.inclusiveLeft)&&(s=Qo(n,s,-e,s&&s.line==l.line?i:null)),s&&s.line==l.line&&(c=mn(s,t))&&(e<0?c<0:c>0))return Zo(n,s,l,e,o)}var d=a.find(e<0?-1:1);return(e<0?a.inclusiveLeft:a.inclusiveRight)&&(d=Qo(n,d,e,d.line==l.line?i:null)),d?Zo(n,d,l,e,o):null}}return l}function Jo(n,l,t,e,o){var i=e||1;return Zo(n,l,t,i,o)||!o&&Zo(n,l,t,i,!0)||Zo(n,l,t,-i,o)||!o&&Zo(n,l,t,-i,!0)||(n.cantEdit=!0,vn(n.first,0))}function Qo(n,l,t,e){return t<0&&0==l.ch?l.line>n.first?kn(n,vn(l.line-1)):null:t>0&&l.ch==(e||an(n,l.line)).text.length?l.line<n.first+n.size-1?vn(l.line+1,0):null:new vn(l.line,l.ch+t)}function ni(n){n.setSelection(vn(n.firstLine(),0),vn(n.lastLine()),U)}function li(n,l,t){var e={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return e.canceled=!0}};return t&&(e.update=function(l,t,o,i){l&&(e.from=kn(n,l)),t&&(e.to=kn(n,t)),o&&(e.text=o),void 0!==i&&(e.origin=i)}),ol(n,"beforeChange",n,e),n.cm&&ol(n.cm,"beforeChange",n.cm,e),e.canceled?null:{from:e.from,to:e.to,text:e.text,origin:e.origin}}function ti(n,l,t){if(n.cm){if(!n.cm.curOp)return Ge(n.cm,ti)(n,l,t);if(n.cm.state.suppressEdits)return}if(!(ul(n,"beforeChange")||n.cm&&ul(n.cm,"beforeChange"))||(l=li(n,l,!0))){var e=Tn&&!t&&function(n,l,t){var e=null;if(n.iter(l.line,t.line+1,function(n){if(n.markedSpans)for(var l=0;l<n.markedSpans.length;++l){var t=n.markedSpans[l].marker;!t.readOnly||e&&-1!=z(e,t)||(e||(e=[])).push(t)}}),!e)return null;for(var o=[{from:l,to:t}],i=0;i<e.length;++i)for(var r=e[i],u=r.find(0),a=0;a<o.length;++a){var s=o[a];if(!(mn(s.to,u.from)<0||mn(s.from,u.to)>0)){var c=[a,1],d=mn(s.from,u.from),p=mn(s.to,u.to);(d<0||!r.inclusiveLeft&&!d)&&c.push({from:s.from,to:u.from}),(p>0||!r.inclusiveRight&&!p)&&c.push({from:u.to,to:s.to}),o.splice.apply(o,c),a+=c.length-3}}return o}(n,l.from,l.to);if(e)for(var o=e.length-1;o>=0;--o)ei(n,{from:e[o].from,to:e[o].to,text:o?[""]:l.text,origin:l.origin});else ei(n,l)}}function ei(n,l){if(1!=l.text.length||""!=l.text[0]||0!=mn(l.from,l.to)){var t=wo(n,l);Po(n,l,t,n.cm?n.cm.curOp.id:NaN),ri(n,l,t,Nn(n,l));var e=[];Lo(n,function(n,t){t||-1!=z(e,n.history)||(ci(n.history,l),e.push(n.history)),ri(n,l,null,Nn(n,l))})}}function oi(n,l,t){var e=n.cm&&n.cm.state.suppressEdits;if(!e||t){for(var o,i=n.history,r=n.sel,u="undo"==l?i.done:i.undone,a="undo"==l?i.undone:i.done,s=0;s<u.length&&(o=u[s],t?!o.ranges||o.equals(n.sel):o.ranges);s++);if(s!=u.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=u.pop()).ranges){if(e)return void u.push(o);break}if($o(o,a),t&&!o.equals(n.sel))return void Ko(n,o,{clearRedo:!1});r=o}var c=[];$o(r,a),a.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=ul(n,"beforeChange")||n.cm&&ul(n.cm,"beforeChange"),p=function(t){var e=o.changes[t];if(e.origin=l,d&&!li(n,e,!1))return u.length=0,{};c.push(Do(n,e));var i=t?wo(n,e):q(u);ri(n,e,i,Ho(n,e)),!t&&n.cm&&n.cm.scrollIntoView({from:e.from,to:Co(e)});var r=[];Lo(n,function(n,l){l||-1!=z(r,n.history)||(ci(n.history,e),r.push(n.history)),ri(n,e,null,Ho(n,e))})},h=o.changes.length-1;h>=0;--h){var f=p(h);if(f)return f.v}}}}function ii(n,l){if(0!=l&&(n.first+=l,n.sel=new vo(X(n.sel.ranges,function(n){return new mo(vn(n.anchor.line+l,n.anchor.ch),vn(n.head.line+l,n.head.ch))}),n.sel.primIndex),n.cm)){Xe(n.cm,n.first,n.first-l,l);for(var t=n.cm.display,e=t.viewFrom;e<t.viewTo;e++)Ze(n.cm,e,"gutter")}}function ri(n,l,t,e){if(n.cm&&!n.cm.curOp)return Ge(n.cm,ri)(n,l,t,e);if(l.to.line<n.first)ii(n,l.text.length-1-(l.to.line-l.from.line));else if(!(l.from.line>n.lastLine())){if(l.from.line<n.first){var o=l.text.length-1-(n.first-l.from.line);ii(n,o),l={from:vn(n.first,0),to:vn(l.to.line+o,l.to.ch),text:[q(l.text)],origin:l.origin}}var i=n.lastLine();l.to.line>i&&(l={from:l.from,to:vn(i,an(n,i).text.length),text:[l.text[0]],origin:l.origin}),l.removed=sn(n,l.from,l.to),t||(t=wo(n,l)),n.cm?function(n,l,t){var e=n.doc,o=n.display,i=l.from,r=l.to,u=!1,a=i.line;n.options.lineWrapping||(a=pn(Wn(an(e,i.line))),e.iter(a,r.line+1,function(n){if(n==o.maxLine)return u=!0,!0})),e.sel.contains(l.from,l.to)>-1&&rl(n),Ro(e,l,t,oe(n)),n.options.lineWrapping||(e.iter(a,i.line+l.text.length,function(n){var l=Yn(n);l>o.maxLineLength&&(o.maxLine=n,o.maxLineLength=l,o.maxLineChanged=!0,u=!1)}),u&&(n.curOp.updateMaxLine=!0)),function(n,l){if(n.modeFrontier=Math.min(n.modeFrontier,l),!(n.highlightFrontier<l-10)){for(var t=n.first,e=l-1;e>t;e--){var o=an(n,e).stateAfter;if(o&&(!(o instanceof Pl)||e+o.lookAhead<l)){t=e+1;break}}n.highlightFrontier=Math.min(n.highlightFrontier,t)}}(e,i.line),lo(n,400);var s=l.text.length-(r.line-i.line)-1;l.full?Xe(n):i.line!=r.line||1!=l.text.length||Mo(n.doc,l)?Xe(n,i.line,r.line+1,s):Ze(n,i.line,"text");var c=ul(n,"changes"),d=ul(n,"change");if(d||c){var p={from:i,to:r,text:l.text,removed:l.removed,origin:l.origin};d&&ut(n,"change",n,p),c&&(n.curOp.changeObjs||(n.curOp.changeObjs=[])).push(p)}n.display.selForContextMenu=null}(n.cm,l,e):Ro(n,l,e),Go(n,t,U)}}function ui(n,l,t,e,o){var i;e||(e=t),mn(e,t)<0&&(t=(i=[e,t])[0],e=i[1]),"string"==typeof l&&(l=n.splitLines(l)),ti(n,{from:t,to:e,text:l,origin:o})}function ai(n,l,t,e){t<n.line?n.line+=e:l<n.line&&(n.line=l,n.ch=0)}function si(n,l,t,e){for(var o=0;o<n.length;++o){var i=n[o],r=!0;if(i.ranges){i.copied||((i=n[o]=i.deepCopy()).copied=!0);for(var u=0;u<i.ranges.length;u++)ai(i.ranges[u].anchor,l,t,e),ai(i.ranges[u].head,l,t,e)}else{for(var a=0;a<i.changes.length;++a){var s=i.changes[a];if(t<s.from.line)s.from=vn(s.from.line+e,s.from.ch),s.to=vn(s.to.line+e,s.to.ch);else if(l<=s.to.line){r=!1;break}}r||(n.splice(0,o+1),o=0)}}}function ci(n,l){var t=l.from.line,e=l.to.line,o=l.text.length-(e-t)-1;si(n.done,t,e,o),si(n.undone,t,e,o)}function di(n,l,t,e){var o=l,i=l;return"number"==typeof l?i=an(n,wn(n,l)):o=pn(l),null==o?null:(e(i,o)&&n.cm&&Ze(n.cm,o,t),i)}function pi(n){this.lines=n,this.parent=null;for(var l=0,t=0;t<n.length;++t)n[t].parent=this,l+=n[t].height;this.height=l}function hi(n){this.children=n;for(var l=0,t=0,e=0;e<n.length;++e){var o=n[e];l+=o.chunkSize(),t+=o.height,o.parent=this}this.size=l,this.height=t,this.parent=null}mo.prototype.from=function(){return xn(this.anchor,this.head)},mo.prototype.to=function(){return Cn(this.anchor,this.head)},mo.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},pi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(n,l){for(var t=n,e=n+l;t<e;++t){var o=this.lines[t];this.height-=o.height,Gl(o),ut(o,"delete")}this.lines.splice(n,l)},collapse:function(n){n.push.apply(n,this.lines)},insertInner:function(n,l,t){this.height+=t,this.lines=this.lines.slice(0,n).concat(l).concat(this.lines.slice(n));for(var e=0;e<l.length;++e)l[e].parent=this},iterN:function(n,l,t){for(var e=n+l;n<e;++n)if(t(this.lines[n]))return!0}},hi.prototype={chunkSize:function(){return this.size},removeInner:function(n,l){this.size-=l;for(var t=0;t<this.children.length;++t){var e=this.children[t],o=e.chunkSize();if(n<o){var i=Math.min(l,o-n),r=e.height;if(e.removeInner(n,i),this.height-=r-e.height,o==i&&(this.children.splice(t--,1),e.parent=null),0==(l-=i))break;n=0}else n-=o}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof pi))){var u=[];this.collapse(u),this.children=[new pi(u)],this.children[0].parent=this}},collapse:function(n){for(var l=0;l<this.children.length;++l)this.children[l].collapse(n)},insertInner:function(n,l,t){this.size+=l.length,this.height+=t;for(var e=0;e<this.children.length;++e){var o=this.children[e],i=o.chunkSize();if(n<=i){if(o.insertInner(n,l,t),o.lines&&o.lines.length>50){for(var r=o.lines.length%25+25,u=r;u<o.lines.length;){var a=new pi(o.lines.slice(u,u+=25));o.height-=a.height,this.children.splice(++e,0,a),a.parent=this}o.lines=o.lines.slice(0,r),this.maybeSpill()}break}n-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var n=this;do{var l=new hi(n.children.splice(n.children.length-5,5));if(n.parent){n.size-=l.size,n.height-=l.height;var t=z(n.parent.children,n);n.parent.children.splice(t+1,0,l)}else{var e=new hi(n.children);e.parent=n,n.children=[e,l],n=e}l.parent=n.parent}while(n.children.length>10);n.parent.maybeSpill()}},iterN:function(n,l,t){for(var e=0;e<this.children.length;++e){var o=this.children[e],i=o.chunkSize();if(n<i){var r=Math.min(l,i-n);if(o.iterN(n,r,t))return!0;if(0==(l-=r))break;n=0}else n-=i}}};var fi=function(n,l,t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.doc=n,this.node=l};function gi(n,l,t){Gn(l)<(n.curOp&&n.curOp.scrollTop||n.doc.scrollTop)&&Se(n,t)}fi.prototype.clear=function(){var n=this.doc.cm,l=this.line.widgets,t=this.line,e=pn(t);if(null!=e&&l){for(var o=0;o<l.length;++o)l[o]==this&&l.splice(o--,1);l.length||(t.widgets=null);var i=Ct(this);dn(t,Math.max(0,t.height-i)),n&&(Ke(n,function(){gi(n,t,-i),Ze(n,e,"widget")}),ut(n,"lineWidgetCleared",n,this,e))}},fi.prototype.changed=function(){var n=this,l=this.height,t=this.doc.cm,e=this.line;this.height=null;var o=Ct(this)-l;o&&(dn(e,e.height+o),t&&Ke(t,function(){t.curOp.forceUpdate=!0,gi(t,e,o),ut(t,"lineWidgetChanged",t,n,pn(e))}))},al(fi);var vi=0,mi=function(n,l){this.lines=[],this.type=l,this.doc=n,this.id=++vi};function bi(n,l,t,e,o){if(e&&e.shared)return function(n,l,t,e,o){(e=F(e)).shared=!1;var i=[bi(n,l,t,e,o)],r=i[0],u=e.widgetNode;return Lo(n,function(n){u&&(e.widgetNode=u.cloneNode(!0)),i.push(bi(n,kn(n,l),kn(n,t),e,o));for(var a=0;a<n.linked.length;++a)if(n.linked[a].isParent)return;r=q(i)}),new yi(i,r)}(n,l,t,e,o);if(n.cm&&!n.cm.curOp)return Ge(n.cm,bi)(n,l,t,e,o);var i=new mi(n,o),r=mn(l,t);if(e&&F(e,i,!1),r>0||0==r&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=N("span",[i.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Bn(n,l.line,l,t,i)||l.line!=t.line&&Bn(n,t.line,l,t,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Mn=!0}i.addToHistory&&Po(n,{from:l,to:t,origin:"markText"},n.sel,NaN);var u,a=l.line,s=n.cm;if(n.iter(a,t.line+1,function(n){s&&i.collapsed&&!s.options.lineWrapping&&Wn(n)==s.display.maxLine&&(u=!0),i.collapsed&&a!=l.line&&dn(n,0),function(n,l){n.markedSpans=n.markedSpans?n.markedSpans.concat([l]):[l],l.marker.attachLine(n)}(n,new Rn(i,a==l.line?l.ch:null,a==t.line?t.ch:null)),++a}),i.collapsed&&n.iter(l.line,t.line+1,function(l){jn(n,l)&&dn(l,0)}),i.clearOnEnter&&ll(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(Tn=!0,(n.history.done.length||n.history.undone.length)&&n.clearHistory()),i.collapsed&&(i.id=++vi,i.atomic=!0),s){if(u&&(s.curOp.updateMaxLine=!0),i.collapsed)Xe(s,l.line,t.line+1);else if(i.className||i.title||i.startStyle||i.endStyle||i.css)for(var c=l.line;c<=t.line;c++)Ze(s,c,"text");i.atomic&&qo(s.doc),ut(s,"markerAdded",s,i)}return i}mi.prototype.clear=function(){if(!this.explicitlyCleared){var n=this.doc.cm,l=n&&!n.curOp;if(l&&ze(n),ul(this,"clear")){var t=this.find();t&&ut(this,"clear",t.from,t.to)}for(var e=null,o=null,i=0;i<this.lines.length;++i){var r=this.lines[i],u=Ln(r.markedSpans,this);n&&!this.collapsed?Ze(n,pn(r),"text"):n&&(null!=u.to&&(o=pn(r)),null!=u.from&&(e=pn(r))),r.markedSpans=In(r.markedSpans,u),null==u.from&&this.collapsed&&!jn(this.doc,r)&&n&&dn(r,ne(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var s=Wn(this.lines[a]),c=Yn(s);c>n.display.maxLineLength&&(n.display.maxLine=s,n.display.maxLineLength=c,n.display.maxLineChanged=!0)}null!=e&&n&&this.collapsed&&Xe(n,e,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&qo(n.doc)),n&&ut(n,"markerCleared",n,this,e,o),l&&Be(n),this.parent&&this.parent.clear()}},mi.prototype.find=function(n,l){var t,e;null==n&&"bookmark"==this.type&&(n=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],r=Ln(i.markedSpans,this);if(null!=r.from&&(t=vn(l?i:pn(i),r.from),-1==n))return t;if(null!=r.to&&(e=vn(l?i:pn(i),r.to),1==n))return e}return t&&{from:t,to:e}},mi.prototype.changed=function(){var n=this,l=this.find(-1,!0),t=this,e=this.doc.cm;l&&e&&Ke(e,function(){var o=l.line,i=pn(l.line),r=Nt(e,i);if(r&&(Ft(r),e.curOp.selectionChanged=e.curOp.forceUpdate=!0),e.curOp.updateMaxLine=!0,!jn(t.doc,o)&&null!=t.height){var u=t.height;t.height=null;var a=Ct(t)-u;a&&dn(o,o.height+a)}ut(e,"markerChanged",e,n)})},mi.prototype.attachLine=function(n){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;l.maybeHiddenMarkers&&-1!=z(l.maybeHiddenMarkers,this)||(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(n)},mi.prototype.detachLine=function(n){if(this.lines.splice(z(this.lines,n),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},al(mi);var yi=function(n,l){this.markers=n,this.primary=l;for(var t=0;t<n.length;++t)n[t].parent=this};function Ci(n){return n.findMarks(vn(n.first,0),n.clipPos(vn(n.lastLine())),function(n){return n.parent})}function xi(n){for(var l=function(l){var t=n[l],e=[t.primary.doc];Lo(t.primary.doc,function(n){return e.push(n)});for(var o=0;o<t.markers.length;o++){var i=t.markers[o];-1==z(e,i.doc)&&(i.parent=null,t.markers.splice(o--,1))}},t=0;t<n.length;t++)l(t)}yi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)this.markers[n].clear();ut(this,"clear")}},yi.prototype.find=function(n,l){return this.primary.find(n,l)},al(yi);var wi=0,ki=function(n,l,t,e,o){if(!(this instanceof ki))return new ki(n,l,t,e,o);null==t&&(t=0),hi.call(this,[new pi([new Kl("",null)])]),this.first=t,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=t;var i=vn(t,0);this.sel=yo(i),this.history=new Eo(null),this.id=++wi,this.modeOption=l,this.lineSep=e,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof n&&(n=this.splitLines(n)),Ro(this,{from:i,to:i,text:n}),Ko(this,yo(i),U)};ki.prototype=J(hi.prototype,{constructor:ki,iter:function(n,l,t){t?this.iterN(n-this.first,l-n,t):this.iterN(this.first,this.first+this.size,n)},insert:function(n,l){for(var t=0,e=0;e<l.length;++e)t+=l[e].height;this.insertInner(n-this.first,l,t)},remove:function(n,l){this.removeInner(n-this.first,l)},getValue:function(n){var l=cn(this,this.first,this.first+this.size);return!1===n?l:l.join(n||this.lineSeparator())},setValue:qe(function(n){var l=vn(this.first,0),t=this.first+this.size-1;ti(this,{from:l,to:vn(t,an(this,t).text.length),text:this.splitLines(n),origin:"setValue",full:!0},!0),this.cm&&Me(this.cm,0,0),Ko(this,yo(l),U)}),replaceRange:function(n,l,t,e){ui(this,n,l=kn(this,l),t=t?kn(this,t):l,e)},getRange:function(n,l,t){var e=sn(this,kn(this,n),kn(this,l));return!1===t?e:e.join(t||this.lineSeparator())},getLine:function(n){var l=this.getLineHandle(n);return l&&l.text},getLineHandle:function(n){if(fn(this,n))return an(this,n)},getLineNumber:function(n){return pn(n)},getLineHandleVisualStart:function(n){return"number"==typeof n&&(n=an(this,n)),Wn(n)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(n){return kn(this,n)},getCursor:function(n){var l=this.sel.primary();return null==n||"head"==n?l.head:"anchor"==n?l.anchor:"end"==n||"to"==n||!1===n?l.to():l.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qe(function(n,l,t){Vo(this,kn(this,"number"==typeof n?vn(n,l||0):n),null,t)}),setSelection:qe(function(n,l,t){Vo(this,kn(this,n),kn(this,l||n),t)}),extendSelection:qe(function(n,l,t){Bo(this,kn(this,n),l&&kn(this,l),t)}),extendSelections:qe(function(n,l){Wo(this,Sn(this,n),l)}),extendSelectionsBy:qe(function(n,l){Wo(this,Sn(this,X(this.sel.ranges,n)),l)}),setSelections:qe(function(n,l,t){if(n.length){for(var e=[],o=0;o<n.length;o++)e[o]=new mo(kn(this,n[o].anchor),kn(this,n[o].head));null==l&&(l=Math.min(n.length-1,this.sel.primIndex)),Ko(this,bo(e,l),t)}}),addSelection:qe(function(n,l,t){var e=this.sel.ranges.slice(0);e.push(new mo(kn(this,n),kn(this,l||n))),Ko(this,bo(e,e.length-1),t)}),getSelection:function(n){for(var l,t=this.sel.ranges,e=0;e<t.length;e++){var o=sn(this,t[e].from(),t[e].to());l=l?l.concat(o):o}return!1===n?l:l.join(n||this.lineSeparator())},getSelections:function(n){for(var l=[],t=this.sel.ranges,e=0;e<t.length;e++){var o=sn(this,t[e].from(),t[e].to());!1!==n&&(o=o.join(n||this.lineSeparator())),l[e]=o}return l},replaceSelection:function(n,l,t){for(var e=[],o=0;o<this.sel.ranges.length;o++)e[o]=n;this.replaceSelections(e,l,t||"+input")},replaceSelections:qe(function(n,l,t){for(var e=[],o=this.sel,i=0;i<o.ranges.length;i++){var r=o.ranges[i];e[i]={from:r.from(),to:r.to(),text:this.splitLines(n[i]),origin:t}}for(var u=l&&"end"!=l&&function(n,l,t){for(var e=[],o=vn(n.first,0),i=o,r=0;r<l.length;r++){var u=l[r],a=ko(u.from,o,i),s=ko(Co(u),o,i);if(o=u.to,i=s,"around"==t){var c=n.sel.ranges[r],d=mn(c.head,c.anchor)<0;e[r]=new mo(d?s:a,d?a:s)}else e[r]=new mo(a,a)}return new vo(e,n.sel.primIndex)}(this,e,l),a=e.length-1;a>=0;a--)ti(this,e[a]);u?jo(this,u):this.cm&&Te(this.cm)}),undo:qe(function(){oi(this,"undo")}),redo:qe(function(){oi(this,"redo")}),undoSelection:qe(function(){oi(this,"undo",!0)}),redoSelection:qe(function(){oi(this,"redo",!0)}),setExtending:function(n){this.extend=n},getExtending:function(){return this.extend},historySize:function(){for(var n=this.history,l=0,t=0,e=0;e<n.done.length;e++)n.done[e].ranges||++l;for(var o=0;o<n.undone.length;o++)n.undone[o].ranges||++t;return{undo:l,redo:t}},clearHistory:function(){this.history=new Eo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(n){return n&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(n){return this.history.generation==(n||this.cleanGeneration)},getHistory:function(){return{done:_o(this.history.done),undone:_o(this.history.undone)}},setHistory:function(n){var l=this.history=new Eo(this.history.maxGeneration);l.done=_o(n.done.slice(0),null,!0),l.undone=_o(n.undone.slice(0),null,!0)},setGutterMarker:qe(function(n,l,t){return di(this,n,"gutter",function(n){var e=n.gutterMarkers||(n.gutterMarkers={});return e[l]=t,!t&&tn(e)&&(n.gutterMarkers=null),!0})}),clearGutter:qe(function(n){var l=this;this.iter(function(t){t.gutterMarkers&&t.gutterMarkers[n]&&di(l,t,"gutter",function(){return t.gutterMarkers[n]=null,tn(t.gutterMarkers)&&(t.gutterMarkers=null),!0})})}),lineInfo:function(n){var l;if("number"==typeof n){if(!fn(this,n))return null;if(l=n,!(n=an(this,n)))return null}else if(null==(l=pn(n)))return null;return{line:l,handle:n,text:n.text,gutterMarkers:n.gutterMarkers,textClass:n.textClass,bgClass:n.bgClass,wrapClass:n.wrapClass,widgets:n.widgets}},addLineClass:qe(function(n,l,t){return di(this,n,"gutter"==l?"gutter":"class",function(n){var e="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass";if(n[e]){if(S(t).test(n[e]))return!1;n[e]+=" "+t}else n[e]=t;return!0})}),removeLineClass:qe(function(n,l,t){return di(this,n,"gutter"==l?"gutter":"class",function(n){var e="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass",o=n[e];if(!o)return!1;if(null==t)n[e]=null;else{var i=o.match(S(t));if(!i)return!1;var r=i.index+i[0].length;n[e]=o.slice(0,i.index)+(i.index&&r!=o.length?" ":"")+o.slice(r)||null}return!0})}),addLineWidget:qe(function(n,l,t){return function(n,l,t,e){var o=new fi(n,t,e),i=n.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),di(n,l,"widget",function(l){var t=l.widgets||(l.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=l,i&&!jn(n,l)){var e=Gn(l)<n.scrollTop;dn(l,l.height+Ct(o)),e&&Se(i,o.height),i.curOp.forceUpdate=!0}return!0}),i&&ut(i,"lineWidgetAdded",i,o,"number"==typeof l?l:pn(l)),o}(this,n,l,t)}),removeLineWidget:function(n){n.clear()},markText:function(n,l,t){return bi(this,kn(this,n),kn(this,l),t,t&&t.type||"range")},setBookmark:function(n,l){var t={replacedWith:l&&(null==l.nodeType?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return bi(this,n=kn(this,n),n,t,"bookmark")},findMarksAt:function(n){var l=[],t=an(this,(n=kn(this,n)).line).markedSpans;if(t)for(var e=0;e<t.length;++e){var o=t[e];(null==o.from||o.from<=n.ch)&&(null==o.to||o.to>=n.ch)&&l.push(o.marker.parent||o.marker)}return l},findMarks:function(n,l,t){n=kn(this,n),l=kn(this,l);var e=[],o=n.line;return this.iter(n.line,l.line+1,function(i){var r=i.markedSpans;if(r)for(var u=0;u<r.length;u++){var a=r[u];null!=a.to&&o==n.line&&n.ch>=a.to||null==a.from&&o!=n.line||null!=a.from&&o==l.line&&a.from>=l.ch||t&&!t(a.marker)||e.push(a.marker.parent||a.marker)}++o}),e},getAllMarks:function(){var n=[];return this.iter(function(l){var t=l.markedSpans;if(t)for(var e=0;e<t.length;++e)null!=t[e].from&&n.push(t[e].marker)}),n},posFromIndex:function(n){var l,t=this.first,e=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+e;if(i>n)return l=n,!0;n-=i,++t}),kn(this,vn(t,l))},indexFromPos:function(n){var l=(n=kn(this,n)).ch;if(n.line<this.first||n.ch<0)return 0;var t=this.lineSeparator().length;return this.iter(this.first,n.line,function(n){l+=n.text.length+t}),l},copy:function(n){var l=new ki(cn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,n&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(n){n||(n={});var l=this.first,t=this.first+this.size;null!=n.from&&n.from>l&&(l=n.from),null!=n.to&&n.to<t&&(t=n.to);var e=new ki(cn(this,l,t),n.mode||this.modeOption,l,this.lineSep,this.direction);return n.sharedHist&&(e.history=this.history),(this.linked||(this.linked=[])).push({doc:e,sharedHist:n.sharedHist}),e.linked=[{doc:this,isParent:!0,sharedHist:n.sharedHist}],function(n,l){for(var t=0;t<l.length;t++){var e=l[t],o=e.find(),i=n.clipPos(o.from),r=n.clipPos(o.to);if(mn(i,r)){var u=bi(n,i,r,e.primary,e.primary.type);e.markers.push(u),u.parent=e}}}(e,Ci(this)),e},unlinkDoc:function(n){if(n instanceof br&&(n=n.doc),this.linked)for(var l=0;l<this.linked.length;++l)if(this.linked[l].doc==n){this.linked.splice(l,1),n.unlinkDoc(this),xi(Ci(this));break}if(n.history==this.history){var t=[n.id];Lo(n,function(n){return t.push(n.id)},!0),n.history=new Eo(null),n.history.done=_o(this.history.done,t),n.history.undone=_o(this.history.undone,t)}},iterLinkedDocs:function(n){Lo(this,n)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(n){return this.lineSep?n.split(this.lineSep):xl(n)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:qe(function(n){var l;"rtl"!=n&&(n="ltr"),n!=this.direction&&(this.direction=n,this.iter(function(n){return n.order=null}),this.cm&&Ke(l=this.cm,function(){No(l),Xe(l)}))})}),ki.prototype.eachLine=ki.prototype.iter;var Si=0;function Ti(n){var l=this;if(Mi(l),!il(l,n)&&!xt(l.display,n)){sl(n),r&&(Si=+new Date);var t=re(l,n,!0),e=n.dataTransfer.files;if(t&&!l.isReadOnly())if(e&&e.length&&window.FileReader&&window.File)for(var o=e.length,i=Array(o),u=0,a=function(n,e){if(!l.options.allowDropFileTypes||-1!=z(l.options.allowDropFileTypes,n.type)){var r=new FileReader;r.onload=Ge(l,function(){var n=r.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(n)&&(n=""),i[e]=n,++u==o){var a={from:t=kn(l.doc,t),to:t,text:l.doc.splitLines(i.join(l.doc.lineSeparator())),origin:"paste"};ti(l.doc,a),jo(l.doc,yo(t,Co(a)))}}),r.readAsText(n)}},s=0;s<o;++s)a(e[s],s);else{if(l.state.draggingText&&l.doc.sel.contains(t)>-1)return l.state.draggingText(n),void setTimeout(function(){return l.display.input.focus()},20);try{var c=n.dataTransfer.getData("Text");if(c){var d;if(l.state.draggingText&&!l.state.draggingText.copy&&(d=l.listSelections()),Go(l.doc,yo(t,t)),d)for(var p=0;p<d.length;++p)ui(l.doc,"",d[p].anchor,d[p].head,"drag");l.replaceSelection(c,"around","paste"),l.display.input.focus()}}catch(n){}}}}function Mi(n){n.display.dragCursor&&(n.display.lineSpace.removeChild(n.display.dragCursor),n.display.dragCursor=null)}function Ri(n){if(document.getElementsByClassName)for(var l=document.getElementsByClassName("CodeMirror"),t=0;t<l.length;t++){var e=l[t].CodeMirror;e&&n(e)}}var Li=!1;function Ii(n){var l=n.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,n.setSize()}for(var Ni={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ei=0;Ei<10;Ei++)Ni[Ei+48]=Ni[Ei+96]=String(Ei);for(var Di=65;Di<=90;Di++)Ni[Di]=String.fromCharCode(Di);for(var Ai=1;Ai<=12;Ai++)Ni[Ai+111]=Ni[Ai+63235]="F"+Ai;var Pi={};function $i(n){var l,t,e,o,i=n.split(/-(?!$)/);n=i[i.length-1];for(var r=0;r<i.length-1;r++){var u=i[r];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))l=!0;else if(/^(c|ctrl|control)$/i.test(u))t=!0;else{if(!/^s(hift)?$/i.test(u))throw new Error("Unrecognized modifier name: "+u);e=!0}}return l&&(n="Alt-"+n),t&&(n="Ctrl-"+n),o&&(n="Cmd-"+n),e&&(n="Shift-"+n),n}function Oi(n,l,t,e){var o=(l=zi(l)).call?l.call(n,e):l[n];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&t(o))return"handled";if(l.fallthrough){if("[object Array]"!=Object.prototype.toString.call(l.fallthrough))return Oi(n,l.fallthrough,t,e);for(var i=0;i<l.fallthrough.length;i++){var r=Oi(n,l.fallthrough[i],t,e);if(r)return r}}}function Fi(n){var l="string"==typeof n?n:Ni[n.keyCode];return"Ctrl"==l||"Alt"==l||"Shift"==l||"Mod"==l}function Hi(n,l,t){var e=n;return l.altKey&&"Alt"!=e&&(n="Alt-"+n),(w?l.metaKey:l.ctrlKey)&&"Ctrl"!=e&&(n="Ctrl-"+n),(w?l.ctrlKey:l.metaKey)&&"Cmd"!=e&&(n="Cmd-"+n),!t&&l.shiftKey&&"Shift"!=e&&(n="Shift-"+n),n}function _i(n,l){if(d&&34==n.keyCode&&n.char)return!1;var t=Ni[n.keyCode];return null!=t&&!n.altGraphKey&&(3==n.keyCode&&n.code&&(t=n.code),Hi(t,n,l))}function zi(n){return"string"==typeof n?Pi[n]:n}function Bi(n,l){for(var t=n.doc.sel.ranges,e=[],o=0;o<t.length;o++){for(var i=l(t[o]);e.length&&mn(i.from,q(e).to)<=0;){var r=e.pop();if(mn(r.from,i.from)<0){i.from=r.from;break}}e.push(i)}Ke(n,function(){for(var l=e.length-1;l>=0;l--)ui(n.doc,"",e[l].from,e[l].to,"+delete");Te(n)})}function Wi(n,l,t){var e=rn(n.text,l+t,t);return e<0||e>n.text.length?null:e}function Ui(n,l,t){var e=Wi(n,l.ch,t);return null==e?null:new vn(l.line,e,t<0?"after":"before")}function Vi(n,l,t,e,o){if(n){var i=Qn(t,l.doc.direction);if(i){var r,u=o<0?q(i):i[0],a=o<0==(1==u.level)?"after":"before";if(u.level>0||"rtl"==l.doc.direction){var s=Et(l,t),c=Dt(l,s,r=o<0?t.text.length-1:0).top;r=un(function(n){return Dt(l,s,n).top==c},o<0==(1==u.level)?u.from:u.to-1,r),"before"==a&&(r=Wi(t,r,1))}else r=o<0?u.to:u.from;return new vn(e,r,a)}}return new vn(e,o<0?t.text.length:0,o<0?"before":"after")}Pi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pi.default=b?Pi.macDefault:Pi.pcDefault;var ji={selectAll:ni,singleSelection:function(n){return n.setSelection(n.getCursor("anchor"),n.getCursor("head"),U)},killLine:function(n){return Bi(n,function(l){if(l.empty()){var t=an(n.doc,l.head.line).text.length;return l.head.ch==t&&l.head.line<n.lastLine()?{from:l.head,to:vn(l.head.line+1,0)}:{from:l.head,to:vn(l.head.line,t)}}return{from:l.from(),to:l.to()}})},deleteLine:function(n){return Bi(n,function(l){return{from:vn(l.from().line,0),to:kn(n.doc,vn(l.to().line+1,0))}})},delLineLeft:function(n){return Bi(n,function(n){return{from:vn(n.from().line,0),to:n.from()}})},delWrappedLineLeft:function(n){return Bi(n,function(l){var t=n.charCoords(l.head,"div").top+5;return{from:n.coordsChar({left:0,top:t},"div"),to:l.from()}})},delWrappedLineRight:function(n){return Bi(n,function(l){var t=n.charCoords(l.head,"div").top+5,e=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div");return{from:l.from(),to:e}})},undo:function(n){return n.undo()},redo:function(n){return n.redo()},undoSelection:function(n){return n.undoSelection()},redoSelection:function(n){return n.redoSelection()},goDocStart:function(n){return n.extendSelection(vn(n.firstLine(),0))},goDocEnd:function(n){return n.extendSelection(vn(n.lastLine()))},goLineStart:function(n){return n.extendSelectionsBy(function(l){return Ki(n,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(n){return n.extendSelectionsBy(function(l){return Gi(n,l.head)},{origin:"+move",bias:1})},goLineEnd:function(n){return n.extendSelectionsBy(function(l){return function(n,l){var t=an(n.doc,l),e=function(n){for(var l;l=_n(n);)n=l.find(1,!0).line;return n}(t);return e!=t&&(l=pn(e)),Vi(!0,n,t,l,-1)}(n,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){return n.extendSelectionsBy(function(l){var t=n.cursorCoords(l.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div")},j)},goLineLeft:function(n){return n.extendSelectionsBy(function(l){var t=n.cursorCoords(l.head,"div").top+5;return n.coordsChar({left:0,top:t},"div")},j)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(l){var t=n.cursorCoords(l.head,"div").top+5,e=n.coordsChar({left:0,top:t},"div");return e.ch<n.getLine(e.line).search(/\S/)?Gi(n,l.head):e},j)},goLineUp:function(n){return n.moveV(-1,"line")},goLineDown:function(n){return n.moveV(1,"line")},goPageUp:function(n){return n.moveV(-1,"page")},goPageDown:function(n){return n.moveV(1,"page")},goCharLeft:function(n){return n.moveH(-1,"char")},goCharRight:function(n){return n.moveH(1,"char")},goColumnLeft:function(n){return n.moveH(-1,"column")},goColumnRight:function(n){return n.moveH(1,"column")},goWordLeft:function(n){return n.moveH(-1,"word")},goGroupRight:function(n){return n.moveH(1,"group")},goGroupLeft:function(n){return n.moveH(-1,"group")},goWordRight:function(n){return n.moveH(1,"word")},delCharBefore:function(n){return n.deleteH(-1,"char")},delCharAfter:function(n){return n.deleteH(1,"char")},delWordBefore:function(n){return n.deleteH(-1,"word")},delWordAfter:function(n){return n.deleteH(1,"word")},delGroupBefore:function(n){return n.deleteH(-1,"group")},delGroupAfter:function(n){return n.deleteH(1,"group")},indentAuto:function(n){return n.indentSelection("smart")},indentMore:function(n){return n.indentSelection("add")},indentLess:function(n){return n.indentSelection("subtract")},insertTab:function(n){return n.replaceSelection("\t")},insertSoftTab:function(n){for(var l=[],t=n.listSelections(),e=n.options.tabSize,o=0;o<t.length;o++){var i=t[o].from(),r=H(n.getLine(i.line),i.ch,e);l.push(Y(e-r%e))}n.replaceSelections(l)},defaultTab:function(n){n.somethingSelected()?n.indentSelection("add"):n.execCommand("insertTab")},transposeChars:function(n){return Ke(n,function(){for(var l=n.listSelections(),t=[],e=0;e<l.length;e++)if(l[e].empty()){var o=l[e].head,i=an(n.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new vn(o.line,o.ch-1)),o.ch>0)o=new vn(o.line,o.ch+1),n.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),vn(o.line,o.ch-2),o,"+transpose");else if(o.line>n.doc.first){var r=an(n.doc,o.line-1).text;r&&(o=new vn(o.line,1),n.replaceRange(i.charAt(0)+n.doc.lineSeparator()+r.charAt(r.length-1),vn(o.line-1,r.length-1),o,"+transpose"))}t.push(new mo(o,o))}n.setSelections(t)})},newlineAndIndent:function(n){return Ke(n,function(){for(var l=n.listSelections(),t=l.length-1;t>=0;t--)n.replaceRange(n.doc.lineSeparator(),l[t].anchor,l[t].head,"+input");l=n.listSelections();for(var e=0;e<l.length;e++)n.indentLine(l[e].from().line,null,!0);Te(n)})},openLine:function(n){return n.replaceSelection("\n","start")},toggleOverwrite:function(n){return n.toggleOverwrite()}};function Ki(n,l){var t=an(n.doc,l),e=Wn(t);return e!=t&&(l=pn(e)),Vi(!0,n,e,l,1)}function Gi(n,l){var t=Ki(n,l.line),e=an(n.doc,t.line),o=Qn(e,n.doc.direction);if(!o||0==o[0].level){var i=Math.max(0,e.text.search(/\S/));return vn(t.line,l.line==t.line&&l.ch<=i&&l.ch?0:i,t.sticky)}return t}function Yi(n,l,t){if("string"==typeof l&&!(l=ji[l]))return!1;n.display.input.ensurePolled();var e=n.display.shift,o=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),t&&(n.display.shift=!1),o=l(n)!=W}finally{n.display.shift=e,n.state.suppressEdits=!1}return o}var qi=new _;function Xi(n,l,t,e){var o=n.state.keySeq;if(o){if(Fi(l))return"handled";if(/\'$/.test(l)?n.state.keySeq=null:qi.set(50,function(){n.state.keySeq==o&&(n.state.keySeq=null,n.display.input.reset())}),Zi(n,o+" "+l,t,e))return!0}return Zi(n,l,t,e)}function Zi(n,l,t,e){var o=function(n,l,t){for(var e=0;e<n.state.keyMaps.length;e++){var o=Oi(l,n.state.keyMaps[e],t,n);if(o)return o}return n.options.extraKeys&&Oi(l,n.options.extraKeys,t,n)||Oi(l,n.options.keyMap,t,n)}(n,l,e);return"multi"==o&&(n.state.keySeq=l),"handled"==o&&ut(n,"keyHandled",n,l,t),"handled"!=o&&"multi"!=o||(sl(t),he(n)),!!o}function Ji(n,l){var t=_i(l,!0);return!!t&&(l.shiftKey&&!n.state.keySeq?Xi(n,"Shift-"+t,l,function(l){return Yi(n,l,!0)})||Xi(n,t,l,function(l){if("string"==typeof l?/^go[A-Z]/.test(l):l.motion)return Yi(n,l)}):Xi(n,t,l,function(l){return Yi(n,l)}))}var Qi=null;function nr(n){var l=this;if(l.curOp.focus=D(),!il(l,n)){r&&u<11&&27==n.keyCode&&(n.returnValue=!1);var t=n.keyCode;l.display.shift=16==t||n.shiftKey;var e=Ji(l,n);d&&(Qi=e?t:null,!e&&88==t&&!kl&&(b?n.metaKey:n.ctrlKey)&&l.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)||function(n){var l=n.display.lineDiv;function t(n){18!=n.keyCode&&n.altKey||(M(l,"CodeMirror-crosshair"),el(document,"keyup",t),el(document,"mouseover",t))}A(l,"CodeMirror-crosshair"),ll(document,"keyup",t),ll(document,"mouseover",t)}(l)}}function lr(n){16==n.keyCode&&(this.doc.sel.shift=!1),il(this,n)}function tr(n){var l=this;if(!(xt(l.display,n)||il(l,n)||n.ctrlKey&&!n.altKey||b&&n.metaKey)){var t=n.keyCode,e=n.charCode;if(d&&t==Qi)return Qi=null,void sl(n);if(!d||n.which&&!(n.which<10)||!Ji(l,n)){var o=String.fromCharCode(null==e?t:e);"\b"!=o&&(function(n,l,t){return Xi(n,"'"+t+"'",l,function(l){return Yi(n,l,!0)})}(l,n,o)||l.display.input.onKeyPress(n))}}}var er,or,ir=function(n,l,t){this.time=n,this.pos=l,this.button=t};function rr(n){var l=this,t=l.display;if(!(il(l,n)||t.activeTouch&&t.input.supportsTouch()))if(t.input.ensurePolled(),t.shift=n.shiftKey,xt(t,n))a||(t.scroller.draggable=!1,setTimeout(function(){return t.scroller.draggable=!0},100));else if(!sr(l,n)){var e=re(l,n),o=fl(n),i=e?function(n,l){var t=+new Date;return or&&or.compare(t,n,l)?(er=or=null,"triple"):er&&er.compare(t,n,l)?(or=new ir(t,n,l),er=null,"double"):(er=new ir(t,n,l),or=null,"single")}(e,o):"single";window.focus(),1==o&&l.state.selectingText&&l.state.selectingText(n),e&&function(n,l,t,e,o){var i="Click";return"double"==e?i="Double"+i:"triple"==e&&(i="Triple"+i),Xi(n,Hi(i=(1==l?"Left":2==l?"Middle":"Right")+i,o),o,function(l){if("string"==typeof l&&(l=ji[l]),!l)return!1;var e=!1;try{n.isReadOnly()&&(n.state.suppressEdits=!0),e=l(n,t)!=W}finally{n.state.suppressEdits=!1}return e})}(l,o,e,i,n)||(1==o?e?function(n,l,t,e){r?setTimeout(O(fe,n),0):n.curOp.focus=D();var o,i=function(n,l,t){var e=n.getOption("configureMouse"),o=e?e(n,l,t):{};return null==o.unit&&(o.unit=(y?t.shiftKey&&t.metaKey:t.altKey)?"rectangle":"single"==l?"char":"double"==l?"word":"line"),(null==o.extend||n.doc.extend)&&(o.extend=n.doc.extend||t.shiftKey),null==o.addNew&&(o.addNew=b?t.metaKey:t.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(b?t.altKey:t.ctrlKey)),o}(n,t,e),s=n.doc.sel;n.options.dragDrop&&ml&&!n.isReadOnly()&&"single"==t&&(o=s.contains(l))>-1&&(mn((o=s.ranges[o]).from(),l)<0||l.xRel>0)&&(mn(o.to(),l)>0||l.xRel<0)?function(n,l,t,e){var o=n.display,i=!1,s=Ge(n,function(l){a&&(o.scroller.draggable=!1),n.state.draggingText=!1,el(o.wrapper.ownerDocument,"mouseup",s),el(o.wrapper.ownerDocument,"mousemove",c),el(o.scroller,"dragstart",d),el(o.scroller,"drop",s),i||(sl(l),e.addNew||Bo(n.doc,t,null,null,e.extend),a||r&&9==u?setTimeout(function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()},20):o.input.focus())}),c=function(n){i=i||Math.abs(l.clientX-n.clientX)+Math.abs(l.clientY-n.clientY)>=10},d=function(){return i=!0};a&&(o.scroller.draggable=!0),n.state.draggingText=s,s.copy=!e.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),ll(o.wrapper.ownerDocument,"mouseup",s),ll(o.wrapper.ownerDocument,"mousemove",c),ll(o.scroller,"dragstart",d),ll(o.scroller,"drop",s),ge(n),setTimeout(function(){return o.input.focus()},20)}(n,e,l,i):function(n,l,t,e){var o=n.display,i=n.doc;sl(l);var r,u,a=i.sel,s=a.ranges;if(e.addNew&&!e.extend?(u=i.sel.contains(t),r=u>-1?s[u]:new mo(t,t)):(r=i.sel.primary(),u=i.sel.primIndex),"rectangle"==e.unit)e.addNew||(r=new mo(t,t)),t=re(n,l,!0,!0),u=-1;else{var c=ur(n,t,e.unit);r=e.extend?zo(r,c.anchor,c.head,e.extend):c}e.addNew?-1==u?(u=s.length,Ko(i,bo(s.concat([r]),u),{scroll:!1,origin:"*mouse"})):s.length>1&&s[u].empty()&&"char"==e.unit&&!e.extend?(Ko(i,bo(s.slice(0,u).concat(s.slice(u+1)),0),{scroll:!1,origin:"*mouse"}),a=i.sel):Uo(i,u,r,V):(u=0,Ko(i,new vo([r],0),V),a=i.sel);var d=t,p=o.wrapper.getBoundingClientRect(),h=0;function f(l){n.state.selectingText=!1,h=1/0,sl(l),o.input.focus(),el(o.wrapper.ownerDocument,"mousemove",g),el(o.wrapper.ownerDocument,"mouseup",v),i.history.lastSelOrigin=null}var g=Ge(n,function(l){0!==l.buttons&&fl(l)?function l(s){var c=++h,f=re(n,s,!0,"rectangle"==e.unit);if(f)if(0!=mn(f,d)){n.curOp.focus=D(),function(l){if(0!=mn(d,l))if(d=l,"rectangle"==e.unit){for(var o=[],s=n.options.tabSize,c=H(an(i,t.line).text,t.ch,s),p=H(an(i,l.line).text,l.ch,s),h=Math.min(c,p),f=Math.max(c,p),g=Math.min(t.line,l.line),v=Math.min(n.lastLine(),Math.max(t.line,l.line));g<=v;g++){var m=an(i,g).text,b=K(m,h,s);h==f?o.push(new mo(vn(g,b),vn(g,b))):m.length>b&&o.push(new mo(vn(g,b),vn(g,K(m,f,s))))}o.length||o.push(new mo(t,t)),Ko(i,bo(a.ranges.slice(0,u).concat(o),u),{origin:"*mouse",scroll:!1}),n.scrollIntoView(l)}else{var y,C=r,x=ur(n,l,e.unit),w=C.anchor;mn(x.anchor,w)>0?(y=x.head,w=xn(C.from(),x.anchor)):(y=x.anchor,w=Cn(C.to(),x.head));var k=a.ranges.slice(0);k[u]=function(n,l){var t=l.anchor,e=l.head,o=an(n.doc,t.line);if(0==mn(t,e)&&t.sticky==e.sticky)return l;var i=Qn(o);if(!i)return l;var r=Zn(i,t.ch,t.sticky),u=i[r];if(u.from!=t.ch&&u.to!=t.ch)return l;var a,s=r+(u.from==t.ch==(1!=u.level)?0:1);if(0==s||s==i.length)return l;if(e.line!=t.line)a=(e.line-t.line)*("ltr"==n.doc.direction?1:-1)>0;else{var c=Zn(i,e.ch,e.sticky),d=c-r||(e.ch-t.ch)*(1==u.level?-1:1);a=c==s-1||c==s?d<0:d>0}var p=i[s+(a?-1:0)],h=a==(1==p.level),f=h?p.from:p.to,g=h?"after":"before";return t.ch==f&&t.sticky==g?l:new mo(new vn(t.line,f,g),e)}(n,new mo(kn(i,w),y)),Ko(i,bo(k,u),V)}}(f);var g=Ce(o,i);(f.line>=g.to||f.line<g.from)&&setTimeout(Ge(n,function(){h==c&&l(s)}),150)}else{var v=s.clientY<p.top?-20:s.clientY>p.bottom?20:0;v&&setTimeout(Ge(n,function(){h==c&&(o.scroller.scrollTop+=v,l(s))}),50)}}(l):f(l)}),v=Ge(n,f);n.state.selectingText=v,ll(o.wrapper.ownerDocument,"mousemove",g),ll(o.wrapper.ownerDocument,"mouseup",v)}(n,e,l,i)}(l,e,i,n):hl(n)==t.scroller&&sl(n):2==o?(e&&Bo(l.doc,e),setTimeout(function(){return t.input.focus()},20)):3==o&&(k?cr(l,n):ge(l)))}}function ur(n,l,t){if("char"==t)return new mo(l,l);if("word"==t)return n.findWordAt(l);if("line"==t)return new mo(vn(l.line,0),kn(n.doc,vn(l.line+1,0)));var e=t(n,l);return new mo(e.from,e.to)}function ar(n,l,t,e){var o,i;if(l.touches)o=l.touches[0].clientX,i=l.touches[0].clientY;else try{o=l.clientX,i=l.clientY}catch(l){return!1}if(o>=Math.floor(n.display.gutters.getBoundingClientRect().right))return!1;e&&sl(l);var r=n.display,u=r.lineDiv.getBoundingClientRect();if(i>u.bottom||!ul(n,t))return dl(l);i-=u.top-r.viewOffset;for(var a=0;a<n.options.gutters.length;++a){var s=r.gutters.childNodes[a];if(s&&s.getBoundingClientRect().right>=o)return ol(n,t,n,hn(n.doc,i),n.options.gutters[a],l),dl(l)}}function sr(n,l){return ar(n,l,"gutterClick",!0)}function cr(n,l){xt(n.display,l)||function(n,l){return!!ul(n,"gutterContextMenu")&&ar(n,l,"gutterContextMenu",!1)}(n,l)||il(n,l,"contextmenu")||n.display.input.onContextMenu(l)}function dr(n){n.display.wrapper.className=n.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+n.options.theme.replace(/(^|\s)\s*/g," cm-s-"),_t(n)}ir.prototype.compare=function(n,l,t){return this.time+400>n&&0==mn(l,this.pos)&&t==this.button};var pr={toString:function(){return"CodeMirror.Init"}},hr={},fr={};function gr(n){so(n),Xe(n),xe(n)}function vr(n,l,t){if(!l!=!(t&&t!=pr)){var e=n.display.dragFunctions,o=l?ll:el;o(n.display.scroller,"dragstart",e.start),o(n.display.scroller,"dragenter",e.enter),o(n.display.scroller,"dragover",e.over),o(n.display.scroller,"dragleave",e.leave),o(n.display.scroller,"drop",e.drop)}}function mr(n){n.options.lineWrapping?(A(n.display.wrapper,"CodeMirror-wrap"),n.display.sizer.style.minWidth="",n.display.sizerWidth=null):(M(n.display.wrapper,"CodeMirror-wrap"),qn(n)),ie(n),Xe(n),_t(n),setTimeout(function(){return $e(n)},100)}function br(n,l){var e=this;if(!(this instanceof br))return new br(n,l);this.options=l=l?F(l):{},F(hr,l,!1),co(l);var o=l.value;"string"==typeof o&&(o=new ki(o,l.mode,null,l.lineSeparator,l.direction)),this.doc=o;var i=new br.inputStyles[l.inputStyle](this),s=this.display=new function(n,l,e){var o=this;this.input=e,o.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=N("div",null,"CodeMirror-code"),o.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=I("div",null,"CodeMirror-cursors"),o.measure=I("div",null,"CodeMirror-measure"),o.lineMeasure=I("div",null,"CodeMirror-measure"),o.lineSpace=N("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var i=N("div",[o.lineSpace],"CodeMirror-lines");o.mover=I("div",[i],null,"position: relative"),o.sizer=I("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=I("div",null,null,"position: absolute; height: "+B+"px; width: 1px;"),o.gutters=I("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=I("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=I("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),r&&u<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),a||t&&m||(o.scroller.draggable=!0),n&&(n.appendChild?n.appendChild(o.wrapper):n(o.wrapper)),o.viewFrom=o.viewTo=l.first,o.reportedViewFrom=o.reportedViewTo=l.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,e.init(o)}(n,o,i);for(var c in s.wrapper.CodeMirror=this,so(this),dr(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),He(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new _,keySeq:null,specialChars:null},l.autofocus&&!m&&s.input.focus(),r&&u<11&&setTimeout(function(){return e.display.input.reset(!0)},20),function(n){var l=n.display;ll(l.scroller,"mousedown",Ge(n,rr)),ll(l.scroller,"dblclick",r&&u<11?Ge(n,function(l){if(!il(n,l)){var t=re(n,l);if(t&&!sr(n,l)&&!xt(n.display,l)){sl(l);var e=n.findWordAt(t);Bo(n.doc,e.anchor,e.head)}}}):function(l){return il(n,l)||sl(l)}),k||ll(l.scroller,"contextmenu",function(l){return cr(n,l)});var t,e={end:0};function o(){l.activeTouch&&(t=setTimeout(function(){return l.activeTouch=null},1e3),(e=l.activeTouch).end=+new Date)}function i(n,l){if(null==l.left)return!0;var t=l.left-n.left,e=l.top-n.top;return t*t+e*e>400}ll(l.scroller,"touchstart",function(o){if(!il(n,o)&&!function(n){if(1!=n.touches.length)return!1;var l=n.touches[0];return l.radiusX<=1&&l.radiusY<=1}(o)&&!sr(n,o)){l.input.ensurePolled(),clearTimeout(t);var i=+new Date;l.activeTouch={start:i,moved:!1,prev:i-e.end<=300?e:null},1==o.touches.length&&(l.activeTouch.left=o.touches[0].pageX,l.activeTouch.top=o.touches[0].pageY)}}),ll(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),ll(l.scroller,"touchend",function(t){var e=l.activeTouch;if(e&&!xt(l,t)&&null!=e.left&&!e.moved&&new Date-e.start<300){var r,u=n.coordsChar(l.activeTouch,"page");r=!e.prev||i(e,e.prev)?new mo(u,u):!e.prev.prev||i(e,e.prev.prev)?n.findWordAt(u):new mo(vn(u.line,0),kn(n.doc,vn(u.line+1,0))),n.setSelection(r.anchor,r.head),n.focus(),sl(t)}o()}),ll(l.scroller,"touchcancel",o),ll(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Ie(n,l.scroller.scrollTop),Ee(n,l.scroller.scrollLeft,!0),ol(n,"scroll",n))}),ll(l.scroller,"mousewheel",function(l){return go(n,l)}),ll(l.scroller,"DOMMouseScroll",function(l){return go(n,l)}),ll(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(l){il(n,l)||pl(l)},over:function(l){il(n,l)||(function(n,l){var t=re(n,l);if(t){var e=document.createDocumentFragment();ce(n,t,e),n.display.dragCursor||(n.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),n.display.lineSpace.insertBefore(n.display.dragCursor,n.display.cursorDiv)),L(n.display.dragCursor,e)}}(n,l),pl(l))},start:function(l){return function(n,l){if(r&&(!n.state.draggingText||+new Date-Si<100))pl(l);else if(!il(n,l)&&!xt(n.display,l)&&(l.dataTransfer.setData("Text",n.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!p)){var t=I("img",null,null,"position: fixed; left: 0; top: 0;");t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(t.width=t.height=1,n.display.wrapper.appendChild(t),t._top=t.offsetTop),l.dataTransfer.setDragImage(t,0,0),d&&t.parentNode.removeChild(t)}}(n,l)},drop:Ge(n,Ti),leave:function(l){il(n,l)||Mi(n)}};var a=l.input.getField();ll(a,"keyup",function(l){return lr.call(n,l)}),ll(a,"keydown",Ge(n,nr)),ll(a,"keypress",Ge(n,tr)),ll(a,"focus",function(l){return ve(n,l)}),ll(a,"blur",function(l){return me(n,l)})}(this),function(){var n;Li||(ll(window,"resize",function(){null==n&&(n=setTimeout(function(){n=null,Ri(Ii)},100))}),ll(window,"blur",function(){return Ri(me)}),Li=!0)}(),ze(this),this.curOp.forceUpdate=!0,Io(this,o),l.autofocus&&!m||this.hasFocus()?setTimeout(O(ve,this),20):me(this),fr)fr.hasOwnProperty(c)&&fr[c](e,l[c],pr);we(this),l.finishInit&&l.finishInit(this);for(var h=0;h<yr.length;++h)yr[h](e);Be(this),a&&l.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}br.defaults=hr,br.optionHandlers=fr;var yr=[];function Cr(n,l,t,e){var o,i=n.doc;null==t&&(t="add"),"smart"==t&&(i.mode.indent?o=Hl(n,l).state:t="prev");var r=n.options.tabSize,u=an(i,l),a=H(u.text,null,r);u.stateAfter&&(u.stateAfter=null);var s,c=u.text.match(/^\s*/)[0];if(e||/\S/.test(u.text)){if("smart"==t&&((s=i.mode.indent(o,u.text.slice(c.length),u.text))==W||s>150)){if(!e)return;t="prev"}}else s=0,t="not";"prev"==t?s=l>i.first?H(an(i,l-1).text,null,r):0:"add"==t?s=a+n.options.indentUnit:"subtract"==t?s=a-n.options.indentUnit:"number"==typeof t&&(s=a+t),s=Math.max(0,s);var d="",p=0;if(n.options.indentWithTabs)for(var h=Math.floor(s/r);h;--h)p+=r,d+="\t";if(p<s&&(d+=Y(s-p)),d!=c)return ui(i,d,vn(l,0),vn(l,c.length),"+input"),u.stateAfter=null,!0;for(var f=0;f<i.sel.ranges.length;f++){var g=i.sel.ranges[f];if(g.head.line==l&&g.head.ch<c.length){var v=vn(l,c.length);Uo(i,f,new mo(v,v));break}}}br.defineInitHook=function(n){return yr.push(n)};var xr=null;function wr(n){xr=n}function kr(n,l,t,e,o){var i=n.doc;n.display.shift=!1,e||(e=i.sel);var r,u=n.state.pasteIncoming||"paste"==o,a=xl(l),s=null;if(u&&e.ranges.length>1)if(xr&&xr.text.join("\n")==l){if(e.ranges.length%xr.text.length==0){s=[];for(var c=0;c<xr.text.length;c++)s.push(i.splitLines(xr.text[c]))}}else a.length==e.ranges.length&&n.options.pasteLinesPerSelection&&(s=X(a,function(n){return[n]}));for(var d=e.ranges.length-1;d>=0;d--){var p=e.ranges[d],h=p.from(),f=p.to();p.empty()&&(t&&t>0?h=vn(h.line,h.ch-t):n.state.overwrite&&!u?f=vn(f.line,Math.min(an(i,f.line).text.length,f.ch+q(a).length)):xr&&xr.lineWise&&xr.text.join("\n")==l&&(h=f=vn(h.line,0))),r=n.curOp.updateInput;var g={from:h,to:f,text:s?s[d%s.length]:a,origin:o||(u?"paste":n.state.cutIncoming?"cut":"+input")};ti(n.doc,g),ut(n,"inputRead",n,g)}l&&!u&&Tr(n,l),Te(n),n.curOp.updateInput=r,n.curOp.typing=!0,n.state.pasteIncoming=n.state.cutIncoming=!1}function Sr(n,l){var t=n.clipboardData&&n.clipboardData.getData("Text");if(t)return n.preventDefault(),l.isReadOnly()||l.options.disableInput||Ke(l,function(){return kr(l,t,0,null,"paste")}),!0}function Tr(n,l){if(n.options.electricChars&&n.options.smartIndent)for(var t=n.doc.sel,e=t.ranges.length-1;e>=0;e--){var o=t.ranges[e];if(!(o.head.ch>100||e&&t.ranges[e-1].head.line==o.head.line)){var i=n.getModeAt(o.head),r=!1;if(i.electricChars){for(var u=0;u<i.electricChars.length;u++)if(l.indexOf(i.electricChars.charAt(u))>-1){r=Cr(n,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(an(n.doc,o.head.line).text.slice(0,o.head.ch))&&(r=Cr(n,o.head.line,"smart"));r&&ut(n,"electricInput",n,o.head.line)}}}function Mr(n){for(var l=[],t=[],e=0;e<n.doc.sel.ranges.length;e++){var o=n.doc.sel.ranges[e].head.line,i={anchor:vn(o,0),head:vn(o+1,0)};t.push(i),l.push(n.getRange(i.anchor,i.head))}return{text:l,ranges:t}}function Rr(n,l){n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!!l)}function Lr(){var n=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),l=I("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return a?n.style.width="1000px":n.setAttribute("wrap","off"),g&&(n.style.border="1px solid black"),Rr(n),l}function Ir(n,l,t,e,o){var i=l,r=t,u=an(n,l.line);function a(e){var i,r;if(null==(i=o?function(n,l,t,e){var o=Qn(l,n.doc.direction);if(!o)return Ui(l,t,e);t.ch>=l.text.length?(t.ch=l.text.length,t.sticky="before"):t.ch<=0&&(t.ch=0,t.sticky="after");var i=Zn(o,t.ch,t.sticky),r=o[i];if("ltr"==n.doc.direction&&r.level%2==0&&(e>0?r.to>t.ch:r.from<t.ch))return Ui(l,t,e);var u,a=function(n,t){return Wi(l,n instanceof vn?n.ch:n,t)},s=function(t){return n.options.lineWrapping?(u=u||Et(n,l),Zt(n,l,u,t)):{begin:0,end:l.text.length}},c=s("before"==t.sticky?a(t,-1):t.ch);if("rtl"==n.doc.direction||1==r.level){var d=1==r.level==e<0,p=a(t,d?1:-1);if(null!=p&&(d?p<=r.to&&p<=c.end:p>=r.from&&p>=c.begin))return new vn(t.line,p,d?"before":"after")}var h=function(n,l,e){for(var i=function(n,l){return l?new vn(t.line,a(n,1),"before"):new vn(t.line,n,"after")};n>=0&&n<o.length;n+=l){var r=o[n],u=l>0==(1!=r.level),s=u?e.begin:a(e.end,-1);if(r.from<=s&&s<r.to)return i(s,u);if(s=u?r.from:a(r.to,-1),e.begin<=s&&s<e.end)return i(s,u)}},f=h(i+e,e,c);if(f)return f;var g=e>0?c.end:a(c.begin,-1);return null==g||e>0&&g==l.text.length||!(f=h(e>0?0:o.length-1,e,s(g)))?null:f}(n.cm,u,l,t):Ui(u,l,t))){if(e||(r=l.line+t)<n.first||r>=n.first+n.size||(l=new vn(r,l.ch,l.sticky),!(u=an(n,r))))return!1;l=Vi(o,n.cm,u,l.line,t)}else l=i;return!0}if("char"==e)a();else if("column"==e)a(!0);else if("word"==e||"group"==e)for(var s=null,c="group"==e,d=n.cm&&n.cm.getHelper(l,"wordChars"),p=!0;!(t<0)||a(!p);p=!1){var h=u.text.charAt(l.ch)||"\n",f=ln(h,d)?"w":c&&"\n"==h?"n":!c||/\s/.test(h)?null:"p";if(!c||p||f||(f="s"),s&&s!=f){t<0&&(t=1,a(),l.sticky="after");break}if(f&&(s=f),t>0&&!a(!p))break}var g=Jo(n,l,i,r,!0);return bn(i,g)&&(g.hitSide=!0),g}function Nr(n,l,t,e){var o,i,r=n.doc,u=l.left;if("page"==e){var a=Math.min(n.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(a-.5*ne(n.display),3);o=(t>0?l.bottom:l.top)+t*s}else"line"==e&&(o=t>0?l.bottom+3:l.top-3);for(;(i=qt(n,u,o)).outside;){if(t<0?o<=0:o>=r.height){i.hitSide=!0;break}o+=5*t}return i}var Er=function(n){this.cm=n,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new _,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Dr(n,l){var t=Nt(n,l.line);if(!t||t.hidden)return null;var e=an(n.doc,l.line),o=Lt(t,e,l.line),i=Qn(e,n.doc.direction),r="left";i&&(r=Zn(i,l.ch)%2?"right":"left");var u=$t(o.map,l.ch,r);return u.offset="right"==u.collapse?u.end:u.start,u}function Ar(n,l){return l&&(n.bad=!0),n}function Pr(n,l,t){var e;if(l==n.display.lineDiv){if(!(e=n.display.lineDiv.childNodes[t]))return Ar(n.clipPos(vn(n.display.viewTo-1)),!0);l=null,t=0}else for(e=l;;e=e.parentNode){if(!e||e==n.display.lineDiv)return null;if(e.parentNode&&e.parentNode==n.display.lineDiv)break}for(var o=0;o<n.display.view.length;o++){var i=n.display.view[o];if(i.node==e)return $r(i,l,t)}}function $r(n,l,t){var e=n.text.firstChild,o=!1;if(!l||!E(e,l))return Ar(vn(pn(n.line),0),!0);if(l==e&&(o=!0,l=e.childNodes[t],t=0,!l)){var i=n.rest?q(n.rest):n.line;return Ar(vn(pn(i),i.text.length),o)}var r=3==l.nodeType?l:null,u=l;for(r||1!=l.childNodes.length||3!=l.firstChild.nodeType||(r=l.firstChild,t&&(t=r.nodeValue.length));u.parentNode!=e;)u=u.parentNode;var a=n.measure,s=a.maps;function c(l,t,e){for(var o=-1;o<(s?s.length:0);o++)for(var i=o<0?a.map:s[o],r=0;r<i.length;r+=3){var u=i[r+2];if(u==l||u==t){var c=pn(o<0?n.line:n.rest[o]),d=i[r]+e;return(e<0||u!=l)&&(d=i[r+(e?1:0)]),vn(c,d)}}}var d=c(r,u,t);if(d)return Ar(d,o);for(var p=u.nextSibling,h=r?r.nodeValue.length-t:0;p;p=p.nextSibling){if(d=c(p,p.firstChild,0))return Ar(vn(d.line,d.ch-h),o);h+=p.textContent.length}for(var f=u.previousSibling,g=t;f;f=f.previousSibling){if(d=c(f,f.firstChild,-1))return Ar(vn(d.line,d.ch+g),o);g+=f.textContent.length}}Er.prototype.init=function(n){var l=this,t=this,e=t.cm,o=t.div=n.lineDiv;function i(n){if(!il(e,n)){if(e.somethingSelected())wr({lineWise:!1,text:e.getSelections()}),"cut"==n.type&&e.replaceSelection("",null,"cut");else{if(!e.options.lineWiseCopyCut)return;var l=Mr(e);wr({lineWise:!0,text:l.text}),"cut"==n.type&&e.operation(function(){e.setSelections(l.ranges,0,U),e.replaceSelection("",null,"cut")})}if(n.clipboardData){n.clipboardData.clearData();var i=xr.text.join("\n");if(n.clipboardData.setData("Text",i),n.clipboardData.getData("Text")==i)return void n.preventDefault()}var r=Lr(),u=r.firstChild;e.display.lineSpace.insertBefore(r,e.display.lineSpace.firstChild),u.value=xr.text.join("\n");var a=document.activeElement;$(u),setTimeout(function(){e.display.lineSpace.removeChild(r),a.focus(),a==o&&t.showPrimarySelection()},50)}}Rr(o,e.options.spellcheck),ll(o,"paste",function(n){il(e,n)||Sr(n,e)||u<=11&&setTimeout(Ge(e,function(){return l.updateFromDOM()}),20)}),ll(o,"compositionstart",function(n){l.composing={data:n.data,done:!1}}),ll(o,"compositionupdate",function(n){l.composing||(l.composing={data:n.data,done:!1})}),ll(o,"compositionend",function(n){l.composing&&(n.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),ll(o,"touchstart",function(){return t.forceCompositionEnd()}),ll(o,"input",function(){l.composing||l.readFromDOMSoon()}),ll(o,"copy",i),ll(o,"cut",i)},Er.prototype.prepareSelection=function(){var n=se(this.cm,!1);return n.focus=this.cm.state.focused,n},Er.prototype.showSelection=function(n,l){n&&this.cm.display.view.length&&((n.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(n))},Er.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Er.prototype.showPrimarySelection=function(){var n=this.getSelection(),l=this.cm,e=l.doc.sel.primary(),o=e.from(),i=e.to();if(l.display.viewTo==l.display.viewFrom||o.line>=l.display.viewTo||i.line<l.display.viewFrom)n.removeAllRanges();else{var r=Pr(l,n.anchorNode,n.anchorOffset),u=Pr(l,n.focusNode,n.focusOffset);if(!r||r.bad||!u||u.bad||0!=mn(xn(r,u),o)||0!=mn(Cn(r,u),i)){var a=l.display.view,s=o.line>=l.display.viewFrom&&Dr(l,o)||{node:a[0].measure.map[2],offset:0},c=i.line<l.display.viewTo&&Dr(l,i);if(!c){var d=a[a.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;c={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(s&&c){var h,f=n.rangeCount&&n.getRangeAt(0);try{h=T(s.node,s.offset,c.offset,c.node)}catch(n){}h&&(!t&&l.state.focused?(n.collapse(s.node,s.offset),h.collapsed||(n.removeAllRanges(),n.addRange(h))):(n.removeAllRanges(),n.addRange(h)),f&&null==n.anchorNode?n.addRange(f):t&&this.startGracePeriod()),this.rememberSelection()}else n.removeAllRanges()}}},Er.prototype.startGracePeriod=function(){var n=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){n.gracePeriod=!1,n.selectionChanged()&&n.cm.operation(function(){return n.cm.curOp.selectionChanged=!0})},20)},Er.prototype.showMultipleSelections=function(n){L(this.cm.display.cursorDiv,n.cursors),L(this.cm.display.selectionDiv,n.selection)},Er.prototype.rememberSelection=function(){var n=this.getSelection();this.lastAnchorNode=n.anchorNode,this.lastAnchorOffset=n.anchorOffset,this.lastFocusNode=n.focusNode,this.lastFocusOffset=n.focusOffset},Er.prototype.selectionInEditor=function(){var n=this.getSelection();if(!n.rangeCount)return!1;var l=n.getRangeAt(0).commonAncestorContainer;return E(this.div,l)},Er.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Er.prototype.blur=function(){this.div.blur()},Er.prototype.getField=function(){return this.div},Er.prototype.supportsTouch=function(){return!0},Er.prototype.receivedFocus=function(){var n=this;this.selectionInEditor()?this.pollSelection():Ke(this.cm,function(){return n.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function l(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,l))})},Er.prototype.selectionChanged=function(){var n=this.getSelection();return n.anchorNode!=this.lastAnchorNode||n.anchorOffset!=this.lastAnchorOffset||n.focusNode!=this.lastFocusNode||n.focusOffset!=this.lastFocusOffset},Er.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var n=this.getSelection(),l=this.cm;if(v&&c&&this.cm.options.gutters.length&&function(l){for(var t=n.anchorNode;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}())return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var t=Pr(l,n.anchorNode,n.anchorOffset),e=Pr(l,n.focusNode,n.focusOffset);t&&e&&Ke(l,function(){Ko(l.doc,yo(t,e),U),(t.bad||e.bad)&&(l.curOp.selectionChanged=!0)})}}},Er.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var n,l,t,e=this.cm,o=e.display,i=e.doc.sel.primary(),r=i.from(),u=i.to();if(0==r.ch&&r.line>e.firstLine()&&(r=vn(r.line-1,an(e.doc,r.line-1).length)),u.ch==an(e.doc,u.line).text.length&&u.line<e.lastLine()&&(u=vn(u.line+1,0)),r.line<o.viewFrom||u.line>o.viewTo-1)return!1;r.line==o.viewFrom||0==(n=ue(e,r.line))?(l=pn(o.view[0].line),t=o.view[0].node):(l=pn(o.view[n].line),t=o.view[n-1].node.nextSibling);var a,s,c=ue(e,u.line);if(c==o.view.length-1?(a=o.viewTo-1,s=o.lineDiv.lastChild):(a=pn(o.view[c+1].line)-1,s=o.view[c+1].node.previousSibling),!t)return!1;for(var d=e.doc.splitLines(function(n,l,t,e,o){var i="",r=!1,u=n.doc.lineSeparator(),a=!1;function s(){r&&(i+=u,a&&(i+=u),r=a=!1)}function c(n){n&&(s(),i+=n)}function d(l){if(1==l.nodeType){var t=l.getAttribute("cm-text");if(t)return void c(t);var i,p=l.getAttribute("cm-marker");if(p){var h=n.findMarks(vn(e,0),vn(o+1,0),(v=+p,function(n){return n.id==v}));return void(h.length&&(i=h[0].find(0))&&c(sn(n.doc,i.from,i.to).join(u)))}if("false"==l.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(l.nodeName);if(!/^br$/i.test(l.nodeName)&&0==l.textContent.length)return;f&&s();for(var g=0;g<l.childNodes.length;g++)d(l.childNodes[g]);/^(pre|p)$/i.test(l.nodeName)&&(a=!0),f&&(r=!0)}else 3==l.nodeType&&c(l.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var v}for(;d(l),l!=t;)l=l.nextSibling,a=!1;return i}(e,t,s,l,a)),p=sn(e.doc,vn(l,0),vn(a,an(e.doc,a).text.length));d.length>1&&p.length>1;)if(q(d)==q(p))d.pop(),p.pop(),a--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),l++}for(var h=0,f=0,g=d[0],v=p[0],m=Math.min(g.length,v.length);h<m&&g.charCodeAt(h)==v.charCodeAt(h);)++h;for(var b=q(d),y=q(p),C=Math.min(b.length-(1==d.length?h:0),y.length-(1==p.length?h:0));f<C&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==p.length&&l==r.line)for(;h&&h>r.ch&&b.charCodeAt(b.length-f-1)==y.charCodeAt(y.length-f-1);)h--,f++;d[d.length-1]=b.slice(0,b.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(h).replace(/\u200b+$/,"");var x=vn(l,h),w=vn(a,p.length?q(p).length-f:0);return d.length>1||d[0]||mn(x,w)?(ui(e.doc,d,x,w,"+input"),!0):void 0},Er.prototype.ensurePolled=function(){this.forceCompositionEnd()},Er.prototype.reset=function(){this.forceCompositionEnd()},Er.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Er.prototype.readFromDOMSoon=function(){var n=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(n.readDOMTimeout=null,n.composing){if(!n.composing.done)return;n.composing=null}n.updateFromDOM()},80))},Er.prototype.updateFromDOM=function(){var n=this;!this.cm.isReadOnly()&&this.pollContent()||Ke(this.cm,function(){return Xe(n.cm)})},Er.prototype.setUneditable=function(n){n.contentEditable="false"},Er.prototype.onKeyPress=function(n){0==n.charCode||this.composing||(n.preventDefault(),this.cm.isReadOnly()||Ge(this.cm,kr)(this.cm,String.fromCharCode(null==n.charCode?n.keyCode:n.charCode),0))},Er.prototype.readOnlyChanged=function(n){this.div.contentEditable=String("nocursor"!=n)},Er.prototype.onContextMenu=function(){},Er.prototype.resetPosition=function(){},Er.prototype.needsContentAttribute=!0;var Or=function(n){this.cm=n,this.prevInput="",this.pollingFast=!1,this.polling=new _,this.hasSelection=!1,this.composing=null};Or.prototype.init=function(n){var l=this,t=this,e=this.cm;this.createField(n);var o=this.textarea;function i(n){if(!il(e,n)){if(e.somethingSelected())wr({lineWise:!1,text:e.getSelections()});else{if(!e.options.lineWiseCopyCut)return;var l=Mr(e);wr({lineWise:!0,text:l.text}),"cut"==n.type?e.setSelections(l.ranges,null,U):(t.prevInput="",o.value=l.text.join("\n"),$(o))}"cut"==n.type&&(e.state.cutIncoming=!0)}}n.wrapper.insertBefore(this.wrapper,n.wrapper.firstChild),g&&(o.style.width="0px"),ll(o,"input",function(){r&&u>=9&&l.hasSelection&&(l.hasSelection=null),t.poll()}),ll(o,"paste",function(n){il(e,n)||Sr(n,e)||(e.state.pasteIncoming=!0,t.fastPoll())}),ll(o,"cut",i),ll(o,"copy",i),ll(n.scroller,"paste",function(l){xt(n,l)||il(e,l)||(e.state.pasteIncoming=!0,t.focus())}),ll(n.lineSpace,"selectstart",function(l){xt(n,l)||sl(l)}),ll(o,"compositionstart",function(){var n=e.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:n,range:e.markText(n,e.getCursor("to"),{className:"CodeMirror-composing"})}}),ll(o,"compositionend",function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})},Or.prototype.createField=function(n){this.wrapper=Lr(),this.textarea=this.wrapper.firstChild},Or.prototype.prepareSelection=function(){var n=this.cm,l=n.display,t=n.doc,e=se(n);if(n.options.moveInputWithCursor){var o=Kt(n,t.sel.primary().head,"div"),i=l.wrapper.getBoundingClientRect(),r=l.lineDiv.getBoundingClientRect();e.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,o.top+r.top-i.top)),e.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,o.left+r.left-i.left))}return e},Or.prototype.showSelection=function(n){var l=this.cm.display;L(l.cursorDiv,n.cursors),L(l.selectionDiv,n.selection),null!=n.teTop&&(this.wrapper.style.top=n.teTop+"px",this.wrapper.style.left=n.teLeft+"px")},Or.prototype.reset=function(n){if(!this.contextMenuPending&&!this.composing){var l=this.cm;if(l.somethingSelected()){this.prevInput="";var t=l.getSelection();this.textarea.value=t,l.state.focused&&$(this.textarea),r&&u>=9&&(this.hasSelection=t)}else n||(this.prevInput=this.textarea.value="",r&&u>=9&&(this.hasSelection=null))}},Or.prototype.getField=function(){return this.textarea},Or.prototype.supportsTouch=function(){return!1},Or.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||D()!=this.textarea))try{this.textarea.focus()}catch(n){}},Or.prototype.blur=function(){this.textarea.blur()},Or.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Or.prototype.receivedFocus=function(){this.slowPoll()},Or.prototype.slowPoll=function(){var n=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){n.poll(),n.cm.state.focused&&n.slowPoll()})},Or.prototype.fastPoll=function(){var n=!1,l=this;l.pollingFast=!0,l.polling.set(20,function t(){l.poll()||n?(l.pollingFast=!1,l.slowPoll()):(n=!0,l.polling.set(60,t))})},Or.prototype.poll=function(){var n=this,l=this.cm,t=this.textarea,e=this.prevInput;if(this.contextMenuPending||!l.state.focused||wl(t)&&!e&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var o=t.value;if(o==e&&!l.somethingSelected())return!1;if(r&&u>=9&&this.hasSelection===o||b&&/[\uf700-\uf7ff]/.test(o))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||e||(e="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(e.length,o.length);a<s&&e.charCodeAt(a)==o.charCodeAt(a);)++a;return Ke(l,function(){kr(l,o.slice(a),e.length-a,null,n.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?t.value=n.prevInput="":n.prevInput=o,n.composing&&(n.composing.range.clear(),n.composing.range=l.markText(n.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Or.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Or.prototype.onKeyPress=function(){r&&u>=9&&(this.hasSelection=null),this.fastPoll()},Or.prototype.onContextMenu=function(n){var l=this,t=l.cm,e=t.display,o=l.textarea,i=re(t,n),s=e.scroller.scrollTop;if(i&&!d){t.options.resetSelectionOnContextMenu&&-1==t.doc.sel.contains(i)&&Ge(t,Ko)(t.doc,yo(i),U);var c=o.style.cssText,p=l.wrapper.style.cssText;l.wrapper.style.cssText="position: absolute";var h,f=l.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(n.clientY-f.top-5)+"px; left: "+(n.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(r?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",a&&(h=window.scrollY),e.input.focus(),a&&window.scrollTo(null,h),e.input.reset(),t.somethingSelected()||(o.value=l.prevInput=" "),l.contextMenuPending=!0,e.selForContextMenu=t.doc.sel,clearTimeout(e.detectingSelectAll),r&&u>=9&&v(),k){pl(n);var g=function(){el(window,"mouseup",g),setTimeout(m,20)};ll(window,"mouseup",g)}else setTimeout(m,50)}function v(){if(null!=o.selectionStart){var n=t.somethingSelected(),i="\u200b"+(n?o.value:"");o.value="\u21da",o.value=i,l.prevInput=n?"":"\u200b",o.selectionStart=1,o.selectionEnd=i.length,e.selForContextMenu=t.doc.sel}}function m(){if(l.contextMenuPending=!1,l.wrapper.style.cssText=p,o.style.cssText=c,r&&u<9&&e.scrollbars.setScrollTop(e.scroller.scrollTop=s),null!=o.selectionStart){(!r||r&&u<9)&&v();var n=0,i=function(){e.selForContextMenu==t.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"\u200b"==l.prevInput?Ge(t,ni)(t):n++<10?e.detectingSelectAll=setTimeout(i,500):(e.selForContextMenu=null,e.input.reset())};e.detectingSelectAll=setTimeout(i,200)}}},Or.prototype.readOnlyChanged=function(n){n||this.reset(),this.textarea.disabled="nocursor"==n},Or.prototype.setUneditable=function(){},Or.prototype.needsContentAttribute=!1,function(n){var l=n.optionHandlers;function t(t,e,o,i){n.defaults[t]=e,o&&(l[t]=i?function(n,l,t){t!=pr&&o(n,l,t)}:o)}n.defineOption=t,n.Init=pr,t("value","",function(n,l){return n.setValue(l)},!0),t("mode",null,function(n,l){n.doc.modeOption=l,So(n)},!0),t("indentUnit",2,So,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(n){To(n),_t(n),Xe(n)},!0),t("lineSeparator",null,function(n,l){if(n.doc.lineSep=l,l){var t=[],e=n.doc.first;n.doc.iter(function(n){for(var o=0;;){var i=n.text.indexOf(l,o);if(-1==i)break;o=i+l.length,t.push(vn(e,i))}e++});for(var o=t.length-1;o>=0;o--)ui(n.doc,l,t[o],vn(t[o].line,t[o].ch+l.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(n,l,t){n.state.specialChars=new RegExp(l.source+(l.test("\t")?"":"|\t"),"g"),t!=pr&&n.refresh()}),t("specialCharPlaceholder",Jl,function(n){return n.refresh()},!0),t("electricChars",!0),t("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(n,l){return n.getInputField().spellcheck=l},!0),t("rtlMoveVisually",!C),t("wholeLineUpdateBefore",!0),t("theme","default",function(n){dr(n),gr(n)},!0),t("keyMap","default",function(n,l,t){var e=zi(l),o=t!=pr&&zi(t);o&&o.detach&&o.detach(n,e),e.attach&&e.attach(n,o||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,mr,!0),t("gutters",[],function(n){co(n.options),gr(n)},!0),t("fixedGutter",!0,function(n,l){n.display.gutters.style.left=l?ee(n.display)+"px":"0",n.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(n){return $e(n)},!0),t("scrollbarStyle","native",function(n){He(n),$e(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),t("lineNumbers",!1,function(n){co(n.options),gr(n)},!0),t("firstLineNumber",1,gr,!0),t("lineNumberFormatter",function(n){return n},gr,!0),t("showCursorWhenSelecting",!1,ae,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(n,l){"nocursor"==l&&(me(n),n.display.input.blur()),n.display.input.readOnlyChanged(l)}),t("disableInput",!1,function(n,l){l||n.display.input.reset()},!0),t("dragDrop",!0,vr),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,ae,!0),t("singleCursorHeightPerLine",!0,ae,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,To,!0),t("addModeClass",!1,To,!0),t("pollInterval",100),t("undoDepth",200,function(n,l){return n.doc.history.undoDepth=l}),t("historyEventDelay",1250),t("viewportMargin",10,function(n){return n.refresh()},!0),t("maxHighlightLength",1e4,To,!0),t("moveInputWithCursor",!0,function(n,l){l||n.display.input.resetPosition()}),t("tabindex",null,function(n,l){return n.display.input.getField().tabIndex=l||""}),t("autofocus",null),t("direction","ltr",function(n,l){return n.doc.setDirection(l)},!0)}(br),function(n){var l=n.optionHandlers,t=n.helpers={};n.prototype={constructor:n,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,t){var e=this.options,o=e[n];e[n]==t&&"mode"!=n||(e[n]=t,l.hasOwnProperty(n)&&Ge(this,l[n])(this,t,o),ol(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,l){this.state.keyMaps[l?"push":"unshift"](zi(n))},removeKeyMap:function(n){for(var l=this.state.keyMaps,t=0;t<l.length;++t)if(l[t]==n||l[t].name==n)return l.splice(t,1),!0},addOverlay:Ye(function(l,t){var e=l.token?l:n.getMode(this.options,l);if(e.startState)throw new Error("Overlays may not be stateful.");!function(n,l,t){for(var e=0,o=t(l);e<n.length&&t(n[e])<=o;)e++;n.splice(e,0,l)}(this.state.overlays,{mode:e,modeSpec:l,opaque:t&&t.opaque,priority:t&&t.priority||0},function(n){return n.priority}),this.state.modeGen++,Xe(this)}),removeOverlay:Ye(function(n){for(var l=this.state.overlays,t=0;t<l.length;++t){var e=l[t].modeSpec;if(e==n||"string"==typeof n&&e.name==n)return l.splice(t,1),this.state.modeGen++,void Xe(this)}}),indentLine:Ye(function(n,l,t){"string"!=typeof l&&"number"!=typeof l&&(l=null==l?this.options.smartIndent?"smart":"prev":l?"add":"subtract"),fn(this.doc,n)&&Cr(this,n,l,t)}),indentSelection:Ye(function(n){for(var l=this.doc.sel.ranges,t=-1,e=0;e<l.length;e++){var o=l[e];if(o.empty())o.head.line>t&&(Cr(this,o.head.line,n,!0),t=o.head.line,e==this.doc.sel.primIndex&&Te(this));else{var i=o.from(),r=o.to(),u=Math.max(t,i.line);t=Math.min(this.lastLine(),r.line-(r.ch?0:1))+1;for(var a=u;a<t;++a)Cr(this,a,n);var s=this.doc.sel.ranges;0==i.ch&&l.length==s.length&&s[e].from().ch>0&&Uo(this.doc,e,new mo(i,s[e].to()),U)}}}),getTokenAt:function(n,l){return Ul(this,n,l)},getLineTokens:function(n,l){return Ul(this,vn(n),l,!0)},getTokenTypeAt:function(n){n=kn(this.doc,n);var l,t=Fl(this,an(this.doc,n.line)),e=0,o=(t.length-1)/2,i=n.ch;if(0==i)l=t[2];else for(;;){var r=e+o>>1;if((r?t[2*r-1]:0)>=i)o=r;else{if(!(t[2*r+1]<i)){l=t[2*r+2];break}e=r+1}}var u=l?l.indexOf("overlay "):-1;return u<0?l:0==u?null:l.slice(0,u-1)},getModeAt:function(l){var t=this.doc.mode;return t.innerMode?n.innerMode(t,this.getTokenAt(l).state).mode:t},getHelper:function(n,l){return this.getHelpers(n,l)[0]},getHelpers:function(n,l){var e=[];if(!t.hasOwnProperty(l))return e;var o=t[l],i=this.getModeAt(n);if("string"==typeof i[l])o[i[l]]&&e.push(o[i[l]]);else if(i[l])for(var r=0;r<i[l].length;r++){var u=o[i[l][r]];u&&e.push(u)}else i.helperType&&o[i.helperType]?e.push(o[i.helperType]):o[i.name]&&e.push(o[i.name]);for(var a=0;a<o._global.length;a++){var s=o._global[a];s.pred(i,this)&&-1==z(e,s.val)&&e.push(s.val)}return e},getStateAfter:function(n,l){var t=this.doc;return Hl(this,(n=wn(t,null==n?t.first+t.size-1:n))+1,l).state},cursorCoords:function(n,l){var t=this.doc.sel.primary();return Kt(this,null==n?t.head:"object"==typeof n?kn(this.doc,n):n?t.from():t.to(),l||"page")},charCoords:function(n,l){return jt(this,kn(this.doc,n),l||"page")},coordsChar:function(n,l){return qt(this,(n=Vt(this,n,l||"page")).left,n.top)},lineAtHeight:function(n,l){return n=Vt(this,{top:n,left:0},l||"page").top,hn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,l,t){var e,o=!1;if("number"==typeof n){var i=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>i&&(n=i,o=!0),e=an(this.doc,n)}else e=n;return Ut(this,e,{top:0,left:0},l||"page",t||o).top+(o?this.doc.height-Gn(e):0)},defaultTextHeight:function(){return ne(this.display)},defaultCharWidth:function(){return le(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,l,t,e,o){var i,r,u=this.display,a=(n=Kt(this,kn(this.doc,n))).bottom,s=n.left;if(l.style.position="absolute",l.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(l),u.sizer.appendChild(l),"over"==e)a=n.top;else if("above"==e||"near"==e){var c=Math.max(u.wrapper.clientHeight,this.doc.height),d=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==e||n.bottom+l.offsetHeight>c)&&n.top>l.offsetHeight?a=n.top-l.offsetHeight:n.bottom+l.offsetHeight<=c&&(a=n.bottom),s+l.offsetWidth>d&&(s=d-l.offsetWidth)}l.style.top=a+"px",l.style.left=l.style.right="","right"==o?(s=u.sizer.clientWidth-l.offsetWidth,l.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(u.sizer.clientWidth-l.offsetWidth)/2),l.style.left=s+"px"),t&&(null!=(r=ke(i=this,{left:s,top:a,right:s+l.offsetWidth,bottom:a+l.offsetHeight})).scrollTop&&Ie(i,r.scrollTop),null!=r.scrollLeft&&Ee(i,r.scrollLeft))},triggerOnKeyDown:Ye(nr),triggerOnKeyPress:Ye(tr),triggerOnKeyUp:lr,triggerOnMouseDown:Ye(rr),execCommand:function(n){if(ji.hasOwnProperty(n))return ji[n].call(null,this)},triggerElectric:Ye(function(n){Tr(this,n)}),findPosH:function(n,l,t,e){var o=1;l<0&&(o=-1,l=-l);for(var i=kn(this.doc,n),r=0;r<l&&!(i=Ir(this.doc,i,o,t,e)).hitSide;++r);return i},moveH:Ye(function(n,l){var t=this;this.extendSelectionsBy(function(e){return t.display.shift||t.doc.extend||e.empty()?Ir(t.doc,e.head,n,l,t.options.rtlMoveVisually):n<0?e.from():e.to()},j)}),deleteH:Ye(function(n,l){var t=this.doc;this.doc.sel.somethingSelected()?t.replaceSelection("",null,"+delete"):Bi(this,function(e){var o=Ir(t,e.head,n,l,!1);return n<0?{from:o,to:e.head}:{from:e.head,to:o}})}),findPosV:function(n,l,t,e){var o=1,i=e;l<0&&(o=-1,l=-l);for(var r=kn(this.doc,n),u=0;u<l;++u){var a=Kt(this,r,"div");if(null==i?i=a.left:a.left=i,(r=Nr(this,a,o,t)).hitSide)break}return r},moveV:Ye(function(n,l){var t=this,e=this.doc,o=[],i=!this.display.shift&&!e.extend&&e.sel.somethingSelected();if(e.extendSelectionsBy(function(r){if(i)return n<0?r.from():r.to();var u=Kt(t,r.head,"div");null!=r.goalColumn&&(u.left=r.goalColumn),o.push(u.left);var a=Nr(t,u,n,l);return"page"==l&&r==e.sel.primary()&&Se(t,jt(t,a,"div").top-u.top),a},j),o.length)for(var r=0;r<e.sel.ranges.length;r++)e.sel.ranges[r].goalColumn=o[r]}),findWordAt:function(n){var l=an(this.doc,n.line).text,t=n.ch,e=n.ch;if(l){var o=this.getHelper(n,"wordChars");"before"!=n.sticky&&e!=l.length||!t?++e:--t;for(var i=l.charAt(t),r=ln(i,o)?function(n){return ln(n,o)}:/\s/.test(i)?function(n){return/\s/.test(n)}:function(n){return!/\s/.test(n)&&!ln(n)};t>0&&r(l.charAt(t-1));)--t;for(;e<l.length&&r(l.charAt(e));)++e}return new mo(vn(n.line,t),vn(n.line,e))},toggleOverwrite:function(n){null!=n&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),ol(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ye(function(n,l){Me(this,n,l)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-Tt(this)-this.display.barHeight,width:n.scrollWidth-Tt(this)-this.display.barWidth,clientHeight:Rt(this),clientWidth:Mt(this)}},scrollIntoView:Ye(function(n,l){null==n?(n={from:this.doc.sel.primary().head,to:null},null==l&&(l=this.options.cursorScrollMargin)):"number"==typeof n?n={from:vn(n,0),to:null}:null==n.from&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=l||0,null!=n.from.line?function(n,l){Re(n),n.curOp.scrollToPos=l}(this,n):Le(this,n.from,n.to,n.margin)}),setSize:Ye(function(n,l){var t=this,e=function(n){return"number"==typeof n||/^\d+$/.test(String(n))?n+"px":n};null!=n&&(this.display.wrapper.style.width=e(n)),null!=l&&(this.display.wrapper.style.height=e(l)),this.options.lineWrapping&&Ht(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(n){if(n.widgets)for(var l=0;l<n.widgets.length;l++)if(n.widgets[l].noHScroll){Ze(t,o,"widget");break}++o}),this.curOp.forceUpdate=!0,ol(this,"refresh",this)}),operation:function(n){return Ke(this,n)},startOperation:function(){return ze(this)},endOperation:function(){return Be(this)},refresh:Ye(function(){var n=this.display.cachedTextHeight;Xe(this),this.curOp.forceUpdate=!0,_t(this),Me(this,this.doc.scrollLeft,this.doc.scrollTop),uo(this),(null==n||Math.abs(n-ne(this.display))>.5)&&ie(this),ol(this,"refresh",this)}),swapDoc:Ye(function(n){var l=this.doc;return l.cm=null,Io(this,n),_t(this),this.display.input.reset(),Me(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,ut(this,"swapDoc",this,l),l}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},al(n),n.registerHelper=function(l,e,o){t.hasOwnProperty(l)||(t[l]=n[l]={_global:[]}),t[l][e]=o},n.registerGlobalHelper=function(l,e,o,i){n.registerHelper(l,e,i),t[l]._global.push({pred:o,val:i})}}(br);var Fr,Hr="iter insert remove copy getEditor constructor".split(" ");for(var _r in ki.prototype)ki.prototype.hasOwnProperty(_r)&&z(Hr,_r)<0&&(br.prototype[_r]=function(n){return function(){return n.apply(this.doc,arguments)}}(ki.prototype[_r]));return al(ki),br.inputStyles={textarea:Or,contenteditable:Er},br.defineMode=function(n){br.defaults.mode||"null"==n||(br.defaults.mode=n),(function(n,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),Tl[n]=l}).apply(this,arguments)},br.defineMIME=function(n,l){Ml[n]=l},br.defineMode("null",function(){return{token:function(n){return n.skipToEnd()}}}),br.defineMIME("text/plain","null"),br.defineExtension=function(n,l){br.prototype[n]=l},br.defineDocExtension=function(n,l){ki.prototype[n]=l},br.fromTextArea=function(n,l){if((l=l?F(l):{}).value=n.value,!l.tabindex&&n.tabIndex&&(l.tabindex=n.tabIndex),!l.placeholder&&n.placeholder&&(l.placeholder=n.placeholder),null==l.autofocus){var t=D();l.autofocus=t==n||null!=n.getAttribute("autofocus")&&t==document.body}function e(){n.value=u.getValue()}var o;if(n.form&&(ll(n.form,"submit",e),!l.leaveSubmitMethodAlone)){var i=n.form;o=i.submit;try{var r=i.submit=function(){e(),i.submit=o,i.submit(),i.submit=r}}catch(n){}}l.finishInit=function(l){l.save=e,l.getTextArea=function(){return n},l.toTextArea=function(){l.toTextArea=isNaN,e(),n.parentNode.removeChild(l.getWrapperElement()),n.style.display="",n.form&&(el(n.form,"submit",e),"function"==typeof n.form.submit&&(n.form.submit=o))}},n.style.display="none";var u=br(function(l){return n.parentNode.insertBefore(l,n.nextSibling)},l);return u},(Fr=br).off=el,Fr.on=ll,Fr.wheelEventPixels=function(n){var l=fo(n);return l.x*=ho,l.y*=ho,l},Fr.Doc=ki,Fr.splitLines=xl,Fr.countColumn=H,Fr.findColumn=K,Fr.isWordChar=nn,Fr.Pass=W,Fr.signal=ol,Fr.Line=Kl,Fr.changeEnd=Co,Fr.scrollbarModel=Fe,Fr.Pos=vn,Fr.cmpPos=mn,Fr.modes=Tl,Fr.mimeModes=Ml,Fr.resolveMode=Rl,Fr.getMode=Ll,Fr.modeExtensions=Il,Fr.extendMode=function(n,l){F(l,Il.hasOwnProperty(n)?Il[n]:Il[n]={})},Fr.copyState=Nl,Fr.startState=Dl,Fr.innerMode=El,Fr.commands=ji,Fr.keyMap=Pi,Fr.keyName=_i,Fr.isModifierKey=Fi,Fr.lookupKey=Oi,Fr.normalizeKeyMap=function(n){var l={};for(var t in n)if(n.hasOwnProperty(t)){var e=n[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==e){delete n[t];continue}for(var o=X(t.split(" "),$i),i=0;i<o.length;i++){var r=void 0,u=void 0;i==o.length-1?(u=o.join(" "),r=e):(u=o.slice(0,i+1).join(" "),r="...");var a=l[u];if(a){if(a!=r)throw new Error("Inconsistent bindings for "+u)}else l[u]=r}delete n[t]}for(var s in l)n[s]=l[s];return n},Fr.StringStream=Al,Fr.SharedTextMarker=yi,Fr.TextMarker=mi,Fr.LineWidget=fi,Fr.e_preventDefault=sl,Fr.e_stopPropagation=cl,Fr.e_stop=pl,Fr.addClass=A,Fr.contains=E,Fr.rmClass=M,Fr.keyNames=Ni,br.version="5.39.0",br}()},gAVq:function(n,l,t){"use strict";t.d(l,"a",function(){return o}),t("+TkM");var e=t("wd/R"),o=function(){function n(n,l,t){this._service=n,this.route=l,this.router=t,this.cover=null,this.responseMessage=null,this.responseSuccess=!1,this.loading=!1,this.filters={page:1,asc:0,keyword:null},this.post_id=0,this.post=null,this.tags=[]}return n.prototype.ngOnInit=function(){this.post_id=parseInt(this.route.snapshot.paramMap.get("id"))||0,this.fetch()},n.prototype.remove=function(n){var l=this;this._service.smartMessageBox({title:"<i class='fas fa-trash txt-color-orangeDark'></i> \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c <span class='txt-color-orangeDark'><strong>#"+n.id+"</strong></span> ?",content:"&laquo;"+n.title+"&raquo;",buttons:"[\u041d\u0435\u0442][\u0414\u0430]"},function(t,e,o){1==o&&l._service.removePost(n.id).subscribe(function(n){n.error||l.router.navigate(["/govt/settings/news"])})})},n.prototype.pageChange=function(n){n!=this.filters.page&&(console.log(n),this.filters.page=n,this.fetch())},n.prototype.save=function(){var n=this;this.loading=!0;var l=this.cover instanceof FormData?this.cover:new FormData;for(var t in this.post)l.set(t,this.post[t]);this._service.updatePost(this.post.id,l).subscribe(function(l){n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)},function(l){n.responseMessage="\u041e\u0448\u0438\u0431\u043a\u0430",setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n.prototype.publish=function(n){this._service.publishPost(n.id,{publish:!n.publish}).subscribe(function(l){n.publish=!n.publish})},n.prototype.addRecipient=function(n,l){var t=$(n.target).parents(".replies").find("textarea"),e=t.val();t.val("@["+l+"] "+e).focus()},n.prototype.postMessage=function(n,l){var t={message:l.new_message,id:l.id};if(t.message.length<5)return $(n.target).parents(".chat-form").find("textarea").focus();this._service.postComment(t).subscribe(function(n){200==n.status&&(l.comments.push(n.body),l.new_message="")})},n.prototype.fetch=function(){var n=this;this._service.getPost(this.post_id).subscribe(function(l){n.post=l.body.post})},n.prototype.onimgloaded=function(n){var l=this,t=n.target.value.split("\\").pop(),e=/[.]/.exec(t)?/[^.]+$/.exec(t)[0]:null;if(-1===["jpeg","jpg","gif","png"].indexOf(e))return n.target.value=null;var o=n.target.files,i=new FormData;i.set("files",o[0],o[0].name),this.cover=i;var r=n.target.files[0],u=new FileReader;u.onload=function(n){l.coverimg.nativeElement.src=n.target.result},u.readAsDataURL(r)},n.prototype.getDate=function(n,l,t){var o=e(n).format("HH:mm:ss"),i=e(n).format("DD.MM.YYYY");return"time"==t?o=e(l.value,"HH:mm:ss").format("HH:mm:ss"):i=e(l,"DD.MM.YYYY").format("DD.MM.YYYY"),e(i+" "+o,"DD.MM.YYYY HH:mm:ss").toISOString()},n}()},ltv5:function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t("+TkM");var e=function(){function n(n,l,t){this._service=n,this.route=l,this.router=t,this.activeTab=0,this.Math=Math,this.responseMessage=null,this.responseSuccess=!1,this.loading=!1,this.bonuses=null}return n.prototype.ngOnInit=function(){this.fetch()},n.prototype.fetch=function(){var n=this;this._service.getAllBonusesAndPenalties().subscribe(function(l){n.bonuses=l.body.bonuses})},n.prototype.catReorder=function(){this.bonuses=this.bonuses.sort(function(n,l){return n.id>l.id?1:-1})},n.prototype.catAdd=function(){this.bonuses.unshift({id:1,type:1,name:null,description:null,amount:null})},n.prototype.catRemove=function(n){this.bonuses=this.bonuses.filter(function(l){return l!=n})},n.prototype.catSave=function(){var n=this;this.loading=!0,this._service.saveBonusesAndPenalties(this.bonuses).subscribe(function(l){200==l.status&&(n.responseMessage="\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"),setTimeout(function(){n.loading=!1,n.responseMessage=null},1e3)})},n}()},lzXN:function(n,l,t){"use strict";t.d(l,"a",function(){return e}),t("+TkM");var e=function(){function n(n,l,t){this._service=n,this.route=l,this.router=t,this.responseMessage=null,this.responseSuccess=!1,this.loading=!1,this.filters={page:1,asc:0,keyword:null},this.news=[],this.tags=[],this.videos=[],this.loadedVideo=null,this.pagination=[]}return n.prototype.ngOnInit=function(){this.fetch()},n.prototype.addPost=function(){var n=this;this._service.smartMessageBox({title:"<i class='fas fa-calendar-plus txt-color-orangeDark'></i> \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c ?",buttons:"[\u041d\u0435\u0442][\u0414\u0430]"},function(l,t,e){1==e&&n._service.addPost().subscribe(function(l){200==l.status&&n.router.navigate(["/govt/settings/news/"+l.body.id])})})},n.prototype.remove=function(n){var l=this;this._service.smartMessageBox({title:"<i class='fas fa-trash txt-color-orangeDark'></i> \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c <span class='txt-color-orangeDark'><strong>#"+n.id+"</strong></span> ?",content:"&laquo;"+n.title+"&raquo;",buttons:"[\u041d\u0435\u0442][\u0414\u0430]"},function(t,e,o){1==o&&l._service.removePost(n.id).subscribe(function(t){t.error||(l.news=l.news.filter(function(l){return l.id!=n.id}))})})},n.prototype.pageChange=function(n){n!=this.filters.page&&(console.log(n),this.filters.page=n,this.fetch())},n.prototype.publish=function(n){this._service.publishPost(n.id,{publish:!n.publish}).subscribe(function(l){n.publish=!n.publish})},n.prototype.addRecipient=function(n,l){var t=$(n.target).parents(".replies").find("textarea"),e=t.val();t.val("@["+l+"] "+e).focus()},n.prototype.postMessage=function(n,l){var t={message:l.new_message,id:l.id};if(t.message.length<5)return $(n.target).parents(".chat-form").find("textarea").focus();this._service.postComment(t).subscribe(function(n){200==n.status&&(l.comments.push(n.body),l.new_message="")})},n.prototype.fetch=function(){var n=this;this._service.getAllNews(this.filters).subscribe(function(l){n.videos=l.body.videos,n.tags=l.body.tags,n.news=l.body.news.list,n.pagination=l.body.news.pagination,n.loadedVideo=n.videos.find(function(n,l){return!l})})},n}()},p9vY:function(n,l,t){"use strict";t.d(l,"a",function(){return $});var e=t("CcnG"),o=t("gIcY"),i=t("DbR8"),r=t("Bx3A"),u=t("x93B"),a=t("Ip0R"),s=t("f7q6"),c=t("5BiO"),d=t("d+NZ"),p=t("vPfJ"),h=t("OQnT"),f=t("NEdW"),g=t("3qrz"),v=t("+TkM"),m=t("ZYCi"),b=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,48,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,6,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,5,"input",[["class","form-control padding-6"],["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.name=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](15,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](17,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](18,0,null,null,18,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,21)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,21).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,22).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.from=t)&&o),o},null,null)),e["\u0275did"](21,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](22,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](24,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](26,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](27,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" \u2013 "])),(n()(),e["\u0275eld"](29,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](30,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,31)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,31).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,31)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,31)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,32).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,32).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,32).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.till=t)&&o),o},null,null)),e["\u0275did"](31,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](32,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](34,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](36,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](37,0,null,null,8,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](38,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](39,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,40)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,40).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,40)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,40)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,41).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,41).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,41).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.factor=t)&&o),o},null,null)),e["\u0275did"](40,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](41,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](43,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](45,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](46,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](47,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.ocatRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](48,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,15,0,l.context.$implicit.name),n(l,24,0,l.context.$implicit.from),n(l,34,0,l.context.$implicit.till),n(l,43,0,l.context.$implicit.factor)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,12,0,e["\u0275nov"](l,17).ngClassUntouched,e["\u0275nov"](l,17).ngClassTouched,e["\u0275nov"](l,17).ngClassPristine,e["\u0275nov"](l,17).ngClassDirty,e["\u0275nov"](l,17).ngClassValid,e["\u0275nov"](l,17).ngClassInvalid,e["\u0275nov"](l,17).ngClassPending),n(l,20,0,e["\u0275nov"](l,26).ngClassUntouched,e["\u0275nov"](l,26).ngClassTouched,e["\u0275nov"](l,26).ngClassPristine,e["\u0275nov"](l,26).ngClassDirty,e["\u0275nov"](l,26).ngClassValid,e["\u0275nov"](l,26).ngClassInvalid,e["\u0275nov"](l,26).ngClassPending),n(l,30,0,e["\u0275nov"](l,36).ngClassUntouched,e["\u0275nov"](l,36).ngClassTouched,e["\u0275nov"](l,36).ngClassPristine,e["\u0275nov"](l,36).ngClassDirty,e["\u0275nov"](l,36).ngClassValid,e["\u0275nov"](l,36).ngClassInvalid,e["\u0275nov"](l,36).ngClassPending),n(l,39,0,e["\u0275nov"](l,45).ngClassUntouched,e["\u0275nov"](l,45).ngClassTouched,e["\u0275nov"](l,45).ngClassPristine,e["\u0275nov"](l,45).ngClassDirty,e["\u0275nov"](l,45).ngClassValid,e["\u0275nov"](l,45).ngClassInvalid,e["\u0275nov"](l,45).ngClassPending)})}function C(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,"label",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"input",[["name","category1"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,2)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,2).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,2)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,2)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,3).onChange()&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,3).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.cat_calc.factor=t)&&o),o},null,null)),e["\u0275did"](2,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](3,212992,null,0,o.m,[e.Renderer2,e.ElementRef,o.r,e.Injector],{name:[0,"name"],value:[1,"value"]},null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.m]),e["\u0275did"](5,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](7,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](8,0,null,null,2,"b",[["class","h-29px"]],null,null,null,null,null)),(n()(),e["\u0275ted"](9,null,["",""])),e["\u0275pid"](0,i.a,[r.a])],function(n,l){var t=l.component;n(l,3,0,"category1",l.context.$implicit.factor),n(l,5,0,"category1",t.cat_calc.factor)},function(n,l){n(l,1,0,e["\u0275nov"](l,7).ngClassUntouched,e["\u0275nov"](l,7).ngClassTouched,e["\u0275nov"](l,7).ngClassPristine,e["\u0275nov"](l,7).ngClassDirty,e["\u0275nov"](l,7).ngClassValid,e["\u0275nov"](l,7).ngClassInvalid,e["\u0275nov"](l,7).ngClassPending),n(l,9,0,e["\u0275unv"](l,9,0,e["\u0275nov"](l,10).transform(l.context.$implicit.name)))})}function x(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,48,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,6,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,5,"input",[["class","form-control padding-6"],["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.name=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](15,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](17,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](18,0,null,null,18,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,21)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,21).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,22).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.from=t)&&o),o},null,null)),e["\u0275did"](21,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](22,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](24,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](26,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](27,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" \u2013 "])),(n()(),e["\u0275eld"](29,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](30,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,31)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,31).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,31)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,31)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,32).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,32).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,32).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.till=t)&&o),o},null,null)),e["\u0275did"](31,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](32,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](34,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](36,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](37,0,null,null,8,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](38,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](39,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","0.1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,40)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,40).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,40)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,40)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,41).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,41).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,41).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.factor=t)&&o),o},null,null)),e["\u0275did"](40,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](41,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](43,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](45,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](46,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](47,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](48,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,15,0,l.context.$implicit.name),n(l,24,0,l.context.$implicit.from),n(l,34,0,l.context.$implicit.till),n(l,43,0,l.context.$implicit.factor)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,12,0,e["\u0275nov"](l,17).ngClassUntouched,e["\u0275nov"](l,17).ngClassTouched,e["\u0275nov"](l,17).ngClassPristine,e["\u0275nov"](l,17).ngClassDirty,e["\u0275nov"](l,17).ngClassValid,e["\u0275nov"](l,17).ngClassInvalid,e["\u0275nov"](l,17).ngClassPending),n(l,20,0,e["\u0275nov"](l,26).ngClassUntouched,e["\u0275nov"](l,26).ngClassTouched,e["\u0275nov"](l,26).ngClassPristine,e["\u0275nov"](l,26).ngClassDirty,e["\u0275nov"](l,26).ngClassValid,e["\u0275nov"](l,26).ngClassInvalid,e["\u0275nov"](l,26).ngClassPending),n(l,30,0,e["\u0275nov"](l,36).ngClassUntouched,e["\u0275nov"](l,36).ngClassTouched,e["\u0275nov"](l,36).ngClassPristine,e["\u0275nov"](l,36).ngClassDirty,e["\u0275nov"](l,36).ngClassValid,e["\u0275nov"](l,36).ngClassInvalid,e["\u0275nov"](l,36).ngClassPending),n(l,39,0,e["\u0275nov"](l,45).ngClassUntouched,e["\u0275nov"](l,45).ngClassTouched,e["\u0275nov"](l,45).ngClassPristine,e["\u0275nov"](l,45).ngClassDirty,e["\u0275nov"](l,45).ngClassValid,e["\u0275nov"](l,45).ngClassInvalid,e["\u0275nov"](l,45).ngClassPending)})}function w(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,"label",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"input",[["name","category"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,2)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,2).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,2)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,2)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,3).onChange()&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,3).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.factor=t)&&o),o},null,null)),e["\u0275did"](2,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](3,212992,null,0,o.m,[e.Renderer2,e.ElementRef,o.r,e.Injector],{name:[0,"name"],value:[1,"value"]},null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.m]),e["\u0275did"](5,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](7,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](8,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),e["\u0275ted"](9,null,["",""])),e["\u0275pid"](0,i.a,[r.a])],function(n,l){var t=l.component;n(l,3,0,"category",l.context.$implicit.factor),n(l,5,0,"category",t.factor)},function(n,l){n(l,1,0,e["\u0275nov"](l,7).ngClassUntouched,e["\u0275nov"](l,7).ngClassTouched,e["\u0275nov"](l,7).ngClassPristine,e["\u0275nov"](l,7).ngClassDirty,e["\u0275nov"](l,7).ngClassValid,e["\u0275nov"](l,7).ngClassInvalid,e["\u0275nov"](l,7).ngClassPending),n(l,9,0,e["\u0275unv"](l,9,0,e["\u0275nov"](l,10).transform(l.context.$implicit.name)))})}function k(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"h4",[["class","text-center txt-color-teal fs-30 fw-700 column"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" ",""," "])),e["\u0275ppd"](2,2),(n()(),e["\u0275eld"](3,0,null,null,2,"sup",[["style","font-size:.5em;top: -.75em;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,["",""])),e["\u0275ppd"](5,2)],null,function(n,l){var t=l.component;n(l,1,0,e["\u0275unv"](l,1,0,n(l,2,0,e["\u0275nov"](l.parent,0),l.context.$implicit.v,"1.2-2")),l.context.$implicit.c),n(l,4,0,e["\u0275unv"](l,4,0,n(l,5,0,e["\u0275nov"](l.parent,0),l.context.$implicit.v*t.factor,"1.2-2")))})}function S(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"input",[["data-from","0"],["data-hasgrid","true"],["data-max","8000"],["data-min","0"],["data-min_interval","25"],["data-postfix"," MMR"],["data-step","25"],["data-to","8000"],["data-type","double"],["ionSlider",""],["type","text"]],null,[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.onSlide(t)&&e),e},null,null)),e["\u0275did"](1,81920,null,0,u.a,[e.ElementRef],null,{change:"change"})],function(n,l){n(l,1,0)},null)}function T(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,66,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,20,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,6,"input",[["class","form-control"],["step","100"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,14).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,14).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,14).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.from=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](14,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](16,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](18,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](19,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" \u2013 "])),(n()(),e["\u0275eld"](21,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](22,0,null,null,6,"input",[["class","form-control"],["step","100"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,23)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,23).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,23)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,23)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,24).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,24).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,24).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.till=t)&&o),o},null,null)),e["\u0275did"](23,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](24,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](26,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](28,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](29,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" MMR "])),(n()(),e["\u0275eld"](31,0,null,null,32,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](32,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](33,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,34)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,34).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,34)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,34)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,35).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,35).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,35).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.rub=t)&&o),o},null,null)),e["\u0275did"](34,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](35,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](37,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](39,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](40,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" RUB "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "])),(n()(),e["\u0275eld"](43,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](44,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,45)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,45).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,45)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,45)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,46).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,46).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,46).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.usd=t)&&o),o},null,null)),e["\u0275did"](45,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](46,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](48,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](50,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](51,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" USD "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "])),(n()(),e["\u0275eld"](54,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](55,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,56)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,56).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,56)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,56)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,57).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,57).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,57).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.volume=t)&&o),o},null,null)),e["\u0275did"](56,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](57,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](59,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](61,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](62,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" MMR "])),(n()(),e["\u0275eld"](64,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](65,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.boostingRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](66,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,16,0,l.context.$implicit.from),n(l,26,0,l.context.$implicit.till),n(l,37,0,l.context.$implicit.rub),n(l,48,0,l.context.$implicit.usd),n(l,59,0,l.context.$implicit.volume)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,12,0,e["\u0275nov"](l,18).ngClassUntouched,e["\u0275nov"](l,18).ngClassTouched,e["\u0275nov"](l,18).ngClassPristine,e["\u0275nov"](l,18).ngClassDirty,e["\u0275nov"](l,18).ngClassValid,e["\u0275nov"](l,18).ngClassInvalid,e["\u0275nov"](l,18).ngClassPending),n(l,22,0,e["\u0275nov"](l,28).ngClassUntouched,e["\u0275nov"](l,28).ngClassTouched,e["\u0275nov"](l,28).ngClassPristine,e["\u0275nov"](l,28).ngClassDirty,e["\u0275nov"](l,28).ngClassValid,e["\u0275nov"](l,28).ngClassInvalid,e["\u0275nov"](l,28).ngClassPending),n(l,33,0,e["\u0275nov"](l,39).ngClassUntouched,e["\u0275nov"](l,39).ngClassTouched,e["\u0275nov"](l,39).ngClassPristine,e["\u0275nov"](l,39).ngClassDirty,e["\u0275nov"](l,39).ngClassValid,e["\u0275nov"](l,39).ngClassInvalid,e["\u0275nov"](l,39).ngClassPending),n(l,44,0,e["\u0275nov"](l,50).ngClassUntouched,e["\u0275nov"](l,50).ngClassTouched,e["\u0275nov"](l,50).ngClassPristine,e["\u0275nov"](l,50).ngClassDirty,e["\u0275nov"](l,50).ngClassValid,e["\u0275nov"](l,50).ngClassInvalid,e["\u0275nov"](l,50).ngClassPending),n(l,55,0,e["\u0275nov"](l,61).ngClassUntouched,e["\u0275nov"](l,61).ngClassTouched,e["\u0275nov"](l,61).ngClassPristine,e["\u0275nov"](l,61).ngClassDirty,e["\u0275nov"](l,61).ngClassValid,e["\u0275nov"](l,61).ngClassInvalid,e["\u0275nov"](l,61).ngClassPending)})}function M(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["data-dr","1"]],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,0,0,l.context.index==t.medal_from),n(l,1,0,e["\u0275inlineInterpolate"](2,"",t._service.store_medals,"",l.context.$implicit.image,""))})}function R(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"div",[["data-dr","1"]],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,l){var t=l.component;n(l,0,0,l.context.index==t.medal_till),n(l,1,0,e["\u0275inlineInterpolate"](2,"",t._service.store_medals,"",l.context.$implicit.image,""))})}function L(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,10,"label",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,6,"input",[["name","category3"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,2)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,2).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,2)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,2)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,3).onChange()&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,3).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.factor=t)&&o),o},null,null)),e["\u0275did"](2,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](3,212992,null,0,o.m,[e.Renderer2,e.ElementRef,o.r,e.Injector],{name:[0,"name"],value:[1,"value"]},null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.m]),e["\u0275did"](5,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](7,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](8,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),e["\u0275ted"](9,null,["",""])),e["\u0275pid"](0,i.a,[r.a])],function(n,l){var t=l.component;n(l,3,0,"category3",l.context.$implicit.factor),n(l,5,0,"category3",t.factor)},function(n,l){n(l,1,0,e["\u0275nov"](l,7).ngClassUntouched,e["\u0275nov"](l,7).ngClassTouched,e["\u0275nov"](l,7).ngClassPristine,e["\u0275nov"](l,7).ngClassDirty,e["\u0275nov"](l,7).ngClassValid,e["\u0275nov"](l,7).ngClassInvalid,e["\u0275nov"](l,7).ngClassPending),n(l,9,0,e["\u0275unv"](l,9,0,e["\u0275nov"](l,10).transform(l.context.$implicit.name)))})}function I(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"h4",[["class","text-center txt-color-teal fs-30 fw-700 column"]],null,null,null,null,null)),(n()(),e["\u0275ted"](1,null,[" ",""," "])),e["\u0275ppd"](2,2),(n()(),e["\u0275eld"](3,0,null,null,2,"sup",[["style","font-size:.5em;top: -.75em;"]],null,null,null,null,null)),(n()(),e["\u0275ted"](4,null,["",""])),e["\u0275ppd"](5,2)],null,function(n,l){var t=l.component;n(l,1,0,e["\u0275unv"](l,1,0,n(l,2,0,e["\u0275nov"](l.parent,0),l.context.$implicit.v,"1.2-2")),l.context.$implicit.c),n(l,4,0,e["\u0275unv"](l,4,0,n(l,5,0,e["\u0275nov"](l.parent,0),l.context.$implicit.v*t.factor,"1.2-2")))})}function N(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,30,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,1,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275ted"](2,null,["",""])),(n()(),e["\u0275eld"](3,0,null,null,4,"td",[["class","no-padding"]],null,null,null,null,null)),(n()(),e["\u0275eld"](4,0,null,null,0,"img",[["style","width: 50px;"]],[[8,"src",4]],null,null,null,null)),(n()(),e["\u0275ted"](5,null,[" "," "])),(n()(),e["\u0275eld"](6,0,null,null,1,"sup",[],null,null,null,null,null)),(n()(),e["\u0275ted"](7,null,["",""])),(n()(),e["\u0275eld"](8,0,null,null,22,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,11)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,11).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,11)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,11)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,12).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,12).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,12).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.rub=t)&&o),o},null,null)),e["\u0275did"](11,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](12,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](14,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](16,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](17,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" RUB "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "])),(n()(),e["\u0275eld"](20,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](21,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,22)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,22).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,22)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,22)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,23).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,23).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,23).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.usd=t)&&o),o},null,null)),e["\u0275did"](22,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](23,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](25,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](27,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](28,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" USD "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "]))],function(n,l){n(l,14,0,l.context.$implicit.rub),n(l,25,0,l.context.$implicit.usd)},function(n,l){var t=l.component;n(l,2,0,l.context.index+1),n(l,4,0,e["\u0275inlineInterpolate"](2,"",t._service.store_medals,"",l.context.$implicit.image,"")),n(l,5,0,l.context.$implicit.title),n(l,7,0,l.context.$implicit.rank),n(l,10,0,e["\u0275nov"](l,16).ngClassUntouched,e["\u0275nov"](l,16).ngClassTouched,e["\u0275nov"](l,16).ngClassPristine,e["\u0275nov"](l,16).ngClassDirty,e["\u0275nov"](l,16).ngClassValid,e["\u0275nov"](l,16).ngClassInvalid,e["\u0275nov"](l,16).ngClassPending),n(l,21,0,e["\u0275nov"](l,27).ngClassUntouched,e["\u0275nov"](l,27).ngClassTouched,e["\u0275nov"](l,27).ngClassPristine,e["\u0275nov"](l,27).ngClassDirty,e["\u0275nov"](l,27).ngClassValid,e["\u0275nov"](l,27).ngClassInvalid,e["\u0275nov"](l,27).ngClassPending)})}function E(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,42,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,6,"label",[["class","input w-100"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,5,"input",[["class","form-control"],["step","100"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.name=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](15,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](17,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](18,0,null,null,21,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,21)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,21).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,22).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.rub=t)&&o),o},null,null)),e["\u0275did"](21,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](22,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](24,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](26,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](27,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" RUB "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "])),(n()(),e["\u0275eld"](30,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](31,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,32)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,32).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,32)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,32)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,33).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,33).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,33).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.usd=t)&&o),o},null,null)),e["\u0275did"](32,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](33,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](35,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](37,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](38,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" USD "])),(n()(),e["\u0275eld"](40,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](41,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.caliRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](42,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,15,0,l.context.$implicit.name),n(l,24,0,l.context.$implicit.rub),n(l,35,0,l.context.$implicit.usd)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,12,0,e["\u0275nov"](l,17).ngClassUntouched,e["\u0275nov"](l,17).ngClassTouched,e["\u0275nov"](l,17).ngClassPristine,e["\u0275nov"](l,17).ngClassDirty,e["\u0275nov"](l,17).ngClassValid,e["\u0275nov"](l,17).ngClassInvalid,e["\u0275nov"](l,17).ngClassPending),n(l,20,0,e["\u0275nov"](l,26).ngClassUntouched,e["\u0275nov"](l,26).ngClassTouched,e["\u0275nov"](l,26).ngClassPristine,e["\u0275nov"](l,26).ngClassDirty,e["\u0275nov"](l,26).ngClassValid,e["\u0275nov"](l,26).ngClassInvalid,e["\u0275nov"](l,26).ngClassPending),n(l,31,0,e["\u0275nov"](l,37).ngClassUntouched,e["\u0275nov"](l,37).ngClassTouched,e["\u0275nov"](l,37).ngClassPristine,e["\u0275nov"](l,37).ngClassDirty,e["\u0275nov"](l,37).ngClassValid,e["\u0275nov"](l,37).ngClassInvalid,e["\u0275nov"](l,37).ngClassPending)})}function D(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,43,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,8,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,6,"input",[["class","form-control"],["min","0"],["step","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,14).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,14).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,14).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.hours=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](14,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](16,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](18,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](19,0,null,null,21,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](21,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,22)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,22).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,22)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,22)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,23).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,23).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,23).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.rub=t)&&o),o},null,null)),e["\u0275did"](22,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](23,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](25,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](27,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](28,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" RUB "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "])),(n()(),e["\u0275eld"](31,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](32,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,33)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,33).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,33)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,33)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,34).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,34).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,34).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.usd=t)&&o),o},null,null)),e["\u0275did"](33,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](34,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](36,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](38,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](39,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" USD "])),(n()(),e["\u0275eld"](41,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](42,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](43,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,16,0,l.context.$implicit.hours),n(l,25,0,l.context.$implicit.rub),n(l,36,0,l.context.$implicit.usd)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,12,0,e["\u0275nov"](l,18).ngClassUntouched,e["\u0275nov"](l,18).ngClassTouched,e["\u0275nov"](l,18).ngClassPristine,e["\u0275nov"](l,18).ngClassDirty,e["\u0275nov"](l,18).ngClassValid,e["\u0275nov"](l,18).ngClassInvalid,e["\u0275nov"](l,18).ngClassPending),n(l,21,0,e["\u0275nov"](l,27).ngClassUntouched,e["\u0275nov"](l,27).ngClassTouched,e["\u0275nov"](l,27).ngClassPristine,e["\u0275nov"](l,27).ngClassDirty,e["\u0275nov"](l,27).ngClassValid,e["\u0275nov"](l,27).ngClassInvalid,e["\u0275nov"](l,27).ngClassPending),n(l,32,0,e["\u0275nov"](l,38).ngClassUntouched,e["\u0275nov"](l,38).ngClassTouched,e["\u0275nov"](l,38).ngClassPristine,e["\u0275nov"](l,38).ngClassDirty,e["\u0275nov"](l,38).ngClassValid,e["\u0275nov"](l,38).ngClassInvalid,e["\u0275nov"](l,38).ngClassPending)})}function A(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,42,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](1,0,null,null,8,"td",[["class","w-75px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,7,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,6,"input",[["class","form-control padding-6"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,4)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,4).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,4)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,5).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,5).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.id=t)&&o),o},null,null)),e["\u0275did"](4,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](5,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](7,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](9,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](10,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,6,"label",[["class","input w-100"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,5,"input",[["class","form-control"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,13)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,13).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,13)._compositionEnd(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.name=t)&&o),o},null,null)),e["\u0275did"](13,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275prd"](1024,null,o.f,function(n){return[n]},[o.d]),e["\u0275did"](15,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](17,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](18,0,null,null,21,"td",[],null,null,null,null,null)),(n()(),e["\u0275eld"](19,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](20,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,21)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,21).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,21)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,22).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,22).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.rub=t)&&o),o},null,null)),e["\u0275did"](21,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](22,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](24,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](26,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](27,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" RUB "])),(n()(),e["\u0275ted"](-1,null,[" \xa0 "])),(n()(),e["\u0275eld"](30,0,null,null,7,"label",[["class","input mw-100px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](31,0,null,null,6,"input",[["class","form-control"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0;return"input"===l&&(o=!1!==e["\u0275nov"](n,32)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,32).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,32)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,32)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,33).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,33).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,33).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(n.context.$implicit.usd=t)&&o),o},null,null)),e["\u0275did"](32,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](33,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](35,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](37,16384,null,0,o.h,[[4,o.g]],null,null),(n()(),e["\u0275eld"](38,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,[" USD "])),(n()(),e["\u0275eld"](40,0,null,null,2,"td",[["class","w-50px"]],null,null,null,null,null)),(n()(),e["\u0275eld"](41,0,null,null,1,"button",[["class","btn btn-xs btn-danger do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingServiceRemove(n.context.$implicit)&&e),e},null,null)),(n()(),e["\u0275eld"](42,0,null,null,0,"i",[["class","fas fa-trash-alt"]],null,null,null,null,null))],function(n,l){n(l,7,0,l.context.$implicit.id),n(l,15,0,l.context.$implicit.name),n(l,24,0,l.context.$implicit.rub),n(l,35,0,l.context.$implicit.usd)},function(n,l){n(l,3,0,e["\u0275nov"](l,9).ngClassUntouched,e["\u0275nov"](l,9).ngClassTouched,e["\u0275nov"](l,9).ngClassPristine,e["\u0275nov"](l,9).ngClassDirty,e["\u0275nov"](l,9).ngClassValid,e["\u0275nov"](l,9).ngClassInvalid,e["\u0275nov"](l,9).ngClassPending),n(l,12,0,e["\u0275nov"](l,17).ngClassUntouched,e["\u0275nov"](l,17).ngClassTouched,e["\u0275nov"](l,17).ngClassPristine,e["\u0275nov"](l,17).ngClassDirty,e["\u0275nov"](l,17).ngClassValid,e["\u0275nov"](l,17).ngClassInvalid,e["\u0275nov"](l,17).ngClassPending),n(l,20,0,e["\u0275nov"](l,26).ngClassUntouched,e["\u0275nov"](l,26).ngClassTouched,e["\u0275nov"](l,26).ngClassPristine,e["\u0275nov"](l,26).ngClassDirty,e["\u0275nov"](l,26).ngClassValid,e["\u0275nov"](l,26).ngClassInvalid,e["\u0275nov"](l,26).ngClassPending),n(l,31,0,e["\u0275nov"](l,37).ngClassUntouched,e["\u0275nov"](l,37).ngClassTouched,e["\u0275nov"](l,37).ngClassPristine,e["\u0275nov"](l,37).ngClassDirty,e["\u0275nov"](l,37).ngClassValid,e["\u0275nov"](l,37).ngClassInvalid,e["\u0275nov"](l,37).ngClassPending)})}function P(n){return e["\u0275vid"](0,[e["\u0275pid"](0,a.DecimalPipe,[e.LOCALE_ID]),(n()(),e["\u0275eld"](1,0,null,null,336,"div",[["class","animated fadeInUp"],["id","content"]],null,null,null,null,null)),(n()(),e["\u0275eld"](2,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](3,0,null,null,2,"sa-big-breadcrumbs",[["class","col-xs-12"],["icon","fas fa-hand-holding-usd"]],null,null,null,s.b,s.a)),e["\u0275did"](4,114688,null,0,c.a,[a.Location],{icon:[0,"icon"],items:[1,"items"]},null),e["\u0275pad"](5,2),(n()(),e["\u0275eld"](6,0,null,null,331,"div",[],null,null,null,null,null)),(n()(),e["\u0275eld"](7,0,null,null,330,"div",[["class","row"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,329,"article",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(n()(),e["\u0275eld"](9,0,null,null,328,"div",[["class","well"],["sa-widget",""]],null,null,null,null,null)),(n()(),e["\u0275eld"](10,0,null,null,327,"div",[["class","active-order-holder user-edit"]],null,null,null,null,null)),(n()(),e["\u0275eld"](11,0,null,null,326,"div",[["class","widget-body no-padding"]],null,null,null,null,null)),(n()(),e["\u0275eld"](12,0,null,null,325,"div",[["class","well"]],null,null,null,null,null)),(n()(),e["\u0275eld"](13,0,null,null,324,"div",[["class","row"],["style","margin:0;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](14,0,null,null,323,"article",[["class","col-xs-12 margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](15,0,null,null,322,"div",[["class","widget-body"]],null,null,null,null,null)),(n()(),e["\u0275eld"](16,0,null,null,30,"ul",[["class","nav nav-tabs bordered"],["id","myTab1"]],null,null,null,null,null)),(n()(),e["\u0275eld"](17,0,null,null,4,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](18,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.activeTab=5)&&e),e},null,null)),(n()(),e["\u0275eld"](19,0,null,null,0,"i",[["class","fas fa-fw fa-lg fa-shopping-cart"]],null,null,null,null,null)),(n()(),e["\u0275ted"](20,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](22,0,null,null,4,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](23,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.activeTab=0)&&e),e},null,null)),(n()(),e["\u0275eld"](24,0,null,null,0,"i",[["class","fas fa-fw fa-lg fa-users"]],null,null,null,null,null)),(n()(),e["\u0275ted"](25,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](27,0,null,null,4,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](28,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.activeTab=1)&&e),e},null,null)),(n()(),e["\u0275eld"](29,0,null,null,0,"i",[["class","fas fa-fw fa-lg fa-cog"]],null,null,null,null,null)),(n()(),e["\u0275ted"](30,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](32,0,null,null,4,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](33,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.activeTab=2)&&e),e},null,null)),(n()(),e["\u0275eld"](34,0,null,null,0,"i",[["class","fas fa-fw fa-lg fa-cog"]],null,null,null,null,null)),(n()(),e["\u0275ted"](35,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](37,0,null,null,4,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](38,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.activeTab=3)&&e),e},null,null)),(n()(),e["\u0275eld"](39,0,null,null,0,"i",[["class","fas fa-fw fa-lg fa-cog"]],null,null,null,null,null)),(n()(),e["\u0275ted"](40,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](42,0,null,null,4,"li",[],[[2,"active",null]],null,null,null,null)),(n()(),e["\u0275eld"](43,0,null,null,3,"a",[],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==(n.component.activeTab=4)&&e),e},null,null)),(n()(),e["\u0275eld"](44,0,null,null,0,"i",[["class","fas fa-fw fa-lg fa-cog"]],null,null,null,null,null)),(n()(),e["\u0275ted"](45,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](47,0,null,null,290,"tabset",[["class","padding-10"]],[[2,"tab-container",null]],null,null,d.b,d.a)),e["\u0275did"](48,180224,null,0,p.a,[h.a,e.Renderer2],null,null),(n()(),e["\u0275eld"](49,0,null,0,29,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e["\u0275did"](50,212992,null,0,f.a,[p.a,e.ElementRef,e.Renderer2],{active:[0,"active"]},null),(n()(),e["\u0275eld"](51,0,null,null,21,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](52,0,null,null,20,"table",[["class","table table-hover table-bordered table-prices td-h-auto"]],null,null,null,null,null)),(n()(),e["\u0275eld"](53,0,null,null,16,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](54,0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](55,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](56,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.ocatReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](57,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](58,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](59,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](61,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](62,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](64,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](65,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](67,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](68,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.ocatAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](69,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275eld"](70,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,y)),e["\u0275did"](72,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](73,0,null,null,5,"div",[["class","smart-form margin-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](74,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](75,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.ocatSave()&&e),e},null,null)),(n()(),e["\u0275eld"](76,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](77,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](79,0,null,0,58,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e["\u0275did"](80,212992,null,0,f.a,[p.a,e.ElementRef,e.Renderer2],{active:[0,"active"]},null),(n()(),e["\u0275eld"](81,0,null,null,50,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](82,0,null,null,49,"table",[["class","table table-hover table-bordered table-prices td-h-auto"]],null,null,null,null,null)),(n()(),e["\u0275eld"](83,0,null,null,45,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](84,0,null,null,28,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](85,0,null,null,27,"td",[["colspan","5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](86,0,null,null,26,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275eld"](87,0,null,null,3,"div",[["class","column shrink"]],null,null,null,null,null)),(n()(),e["\u0275eld"](88,0,null,null,2,"h4",[["class","fs-21 fw-500 lh-30 padding-0-10"]],null,null,null,null,null)),(n()(),e["\u0275ted"](89,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](91,0,null,null,3,"div",[["class","column shrink"]],null,null,null,null,null)),(n()(),e["\u0275eld"](92,0,null,null,2,"div",[["class","radio-select"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,C)),e["\u0275did"](94,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](95,0,null,null,9,"div",[["class","column shrink"]],null,null,null,null,null)),(n()(),e["\u0275eld"](96,0,null,null,8,"label",[["class","input"]],null,null,null,null,null)),(n()(),e["\u0275eld"](97,0,null,null,7,"input",[["class","form-control h-29px"],["step","100"],["type","number"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var o=!0,i=n.component;return"input"===l&&(o=!1!==e["\u0275nov"](n,98)._handleInput(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,98).onTouched()&&o),"compositionstart"===l&&(o=!1!==e["\u0275nov"](n,98)._compositionStart()&&o),"compositionend"===l&&(o=!1!==e["\u0275nov"](n,98)._compositionEnd(t.target.value)&&o),"change"===l&&(o=!1!==e["\u0275nov"](n,99).onChange(t.target.value)&&o),"input"===l&&(o=!1!==e["\u0275nov"](n,99).onChange(t.target.value)&&o),"blur"===l&&(o=!1!==e["\u0275nov"](n,99).onTouched()&&o),"ngModelChange"===l&&(o=!1!==(i.cat_calc.price=t)&&o),o},null,null)),e["\u0275did"](98,16384,null,0,o.d,[e.Renderer2,e.ElementRef,[2,o.a]],null,null),e["\u0275did"](99,16384,null,0,o.p,[e.Renderer2,e.ElementRef],null,null),e["\u0275prd"](1024,null,o.f,function(n,l){return[n,l]},[o.d,o.p]),e["\u0275did"](101,671744,null,0,o.k,[[8,null],[8,null],[8,null],[6,o.f]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,o.g,null,[o.k]),e["\u0275did"](103,16384,null,0,o.h,[[4,o.g]],null,null),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](105,0,null,null,7,"div",[["class","column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](106,0,null,null,6,"h4",[["class","text-center txt-color-teal fs-30 fw-700"]],null,null,null,null,null)),(n()(),e["\u0275eld"](107,0,null,null,3,"small",[["class","txt-color-teal fs-12"]],null,null,null,null,null)),(n()(),e["\u0275ted"](108,null,[""," * "," "])),e["\u0275ppd"](109,2),e["\u0275ppd"](110,2),(n()(),e["\u0275ted"](111,null,["\xa0 "," "])),e["\u0275ppd"](112,2),(n()(),e["\u0275eld"](113,0,null,null,15,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](114,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](115,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](116,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](117,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](118,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](120,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](121,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](123,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](124,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](126,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](127,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](128,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275eld"](129,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,x)),e["\u0275did"](131,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](132,0,null,null,5,"div",[["class","smart-form margin-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](133,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](134,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.catSave()&&e),e},null,null)),(n()(),e["\u0275eld"](135,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](136,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](138,0,null,0,45,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e["\u0275did"](139,212992,null,0,f.a,[p.a,e.ElementRef,e.Renderer2],{active:[0,"active"]},null),(n()(),e["\u0275eld"](140,0,null,null,37,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](141,0,null,null,36,"table",[["class","table table-hover table-bordered table-prices td-h-auto"]],null,null,null,null,null)),(n()(),e["\u0275eld"](142,0,null,null,32,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](143,0,null,null,18,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](144,0,null,null,17,"td",[["colspan","4"]],null,null,null,null,null)),(n()(),e["\u0275eld"](145,0,null,null,12,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275eld"](146,0,null,null,3,"div",[["class","column shrink"]],null,null,null,null,null)),(n()(),e["\u0275eld"](147,0,null,null,2,"h4",[["class","fs-21 fw-500 lh-30 padding-0-10"]],null,null,null,null,null)),(n()(),e["\u0275ted"](148,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](150,0,null,null,3,"div",[["class","column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](151,0,null,null,2,"div",[["class","radio-select"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,w)),e["\u0275did"](153,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](154,0,null,null,3,"div",[["class","column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](155,0,null,null,2,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,k)),e["\u0275did"](157,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](158,0,null,null,3,"div",[["class","margin-top-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](159,0,null,null,2,"div",[["class","form-group"],["style","padding: 0px 10px;"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,S)),e["\u0275did"](161,16384,null,0,a.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275eld"](162,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](163,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](164,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.boostingReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](165,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](166,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](167,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](169,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](170,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](172,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](173,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.boostingAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](174,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275eld"](175,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,T)),e["\u0275did"](177,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](178,0,null,null,5,"div",[["class","smart-form margin-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](179,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](180,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.boostingSave()&&e),e},null,null)),(n()(),e["\u0275eld"](181,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](182,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](184,0,null,0,64,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e["\u0275did"](185,212992,null,0,f.a,[p.a,e.ElementRef,e.Renderer2],{active:[0,"active"]},null),(n()(),e["\u0275eld"](186,0,null,null,56,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](187,0,null,null,55,"table",[["class","table table-hover table-bordered table-prices td-h-auto"]],null,null,null,null,null)),(n()(),e["\u0275eld"](188,0,null,null,51,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](189,0,null,null,41,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](190,0,null,null,40,"th",[["colspan","3"]],null,null,null,null,null)),(n()(),e["\u0275eld"](191,0,null,null,39,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275eld"](192,0,null,null,26,"div",[["class","column shrink"]],null,null,null,null,null)),(n()(),e["\u0275eld"](193,0,null,null,25,"div",[["class","medals-selector no-margin"]],null,null,null,null,null)),(n()(),e["\u0275eld"](194,0,null,null,11,"div",[["class","item"]],null,null,null,null,null)),(n()(),e["\u0275eld"](195,0,null,null,10,"div",[["class","medal le-dr-selector"]],null,null,null,null,null)),(n()(),e["\u0275eld"](196,0,null,null,9,"div",[["class","medal-rank driven"]],null,null,null,null,null)),(n()(),e["\u0275eld"](197,0,null,null,3,"div",[["class","list"]],null,null,null,null,null)),(n()(),e["\u0275eld"](198,0,null,null,2,"div",[["class","active"],["data-le","1"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,M)),e["\u0275did"](200,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](201,0,null,null,4,"div",[["class","controlls"]],null,null,null,null,null)),(n()(),e["\u0275eld"](202,0,null,null,1,"span",[["class","prev"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(o.medal_from=o.medal_from>0?o.medal_from-1:(null==o.pricelists.medal_boost?null:o.pricelists.medal_boost.length)-1,e=!1!==o.medalPrice()&&e),e},null,null)),(n()(),e["\u0275eld"](203,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null)),(n()(),e["\u0275eld"](204,0,null,null,1,"span",[["class","next"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(o.medal_from=o.medal_from<(null==o.pricelists.medal_boost?null:o.pricelists.medal_boost.length)-1?o.medal_from+1:0,e=!1!==o.medalPrice()&&e),e},null,null)),(n()(),e["\u0275eld"](205,0,null,null,0,"i",[["class","fas fa-chevron-right"]],null,null,null,null,null)),(n()(),e["\u0275eld"](206,0,null,null,0,"i",[["class","fas fa-chevron-right hidden-xs hidden-sm"],["style","line-height: 64px;"]],null,null,null,null,null)),(n()(),e["\u0275eld"](207,0,null,null,11,"div",[["class","item"]],null,null,null,null,null)),(n()(),e["\u0275eld"](208,0,null,null,10,"div",[["class","medal le-dr-selector"]],null,null,null,null,null)),(n()(),e["\u0275eld"](209,0,null,null,9,"div",[["class","medal-rank driven"]],null,null,null,null,null)),(n()(),e["\u0275eld"](210,0,null,null,3,"div",[["class","list"]],null,null,null,null,null)),(n()(),e["\u0275eld"](211,0,null,null,2,"div",[["class","active"],["data-le","1"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,R)),e["\u0275did"](213,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](214,0,null,null,4,"div",[["class","controlls"]],null,null,null,null,null)),(n()(),e["\u0275eld"](215,0,null,null,1,"span",[["class","prev"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(o.medal_till=o.medal_till>0?o.medal_till-1:(null==o.pricelists.medal_boost?null:o.pricelists.medal_boost.length)-1,e=!1!==o.medalPrice()&&e),e},null,null)),(n()(),e["\u0275eld"](216,0,null,null,0,"i",[["class","fas fa-chevron-left"]],null,null,null,null,null)),(n()(),e["\u0275eld"](217,0,null,null,1,"span",[["class","next"]],null,[[null,"click"]],function(n,l,t){var e=!0,o=n.component;return"click"===l&&(o.medal_till=o.medal_till<(null==o.pricelists.medal_boost?null:o.pricelists.medal_boost.length)-1?o.medal_till+1:0,e=!1!==o.medalPrice()&&e),e},null,null)),(n()(),e["\u0275eld"](218,0,null,null,0,"i",[["class","fas fa-chevron-right"]],null,null,null,null,null)),(n()(),e["\u0275eld"](219,0,null,null,3,"div",[["class","column shrink"]],null,null,null,null,null)),(n()(),e["\u0275eld"](220,0,null,null,2,"h4",[["class","fs-21 fw-500 lh-30 padding-0-10"]],null,null,null,null,null)),(n()(),e["\u0275ted"](221,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](223,0,null,null,3,"div",[["class","column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](224,0,null,null,2,"div",[["class","radio-select"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,L)),e["\u0275did"](226,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](227,0,null,null,3,"div",[["class","column"]],null,null,null,null,null)),(n()(),e["\u0275eld"](228,0,null,null,2,"div",[["class","flex"]],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,I)),e["\u0275did"](230,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](231,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](232,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["#"])),(n()(),e["\u0275eld"](234,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](235,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](237,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](238,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](240,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,N)),e["\u0275did"](242,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](243,0,null,null,5,"div",[["class","smart-form margin-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](244,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](245,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.medalSave()&&e),e},null,null)),(n()(),e["\u0275eld"](246,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](247,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](249,0,null,0,26,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e["\u0275did"](250,212992,null,0,f.a,[p.a,e.ElementRef,e.Renderer2],{active:[0,"active"]},null),(n()(),e["\u0275eld"](251,0,null,null,18,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](252,0,null,null,17,"table",[["class","table table-hover table-bordered table-prices td-h-auto"]],null,null,null,null,null)),(n()(),e["\u0275eld"](253,0,null,null,13,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](254,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](255,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](256,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.caliReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](257,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](258,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](259,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](261,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](262,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](264,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](265,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.caliAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](266,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275eld"](267,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,E)),e["\u0275did"](269,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](270,0,null,null,5,"div",[["class","smart-form margin-top-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](271,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](272,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.caliSave()&&e),e},null,null)),(n()(),e["\u0275eld"](273,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](274,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](276,0,null,0,61,"tab",[],[[1,"id",0],[2,"active",null],[2,"tab-pane",null]],null,null,null,null)),e["\u0275did"](277,212992,null,0,f.a,[p.a,e.ElementRef,e.Renderer2],{active:[0,"active"]},null),(n()(),e["\u0275eld"](278,0,null,null,29,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](279,0,null,null,22,"table",[["class","table table-hover table-bordered table-prices td-h-auto margin-bottom-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](280,0,null,null,18,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](281,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](282,0,null,null,3,"th",[["colspan","4"]],null,null,null,null,null)),(n()(),e["\u0275eld"](283,0,null,null,2,"span",[["class","fs-16 txt-color-teal"]],null,null,null,null,null)),(n()(),e["\u0275ted"](284,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](286,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](287,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](288,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](289,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](290,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](291,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](293,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](294,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](296,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](297,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](298,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275eld"](299,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,D)),e["\u0275did"](301,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](302,0,null,null,5,"div",[["class","smart-form margin-bottom-10"]],null,null,null,null,null)),(n()(),e["\u0275eld"](303,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](304,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingSave()&&e),e},null,null)),(n()(),e["\u0275eld"](305,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](306,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](308,0,null,null,29,"article",[],null,null,null,null,null)),(n()(),e["\u0275eld"](309,0,null,null,22,"table",[["class","table table-hover table-bordered table-prices td-h-auto margin-bottom-5"]],null,null,null,null,null)),(n()(),e["\u0275eld"](310,0,null,null,18,"thead",[],null,null,null,null,null)),(n()(),e["\u0275eld"](311,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](312,0,null,null,3,"th",[["colspan","4"]],null,null,null,null,null)),(n()(),e["\u0275eld"](313,0,null,null,2,"span",[["class","fs-16 txt-color-teal"]],null,null,null,null,null)),(n()(),e["\u0275ted"](314,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](316,0,null,null,12,"tr",[],null,null,null,null,null)),(n()(),e["\u0275eld"](317,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](318,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingServiceReorder()&&e),e},null,null)),(n()(),e["\u0275eld"](319,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(n()(),e["\u0275eld"](320,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](321,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](323,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275ted"](324,null,["",""])),e["\u0275pid"](0,i.a,[r.a]),(n()(),e["\u0275eld"](326,0,null,null,2,"th",[],null,null,null,null,null)),(n()(),e["\u0275eld"](327,0,null,null,1,"button",[["class","btn btn-xs btn-primary do-order-btn"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingServiceAdd()&&e),e},null,null)),(n()(),e["\u0275eld"](328,0,null,null,0,"i",[["class","fas fa-plus"]],null,null,null,null,null)),(n()(),e["\u0275eld"](329,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e["\u0275and"](16777216,null,null,1,null,A)),e["\u0275did"](331,802816,null,0,a.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](332,0,null,null,5,"div",[["class","smart-form"]],null,null,null,null,null)),(n()(),e["\u0275eld"](333,0,null,null,4,"footer",[],null,null,null,null,null)),(n()(),e["\u0275eld"](334,0,null,null,3,"button",[["class","btn btn-success"],["type","button"]],[[2,"loading",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.trainingServiceSave()&&e),e},null,null)),(n()(),e["\u0275eld"](335,0,null,null,0,"i",[["class","fas"]],[[2,"fa-sync-alt",null],[2,"fa-check",null]],null,null,null,null)),(n()(),e["\u0275ted"](336,null,[" "," "])),e["\u0275pid"](0,i.a,[r.a])],function(n,l){var t=l.component;n(l,4,0,"fas fa-hand-holding-usd",n(l,5,0,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","\u041f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442\u044b")),n(l,50,0,5==t.activeTab),n(l,72,0,t.order_categories),n(l,80,0,0==t.activeTab),n(l,94,0,t.categories),n(l,101,0,t.cat_calc.price),n(l,131,0,t.categories),n(l,139,0,1==t.activeTab),n(l,153,0,t.categories),n(l,157,0,t.boosting_prices),n(l,161,0,null==t.pricelists.boosting?null:t.pricelists.boosting.length),n(l,177,0,t.pricelists.boosting),n(l,185,0,2==t.activeTab),n(l,200,0,t.pricelists.medal_boost),n(l,213,0,t.pricelists.medal_boost),n(l,226,0,t.categories),n(l,230,0,t.medal_price),n(l,242,0,t.pricelists.medal_boost),n(l,250,0,3==t.activeTab),n(l,269,0,t.pricelists.calibration),n(l,277,0,4==t.activeTab),n(l,301,0,t.pricelists.training),n(l,331,0,t.pricelists.training_services)},function(n,l){var t=l.component;n(l,17,0,5==t.activeTab),n(l,20,0,e["\u0275unv"](l,20,0,e["\u0275nov"](l,21).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"))),n(l,22,0,0==t.activeTab),n(l,25,0,e["\u0275unv"](l,25,0,e["\u0275nov"](l,26).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0438 \u0431\u0443\u0441\u0442\u0435\u0440\u043e\u0432"))),n(l,27,0,1==t.activeTab),n(l,30,0,e["\u0275unv"](l,30,0,e["\u0275nov"](l,31).transform("\u0411\u0443\u0441\u0442 MMR"))),n(l,32,0,2==t.activeTab),n(l,35,0,e["\u0275unv"](l,35,0,e["\u0275nov"](l,36).transform("\u0411\u0443\u0441\u0442 \u043c\u0435\u0434\u0430\u043b\u0438"))),n(l,37,0,3==t.activeTab),n(l,40,0,e["\u0275unv"](l,40,0,e["\u0275nov"](l,41).transform("\u041a\u0430\u043b\u0438\u0431\u0440\u043e\u0432\u043a\u0430"))),n(l,42,0,4==t.activeTab),n(l,45,0,e["\u0275unv"](l,45,0,e["\u0275nov"](l,46).transform("\u0422\u0440\u0435\u043d\u0438\u043d\u0433"))),n(l,47,0,e["\u0275nov"](l,48).clazz),n(l,49,0,e["\u0275nov"](l,50).id,e["\u0275nov"](l,50).active,e["\u0275nov"](l,50).addClass),n(l,59,0,e["\u0275unv"](l,59,0,e["\u0275nov"](l,60).transform("\u0413\u0440\u0443\u043f\u043f\u0430"))),n(l,62,0,e["\u0275unv"](l,62,0,e["\u0275nov"](l,63).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433"))),n(l,65,0,e["\u0275unv"](l,65,0,e["\u0275nov"](l,66).transform("\u041a\u043e\u044d\u0444. \u043e\u043f\u043b\u0430\u0442\u044b"))),n(l,75,0,t.loading),n(l,76,0,t.loading,!t.loading),n(l,77,0,e["\u0275unv"](l,77,0,e["\u0275nov"](l,78).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,79,0,e["\u0275nov"](l,80).id,e["\u0275nov"](l,80).active,e["\u0275nov"](l,80).addClass),n(l,89,0,e["\u0275unv"](l,89,0,e["\u0275nov"](l,90).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433"))),n(l,97,0,e["\u0275inlineInterpolate"](1,"",e["\u0275unv"](l,97,0,e["\u0275nov"](l,104).transform("\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0430")),""),e["\u0275nov"](l,103).ngClassUntouched,e["\u0275nov"](l,103).ngClassTouched,e["\u0275nov"](l,103).ngClassPristine,e["\u0275nov"](l,103).ngClassDirty,e["\u0275nov"](l,103).ngClassValid,e["\u0275nov"](l,103).ngClassInvalid,e["\u0275nov"](l,103).ngClassPending),n(l,108,0,e["\u0275unv"](l,108,0,n(l,109,0,e["\u0275nov"](l,0),t.cat_calc.price,"1.2-2")),e["\u0275unv"](l,108,1,n(l,110,0,e["\u0275nov"](l,0),t.cat_calc.factor,"1.1-1"))),n(l,111,0,e["\u0275unv"](l,111,0,n(l,112,0,e["\u0275nov"](l,0),t.cat_calc.factor*t.cat_calc.price,"1.2-2"))),n(l,118,0,e["\u0275unv"](l,118,0,e["\u0275nov"](l,119).transform("\u0413\u0440\u0443\u043f\u043f\u0430"))),n(l,121,0,e["\u0275unv"](l,121,0,e["\u0275nov"](l,122).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433"))),n(l,124,0,e["\u0275unv"](l,124,0,e["\u0275nov"](l,125).transform("\u041a\u043e\u044d\u0444. \u043e\u043f\u043b\u0430\u0442\u044b"))),n(l,134,0,t.loading),n(l,135,0,t.loading,!t.loading),n(l,136,0,e["\u0275unv"](l,136,0,e["\u0275nov"](l,137).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,138,0,e["\u0275nov"](l,139).id,e["\u0275nov"](l,139).active,e["\u0275nov"](l,139).addClass),n(l,148,0,e["\u0275unv"](l,148,0,e["\u0275nov"](l,149).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433"))),n(l,167,0,e["\u0275unv"](l,167,0,e["\u0275nov"](l,168).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433"))),n(l,170,0,e["\u0275unv"](l,170,0,e["\u0275nov"](l,171).transform("\u0426\u0435\u043d\u0430"))),n(l,180,0,t.loading),n(l,181,0,t.loading,!t.loading),n(l,182,0,e["\u0275unv"](l,182,0,e["\u0275nov"](l,183).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,184,0,e["\u0275nov"](l,185).id,e["\u0275nov"](l,185).active,e["\u0275nov"](l,185).addClass),n(l,221,0,e["\u0275unv"](l,221,0,e["\u0275nov"](l,222).transform("\u0420\u0435\u0439\u0442\u0438\u043d\u0433"))),n(l,235,0,e["\u0275unv"](l,235,0,e["\u0275nov"](l,236).transform("\u041c\u0435\u0434\u0430\u043b\u044c"))),n(l,238,0,e["\u0275unv"](l,238,0,e["\u0275nov"](l,239).transform("\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"))),n(l,245,0,t.loading),n(l,246,0,t.loading,!t.loading),n(l,247,0,e["\u0275unv"](l,247,0,e["\u0275nov"](l,248).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,249,0,e["\u0275nov"](l,250).id,e["\u0275nov"](l,250).active,e["\u0275nov"](l,250).addClass),n(l,259,0,e["\u0275unv"](l,259,0,e["\u0275nov"](l,260).transform("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"))),n(l,262,0,e["\u0275unv"](l,262,0,e["\u0275nov"](l,263).transform("\u0426\u0435\u043d\u0430"))),n(l,272,0,t.loading),n(l,273,0,t.loading,!t.loading),n(l,274,0,e["\u0275unv"](l,274,0,e["\u0275nov"](l,275).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,276,0,e["\u0275nov"](l,277).id,e["\u0275nov"](l,277).active,e["\u0275nov"](l,277).addClass),n(l,284,0,e["\u0275unv"](l,284,0,e["\u0275nov"](l,285).transform("\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0433\u0440\u043e\u0432\u044b\u0445 \u0447\u0430\u0441\u043e\u0432"))),n(l,291,0,e["\u0275unv"](l,291,0,e["\u0275nov"](l,292).transform("\u041a\u043e\u043b-\u0432\u043e \u0447\u0430\u0441\u043e\u0432"))),n(l,294,0,e["\u0275unv"](l,294,0,e["\u0275nov"](l,295).transform("\u0426\u0435\u043d\u0430"))),n(l,304,0,t.loading),n(l,305,0,t.loading,!t.loading),n(l,306,0,e["\u0275unv"](l,306,0,e["\u0275nov"](l,307).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))),n(l,314,0,e["\u0275unv"](l,314,0,e["\u0275nov"](l,315).transform("\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"))),n(l,321,0,e["\u0275unv"](l,321,0,e["\u0275nov"](l,322).transform("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"))),n(l,324,0,e["\u0275unv"](l,324,0,e["\u0275nov"](l,325).transform("\u0426\u0435\u043d\u0430"))),n(l,334,0,t.loading),n(l,335,0,t.loading,!t.loading),n(l,336,0,e["\u0275unv"](l,336,0,e["\u0275nov"](l,337).transform(t.responseMessage?t.responseMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))})}var $=e["\u0275ccf"]("pricelists-edit",g.a,function(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"pricelists-edit",[],null,null,null,P,b)),e["\u0275did"](1,114688,null,0,g.a,[v.a,m.a,m.n],null,null)],function(n,l){n(l,1,0)},null)},{},{},[])}}]);